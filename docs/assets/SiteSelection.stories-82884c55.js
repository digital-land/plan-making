import{h as Wt,p as ic,F as Kt}from"./hooks.module-10a4f742.js";import{A as Rs,a as oc}from"./utils-de34cd27.js";import{o as O}from"./jsxRuntime.module-8e7d8b33.js";import{g as ac,a as Oe}from"./_commonjsHelpers-de833af9.js";import{M as uc,Q as cc,a as lc}from"./MapComponent-7fbfb6b2.js";import"./preact.module-4f38c496.js";import"./compat.module-b1a3416f.js";import"./MapContainer-da5b9a82.js";const fc=({value:t,onChange:e})=>O("div",{className:"flex items-center",children:O("label",{className:"font-semibold flex",children:O("input",{type:"checkbox",class:"checkbox mr-2",checked:t,onClick:()=>e(!t)})})}),Ps=({value:t,type:e,step:r,min:n,max:s,onChange:i})=>{const o=c=>{i(e==="number"?parseFloat(c):c)},a=O("div",{className:"flex items-center my-8",children:O("label",{className:"font-semibold flex",children:O("input",{type:e,class:"text mr-2 border-2 border-black py-1 px-2",value:t,onChange:c=>o(c.currentTarget.value),step:r,min:n,max:s})})});return O("div",{children:a})},dc=({options:t,value:e,onChange:r})=>{const n=t.map(s=>O("div",{className:"flex items-center mb-4",children:O("label",{className:"font-semibold flex",children:[O("input",{type:"radio",class:"radio mr-2",checked:e===s.value,onClick:()=>r(s.value)}),O("span",{children:s.label})]})},s.value));return O("div",{children:n})},hc=({options:t,values:e=[],onChange:r})=>{if(!t.length)return null;const n=(i,o)=>{r(o?[...e,i]:e.filter(a=>a!==i))},s=t.map(i=>{const o=e.includes(i);return O("div",{className:"flex items-center mb-4",children:O("label",{className:"font-semibold flex",children:[O("input",{type:"checkbox",class:"checkbox mr-2",checked:o,onClick:()=>n(i,!o)}),O("span",{children:i})]})},i)});return O("div",{children:s})};function Xe(t){this._maxSize=t,this.clear()}Xe.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Xe.prototype.get=function(t){return this._values[t]};Xe.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var pc=/[^.^\]^[]+|(?=\[\]|\.\.)/g,aa=/^\d+$/,yc=/^\d/,gc=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,mc=/^\s*(['"]?)(.*?)(\1)\s*$/,ns=512,Fs=new Xe(ns),Bs=new Xe(ns),ks=new Xe(ns),We={Cache:Xe,split:xn,normalizePath:Tr,setter:function(t){var e=Tr(t);return Bs.get(t)||Bs.set(t,function(n,s){for(var i=0,o=e.length,a=n;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var r=Tr(t);return ks.get(t)||ks.set(t,function(s){for(var i=0,o=r.length;i<o;)if(s!=null||!e)s=s[r[i++]];else return;return s})},join:function(t){return t.reduce(function(e,r){return e+(ss(r)||aa.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){bc(Array.isArray(t)?t:xn(t),e,r)}};function Tr(t){return Fs.get(t)||Fs.set(t,xn(t).map(function(e){return e.replace(mc,"$2")}))}function xn(t){return t.match(pc)||[""]}function bc(t,e,r){var n=t.length,s,i,o,a;for(i=0;i<n;i++)s=t[i],s&&(_c(s)&&(s='"'+s+'"'),a=ss(s),o=!a&&/^\d+$/.test(s),e.call(r,s,a,o,i,t))}function ss(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function wc(t){return t.match(yc)&&!t.match(aa)}function xc(t){return gc.test(t)}function _c(t){return!ss(t)&&(wc(t)||xc(t))}const vc=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,mr=t=>t.match(vc)||[],br=t=>t[0].toUpperCase()+t.slice(1),is=(t,e)=>mr(t).join(e).toLowerCase(),ua=t=>mr(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Ec=t=>br(ua(t)),Sc=t=>is(t,"_"),Ac=t=>is(t,"-"),Cc=t=>br(is(t," ")),Tc=t=>mr(t).map(br).join(" ");var Or={words:mr,upperFirst:br,camelCase:ua,pascalCase:Ec,snakeCase:Sc,kebabCase:Ac,sentenceCase:Cc,titleCase:Tc},os={exports:{}};os.exports=function(t){return ca(Oc(t),t)};os.exports.array=ca;function ca(t,e){var r=t.length,n=new Array(r),s={},i=r,o=Rc(e),a=Pc(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return n;function c(u,l,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[l]){s[l]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),l=p.length){d.add(u);do{var g=p[--l];c(g,a.get(g),d)}while(l);d.delete(u)}n[--r]=u}}}function Oc(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var s=t[r];e.add(s[0]),e.add(s[1])}return Array.from(e)}function Rc(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var s=t[r];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Pc(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var Fc=os.exports;const Bc=ac(Fc),kc=Object.prototype.toString,$c=Error.prototype.toString,Nc=RegExp.prototype.toString,Dc=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Mc=/^Symbol\((.*)\)(.*)$/;function Ic(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $s(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Ic(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Dc.call(t).replace(Mc,"Symbol($1)");const n=kc.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+$c.call(t)+"]":n==="RegExp"?Nc.call(t):null}function Ke(t,e){let r=$s(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let i=$s(this[n],e);return i!==null?i:s},2)}function la(t){return t==null?[]:[].concat(t)}let Uc=/\$\{\s*(\w+)\s*\}/g;class fe extends Error{static formatError(e,r){const n=r.label||r.path||"this";return n!==r.path&&(r=Object.assign({},r,{path:n})),typeof e=="string"?e.replace(Uc,(s,i)=>Ke(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],la(e).forEach(i=>{fe.isError(i)?(this.errors.push(...i.errors),this.inner=this.inner.concat(i.inner.length?i.inner:i)):this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,fe)}}let Ce={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${Ke(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ke(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ke(r,!0)}\``+s}},we={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},De={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},_n={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},vn={isValue:"${path} field must be ${value}"},En={noUnknown:"${path} field has unspecified keys: ${unknown}"},ir={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Ce,string:we,number:De,date:_n,object:En,array:ir,boolean:vn});const wr=t=>t&&t.__isYupSchema__;class ar{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(c=>c===n);return new ar(e,(a,c)=>{var u;let l=o(...a)?s:i;return(u=l==null?void 0:l(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!wr(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Zt={context:"$",value:"."};class Ye{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Zt.context,this.isValue=this.key[0]===Zt.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Zt.context:this.isValue?Zt.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&We.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Ye.prototype.__isYupRef=!0;const _e=t=>t==null;function tt(t){function e({value:r,path:n="",options:s,originalValue:i,schema:o},a,c){const{name:u,test:l,params:d,message:f,skipAbsent:p}=t;let{parent:g,context:b,abortEarly:E=o.spec.abortEarly}=s;function H(z){return Ye.isRef(z)?z.getValue(r,g,b):z}function U(z={}){const et=Object.assign({value:r,originalValue:i,label:o.spec.label,path:z.path||n,spec:o.spec},d,z.params);for(const Os of Object.keys(et))et[Os]=H(et[Os]);const Ts=new fe(fe.formatError(z.message||f,et),r,et.path,z.type||u);return Ts.params=et,Ts}const ye=E?a:c;let me={path:n,parent:g,type:u,from:s.from,createError:U,resolve:H,options:s,originalValue:i,schema:o};const Je=z=>{fe.isError(z)?ye(z):z?c(null):ye(U())},lt=z=>{fe.isError(z)?ye(z):a(z)},As=p&&_e(r);if(!s.sync){try{Promise.resolve(As?!0:l.call(me,r,me)).then(Je,lt)}catch(z){lt(z)}return}let Cr;try{var Cs;if(Cr=As?!0:l.call(me,r,me),typeof((Cs=Cr)==null?void 0:Cs.then)=="function")throw new Error(`Validation test of type: "${me.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(z){lt(z);return}Je(Cr)}return e.OPTIONS=t,e}function jc(t,e,r,n=r){let s,i,o;return e?(We.forEach(e,(a,c,u)=>{let l=c?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:s,value:r});let d=t.type==="tuple",f=u?parseInt(l,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&f>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[l])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=r,r=r&&r[l],t=t.fields[l]}i=l,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class ur extends Set{describe(){const e=[];for(const r of this.values())e.push(Ye.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new ur(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function nt(t,e=new Map){if(wr(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=nt(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,nt(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(nt(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=nt(s,e)}else throw Error(`Unable to clone ${t}`);return r}class he{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ur,this._blacklist=new ur,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ce.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=nt(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(s&&_e(i))return i;let o=Ke(e),a=Ke(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=r,c=e;a||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let l of Object.values(this.internalTests))l&&u.push(l);this.runTests({path:i,value:c,originalValue:o,options:r,tests:u},n,l=>{if(l.length)return s(l,c);this.runTests({path:i,value:c,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:u}=e,l=b=>{s||(s=!0,r(b,o))},d=b=>{s||(s=!0,n(b,o))},f=i.length,p=[];if(!f)return d([]);let g={value:o,originalValue:a,path:c,options:u,schema:this};for(let b=0;b<i.length;b++){const E=i[b];E(g,l,function(U){U&&(p=p.concat(U)),--f<=0&&d(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=n[a];const l=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${u?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,f,p)=>this.resolve(l)._validate(u,l,f,p)}validate(e,r){let n=this.resolve(Object.assign({},r,{value:e}));return new Promise((s,i)=>n._validate(e,r,(o,a)=>{fe.isError(o)&&(o.value=a),i(o)},(o,a)=>{o.length?i(new fe(o,a)):s(a)}))}validateSync(e,r){let n=this.resolve(Object.assign({},r,{value:e})),s;return n._validate(e,Object.assign({},r,{sync:!0}),(i,o)=>{throw fe.isError(i)&&(i.value=o),i},(i,o)=>{if(i.length)throw new fe(i,e);s=o}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(fe.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(fe.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):nt(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=tt({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=tt({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Ce.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ce.notNull){return this.nullability(!1,e)}required(e=Ce.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Ce.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=tt(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=la(e).map(i=>new Ye(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new ar(s,r):ar.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=tt({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Ce.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=tt({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=Ce.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=tt({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,l)=>l.findIndex(d=>d.name===c.name)===u)}}}he.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])he.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:i,schema:o}=jc(this,e,r,n.context);return o[t](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])he.prototype[t]=he.prototype.oneOf;for(const t of["not","nope"])he.prototype[t]=he.prototype.notOneOf;function fa(){return new da}class da extends he{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=vn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return _e(r)||r===!0}})}isFalse(e=vn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return _e(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}fa.prototype=da.prototype;let Lc=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qc=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Hc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,zc=t=>_e(t)||t===t.trim(),Vc={}.toString();function ha(){return new pa}class pa extends he{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===Vc?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Ce.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=we.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=we.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=we.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||we.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=we.email){return this.matches(Lc,{name:"email",message:e,excludeEmptyString:!0})}url(e=we.url){return this.matches(qc,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=we.uuid){return this.matches(Hc,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=we.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:zc})}lowercase(e=we.lowercase){return this.transform(r=>_e(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>_e(r)||r===r.toLowerCase()})}uppercase(e=we.uppercase){return this.transform(r=>_e(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>_e(r)||r===r.toUpperCase()})}}ha.prototype=pa.prototype;let Gc=t=>t!=+t;function ya(){return new ga}class ga extends he{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!Gc(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return n.isType(s)||s===null?s:parseFloat(s)})})}min(e,r=De.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=De.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=De.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=De.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=De.positive){return this.moreThan(0,e)}negative(e=De.negative){return this.lessThan(0,e)}integer(e=De.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>_e(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(s=>_e(s)?s:Math[e](s))}}ya.prototype=ga.prototype;var Wc=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function Kc(t){var e=[1,4,5,6,7,10,11],r=0,n,s;if(s=Wc.exec(t)){for(var i=0,o;o=e[i];++i)s[o]=+s[o]||0;s[2]=(+s[2]||1)-1,s[3]=+s[3]||1,s[7]=s[7]?String(s[7]).substr(0,3):0,(s[8]===void 0||s[8]==="")&&(s[9]===void 0||s[9]==="")?n=+new Date(s[1],s[2],s[3],s[4],s[5],s[6],s[7]):(s[8]!=="Z"&&s[9]!==void 0&&(r=s[10]*60+s[11],s[9]==="+"&&(r=0-r)),n=Date.UTC(s[1],s[2],s[3],s[4],s[5]+r,s[6],s[7]))}else n=Date.parse?Date.parse(t):NaN;return n}let Zc=new Date(""),Xc=t=>Object.prototype.toString.call(t)==="[object Date]";class xr extends he{constructor(){super({type:"date",check(e){return Xc(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=Kc(e),isNaN(e)?xr.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(Ye.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=_n.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=_n.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}xr.INVALID_DATE=Zc;xr.prototype;function Yc(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=We.split(o)[0];n.add(c),s.has(`${a}-${c}`)||r.push([a,c])}for(const o of Object.keys(t)){let a=t[o];n.add(o),Ye.isRef(a)&&a.isSibling?i(a.path,o):wr(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return Bc.array(Array.from(n),r).reverse()}function Ns(t,e){let r=1/0;return t.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=s,!0}),r}function ma(t){return(e,r)=>Ns(t,e)-Ns(t,r)}const ba=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function or(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=or(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=or(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(or)}):"optional"in t?t.optional():t}const Qc=(t,e)=>{const r=[...We.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=We.getter(We.join(r),!0)(t);return!!(s&&n in s)};let Ds=t=>Object.prototype.toString.call(t)==="[object Object]";function Jc(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const el=ma([]);function Sn(t){return new wa(t)}class wa extends he{constructor(e){super({type:"object",check(r){return Ds(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=el,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),l=!1;for(const d of a){let f=i[d],p=d in s;if(f){let g,b=s[d];u.path=(r.path?`${r.path}.`:"")+d,f=f.resolve({value:b,context:r.context,parent:c});let E=f instanceof he?f.spec:void 0,H=E==null?void 0:E.strict;if(E!=null&&E.strip){l=l||d in s;continue}g=!r.__validating||!H?f.cast(s[d],u):s[d],g!==void 0&&(c[d]=g)}else p&&!o&&(c[d]=s[d]);(p!==d in c||c[d]!==s[d])&&(l=!0)}return l?c:s}_validate(e,r={},n,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(c,u)=>{if(!a||!Ds(u)){s(c,u);return}o=o||u;let l=[];for(let d of this._nodes){let f=this.fields[d];!f||Ye.isRef(f)||l.push(f.asNestedTest({options:r,key:d,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:l,value:u,originalValue:o,options:r},n,d=>{s(d.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=Yc(e,r),n._sortErrors=ma(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return or(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r)}omit(e){const r=Object.assign({},this.fields);for(const n of e)delete r[n];return this.setFields(r)}from(e,r,n){let s=We.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return Qc(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=s(i)),o})}json(){return this.transform(ba)}noUnknown(e=!0,r=En.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=Jc(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=En.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(Or.camelCase)}snakeCase(){return this.transformKeys(Or.snakeCase)}constantCase(){return this.transformKeys(e=>Or.snakeCase(e).toUpperCase())}describe(e){let r=super.describe(e);r.fields={};for(const[s,i]of Object.entries(this.fields)){var n;let o=e;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),r.fields[s]=i.describe(o)}return r}}Sn.prototype=wa.prototype;function xa(t){return new _a(t)}class _a extends he{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let s=!1;const i=n.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return c!==o&&(s=!0),c});return s?i:n}_validate(e,r={},n,s){var i;let o=this.innerType,a=(i=r.recursive)!=null?i:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var l;if(!a||!o||!this._typeCheck(u)){s(c,u);return}let d=new Array(u.length);for(let p=0;p<u.length;p++){var f;d[p]=o.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(f=r.originalValue)!=null?f:e})}this.runTests({value:u,tests:d,originalValue:(l=r.originalValue)!=null?l:e,options:r},n,p=>s(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(ba)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!wr(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ke(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=ir.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||ir.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||ir.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,s,i)=>!e(n,s,i):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){let r=super.describe(e);if(this.innerType){var n;let s=e;(n=s)!=null&&n.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=this.innerType.describe(s)}return r}}xa.prototype=_a.prototype;const tl=t=>{var e;return t.type==="boolean"?[{label:"Yes",value:!0},{label:"No",value:!1}]:t.type==="string"&&((e=t==null?void 0:t.enum)!=null&&e.length)?t.enum.map(r=>({label:r,value:r})):[]},rl=(t,e)=>(t==null?void 0:t.type)==="array",Ms="This field is required.",va=t=>{switch(t==null?void 0:t.type){case"number":return ya();case"boolean":return fa();case"array":return xa().of(va(t.items));case"string":default:return ha()}},nl=(t,e)=>{var s,i;let r;const n=(s=e.properties)==null?void 0:s[t];return n?(r=va(n),r&&((i=e.required)!=null&&i.includes(t))&&(rl(n)&&(r=r.min(1,Ms)),r=r.required(Ms)),Sn({[t]:r})):Sn({})},sl=({value:t,onChange:e})=>O("div",{className:"flex flex-col mb-4",children:[O("div",{className:"my-4",children:"Draw the boundaries of your suggested site using the polygon icon on the right of the map. You can edit the boundaries with the pencil icon."}),O(uc,{className:"my-4",style:{height:"470px",width:"100%"},value:t,onChange:e}),O(Rs,{text:"Help drawing a site boundary",children:[O("p",{className:"mb-2",children:"To draw the boundaries of your suggested site:"}),O("ul",{className:"list-disc pl-8",children:[O("li",{children:"Type in a road name or postcode into the search bar at the top of the map"}),O("li",{children:"Once you've found the area your site is in, use the polygon icon on the right of the map to start drawing a boundary"}),O("li",{children:"Select the edges of the site until the whole site is within the blue shape"}),O("li",{children:"Double-click to finish the shape"})]})]}),O(Rs,{text:"Change or delete a site boundary",children:[O("p",{className:"mb-2",children:"If you want to make any changes to the site boundary once you've finished, select the pencil icon on the right of the map to do so."}),O("p",{className:"mb-2",children:"If you're not happy with the boundary you've drawn, select the delete icon on the right of the map and start again."}),O("p",{className:"mb-2",children:"If you want to change the map view - such as switching to aerial pictures - select the gallary icon on the right of the map."})]}),O("h2",{className:"my-4 text-3xl font-bold",children:"After you've drawn your boundary"}),O("p",{className:"mt-4 mb-2",children:"It's helpful for us if you draw a boundary that's as accurate as possible - but there's no need to do it over and over to get it exactly right."}),O("p",{className:"my-2",children:"We'll ask for your contact details later in the form, and we'll get in touch if we have any questions about where the boundary line is intended to be."})]}),il={string:0,number:1,array:3,boolean:4,object:6},ol={radio:2,map:5},al=(t,e)=>e?ol[e]:il[t],ul=({id:t,formPageSchema:e,uiSchema:r,value:n,onFormValueChange:s})=>{let i=null;const o=a=>{s(t,a)};switch(al(e.type,r==null?void 0:r["ui:widget"])){case 3:i=O(hc,{options:e.enum,values:n,onChange:o});break;case 0:i=O(Ps,{type:e.type,value:n??"",onChange:o});break;case 1:i=O(Ps,{type:e.type,value:n,step:e.step,min:e.min,max:e.max,onChange:o});break;case 2:i=O(dc,{options:tl(e),value:n,onChange:o});break;case 4:i=O(fc,{value:n,onChange:o});break;case 5:i=O(sl,{value:n,onChange:o});break}return O("form",{children:i})},cl=({children:t,title:e,subtitle:r,onBackClicked:n,onContinueClicked:s,onSubmitClicked:i,isLastQuestion:o})=>O("div",{children:[O("div",{className:"form-page-header mb-4",children:[O("h1",{className:"my-2 text-4xl font-bold",children:e}),r&&O("p",{children:r})]}),O("div",{className:"form-page-body my-4",children:t}),O("div",{className:"form-page-footer mt-10 flex space-x-6",children:[O("button",{className:"bg-gray-200 hover:bg-gray-300 text-black py-1 px-2",onClick:n,children:"Back"}),O("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",onClick:o?i:s,children:o?"Submit":"Save and Continue"})]})]});var Is;(function(t){t.HEADER="header",t.QUERY="query"})(Is||(Is={}));var Mt;(function(t){t.HTTP="http",t.HTTPS="https"})(Mt||(Mt={}));var cr;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(cr||(cr={}));var Us;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Us||(Us={}));var js;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(js||(js={}));let Re=class Ea{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new Ea({...this,headers:{...this.headers}});return e.query&&(e.query=ll(e.query)),e}};function ll(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}let fl=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function dl(t){return e=>async r=>{const{request:n}=r;return Re.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}const hl={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},pl=t=>({applyToStack:e=>{e.add(dl(t),hl)}});const yl=t=>e=>async r=>{if(!Re.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},gl={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ml=t=>({applyToStack:e=>{e.add(yl(t),gl)}}),bl=()=>(t,e)=>async r=>{var n,s;try{const i=await t(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=u,f=l??e.inputFilterSensitiveLog,p=d??e.outputFilterSensitiveLog,{$metadata:g,...b}=i.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:o,commandName:a,input:f(r.input),output:p(b),metadata:g}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l}=u,d=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:o,commandName:a,input:d(r.input),error:i,metadata:i.$metadata}),i}},wl={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},xl=t=>({applyToStack:e=>{e.add(bl(),wl)}}),Ls="X-Amzn-Trace-Id",_l="AWS_LAMBDA_FUNCTION_NAME",vl="_X_AMZN_TRACE_ID",El=t=>e=>async r=>{const{request:n}=r;if(!Re.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Ls))return e(r);const s=process.env[_l],i=process.env[vl],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[Ls]=i),e({...r,request:n})},Sl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Al=t=>({applyToStack:e=>{e.add(El(t),Sl)}}),Cl="content-length";function Tl(){return(t,e)=>async r=>{var s;const{request:n}=r;if(Re.isInstance(n)&&!n.headers[Cl]){const i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"?e.logger.warn(i):console.warn(i)}return t({...r})}}const Ol={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Rl=t=>({applyToStack:e=>{e.add(Tl(),Ol)}}),Pl=t=>({...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1}),Fl=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function Bl(){return t=>async e=>{const{input:{Bucket:r}}=e;if(typeof r=="string"&&!Fl(r)&&r.indexOf("/")>=0){const n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return t({...e})}}const kl={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},$l=t=>({applyToStack:e=>{e.add(Bl(),kl)}}),Sa=(t,e,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=t());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return e===void 0?async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))};var Rr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var An=function(t,e){return An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},An(t,e)};function Nl(t,e){An(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cn=function(){return Cn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Cn.apply(this,arguments)};function Dl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Ml(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Il(t,e){return function(r,n){e(r,n,t)}}function Ul(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jl(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Ll(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ql(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Hl(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Tn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Aa(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function zl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Aa(arguments[e]));return t}function Vl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function It(t){return this instanceof It?(this.v=t,this):new It(t)}function Gl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof It?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Wl(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:It(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Kl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Tn=="function"?Tn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Zl(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Xl(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Yl(t){return t&&t.__esModule?t:{default:t}}function Ql(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Jl(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const ef=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Cn},__asyncDelegator:Wl,__asyncGenerator:Gl,__asyncValues:Kl,__await:It,__awaiter:jl,__classPrivateFieldGet:Ql,__classPrivateFieldSet:Jl,__createBinding:ql,__decorate:Ml,__exportStar:Hl,__extends:Nl,__generator:Ll,__importDefault:Yl,__importStar:Xl,__makeTemplateObject:Zl,__metadata:Ul,__param:Il,__read:Aa,__rest:Dl,__spread:zl,__spreadArrays:Vl,__values:Tn},Symbol.toStringTag,{value:"Module"})),Ca=Oe(ef);var Pr={},ft={};const tf=t=>{const e=[];for(let r=0,n=t.length;r<n;r++){const s=t.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(r+1<t.length&&(s&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){const i=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},rf=t=>{let e="";for(let r=0,n=t.length;r<n;r++){const s=t[r];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){const i=t[++r];e+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){const o="%"+[s,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(o)}else e+=String.fromCharCode((s&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};function nf(t){return new TextEncoder().encode(t)}function sf(t){return new TextDecoder("utf-8").decode(t)}const of=t=>typeof TextEncoder=="function"?nf(t):tf(t),af=t=>typeof TextDecoder=="function"?sf(t):rf(t),uf=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:of,toUtf8:af},Symbol.toStringTag,{value:"Module"})),_r=Oe(uf);var qs;function cf(){if(qs)return ft;qs=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.convertToBuffer=void 0;var t=_r,e=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:t.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?e(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return ft.convertToBuffer=r,ft}var dt={},Hs;function lf(){if(Hs)return dt;Hs=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return dt.isEmptyData=t,dt}var ht={},zs;function ff(){if(zs)return ht;zs=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.numToUint8=void 0;function t(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return ht.numToUint8=t,ht}var pt={},Vs;function df(){if(Vs)return pt;Vs=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.uint32ArrayFrom=void 0;function t(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),n=0;n<e.length;)r[n]=e[n],n+=1;return r}return Uint32Array.from(e)}return pt.uint32ArrayFrom=t,pt}var Gs;function Le(){return Gs||(Gs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var e=cf();Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var r=lf();Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=ff();Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var s=df();Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})}(Pr)),Pr}var yt={},Ws;function hf(){if(Ws)return yt;Ws=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.AwsCrc32=void 0;var t=Ca,e=Le(),r=Ta(),n=function(){function s(){this.crc32=new r.Crc32}return s.prototype.update=function(i){(0,e.isEmptyData)(i)||this.crc32.update((0,e.convertToBuffer)(i))},s.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(i){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},s.prototype.reset=function(){this.crc32=new r.Crc32},s}();return yt.AwsCrc32=n,yt}var Ks;function Ta(){return Ks||(Ks=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var e=Ca,r=Le();function n(c){return new s().update(c).digest()}t.crc32=n;var s=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var l,d;try{for(var f=e.__values(u),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(b){l={error:b}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();t.Crc32=s;var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(i),a=hf();Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(Rr)),Rr}var as=Ta();const Oa={},On={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Oa[t]=e,On[e]=t}function pf(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in On)e[r/2]=On[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function de(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Oa[t[r]];return e}class $t{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Zs(r),new $t(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Zs(e),parseInt(de(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Zs(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class Ra{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const i of Object.keys(e)){const o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set($t.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!Ef.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(pf(e.value.replace(/\-/g,"")),1),d}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const s=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[i]={type:Ys,value:!0};break;case 1:r[i]={type:Ys,value:!1};break;case 2:r[i]={type:yf,value:e.getInt8(n++)};break;case 3:r[i]={type:gf,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:mf,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:bf,value:new $t(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[i]={type:wf,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[i]={type:xf,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:_f,value:new Date(new $t(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:vf,value:`${de(c.subarray(0,4))}-${de(c.subarray(4,6))}-${de(c.subarray(6,8))}-${de(c.subarray(8,10))}-${de(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Xs;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Xs||(Xs={}));const Ys="boolean",yf="byte",gf="short",mf="integer",bf="long",wf="binary",xf="string",_f="timestamp",vf="uuid",Ef=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Pa=4,Me=Pa*2,ze=4,Sf=Me+ze*2;function Af({byteLength:t,byteOffset:e,buffer:r}){if(t<Sf)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(Pa,!1),o=n.getUint32(Me,!1),a=n.getUint32(t-ze,!1),c=new as.Crc32().update(new Uint8Array(r,e,Me));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+Me,t-(Me+ze))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+Me+ze,i),body:new Uint8Array(r,e+Me+ze+i,s-i-(Me+ze+ze))}}class Cf{constructor(e,r){this.headerMarshaller=new Ra(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new as.Crc32;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:r,body:n}=Af(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Tf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class Of{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Rf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class Pf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}const Ee=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Gt=t=>new TextEncoder().encode(t),st=t=>typeof t=="string"?Gt(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),vr=t=>new TextDecoder("utf-8").decode(t),Ff="X-Amz-Algorithm",Bf="X-Amz-Credential",Fa="X-Amz-Date",kf="X-Amz-SignedHeaders",$f="X-Amz-Expires",Ba="X-Amz-Signature",ka="X-Amz-Security-Token",$a="authorization",Na=Fa.toLowerCase(),Nf="date",Df=[$a,Na,Nf],Mf=Ba.toLowerCase(),Rn="x-amz-content-sha256",If=ka.toLowerCase(),Uf={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},jf=/^proxy-/,Lf=/^sec-/,Fr="AWS4-HMAC-SHA256",qf="AWS4-HMAC-SHA256-PAYLOAD",Hf="UNSIGNED-PAYLOAD",zf=50,Da="aws4_request",Vf=60*60*24*7,Xt={},Br=[],kr=(t,e,r)=>`${t}/${e}/${r}/${Da}`,Gf=async(t,e,r,n,s)=>{const i=await Qs(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${s}:${de(i)}:${e.sessionToken}`;if(o in Xt)return Xt[o];for(Br.push(o);Br.length>zf;)delete Xt[Br.shift()];let a=`AWS4${e.secretAccessKey}`;for(const c of[r,n,s,Da])a=await Qs(t,a,c);return Xt[o]=a},Qs=(t,e,r)=>{const n=new t(e);return n.update(st(r)),n.digest()},Js=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in Uf||e!=null&&e.has(i)||jf.test(i)||Lf.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},Ve=t=>encodeURIComponent(t).replace(/[!'()*]/g,Wf),Wf=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,Kf=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t).sort()){if(n.toLowerCase()===Mf)continue;e.push(n);const s=t[n];typeof s=="string"?r[n]=`${Ve(n)}=${Ve(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,o)=>i.concat([`${Ve(n)}=${Ve(o)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},Ma=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",$r=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===Rn)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Ma(e)){const n=new r;return n.update(st(e)),de(await n.digest())}return Hf},Zf=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},Ia=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?Xf(e):void 0}),Xf=t=>Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{}),Yf=(t,e={})=>{var s;const{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():Ia(t);for(const i of Object.keys(r)){const o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}},ei=t=>{t=typeof t.clone=="function"?t.clone():Ia(t);for(const e of Object.keys(t.headers))Df.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},Qf=t=>Jf(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Jf=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Pn{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.headerMarshaller=new Ra(vr,Gt),this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Ee(n),this.credentialProvider=Ee(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:u}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const d=c??await this.regionProvider(),{longDate:f,shortDate:p}=Yt(n);if(s>Vf)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const g=kr(p,d,u??this.service),b=Yf(ei(e),{unhoistableHeaders:o});l.sessionToken&&(b.query[ka]=l.sessionToken),b.query[Ff]=Fr,b.query[Bf]=`${l.accessKeyId}/${g}`,b.query[Fa]=f,b.query[$f]=s.toString(10);const E=Js(b,i,a);return b.query[kf]=ti(E),b.query[Ba]=await this.getSignature(f,g,this.getSigningKey(l,d,p,u),this.createCanonicalRequest(b,E,await $r(e,this.sha256))),b}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:u}=Yt(n),l=kr(c,a,o??this.service),d=await $r({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);const p=de(await f.digest()),g=[qf,u,l,s,p,d].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=Yt(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(st(e)),de(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),u=ei(e),{longDate:l,shortDate:d}=Yt(r),f=kr(d,c,o??this.service);u.headers[Na]=l,a.sessionToken&&(u.headers[If]=a.sessionToken);const p=await $r(u,this.sha256);!Zf(Rn,u.headers)&&this.applyChecksum&&(u.headers[Rn]=p);const g=Js(u,s,n),b=await this.getSignature(l,f,this.getSigningKey(a,c,d,o),this.createCanonicalRequest(u,g,p));return u.headers[$a]=`${Fr} Credential=${a.accessKeyId}/${f}, SignedHeaders=${ti(g)}, Signature=${b}`,u}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Kf(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){const s=new this.sha256;s.update(st(n));const i=await s.digest();return`${Fr}
${e}
${r}
${de(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s),o=new this.sha256(await n);return o.update(st(i)),de(await o.digest())}getSigningKey(e,r,n,s){return Gf(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const Yt=t=>{const e=Qf(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},ti=t=>Object.keys(t).sort().join(";"),ed=3e5,td=t=>{const e=t.credentials?rd(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t;let i;return t.signer?i=Ee(t.signer):t.regionInfoProvider?i=()=>Ee(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:c,signingService:u}=o;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||u||t.serviceId;const l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},d=t.signerConstructor||Pn;return new d(l)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ee(t.region)(),properties:{}},o);const a=o.signingRegion,c=o.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;const u={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||Pn;return new l(u)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}},rd=t=>typeof t=="function"?Sa(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<ed,e=>e.expiration!==void 0):Ee(t),Ua=t=>new Date(Date.now()+t),nd=(t,e)=>Math.abs(Ua(e).getTime()-t)>=3e5,ri=(t,e)=>{const r=Date.parse(t);return nd(r,e)?r-Date.now():e},sd=t=>(e,r)=>async function(n){var u,l,d,f;if(!Re.isInstance(n.request))return e(n);const s=(d=(l=(u=r.endpointV2)==null?void 0:u.properties)==null?void 0:l.authSchemes)==null?void 0:d[0],i=(s==null?void 0:s.name)==="sigv4a"?(f=s==null?void 0:s.signingRegionSet)==null?void 0:f.join(","):void 0,o=await t.signer(s),a=await e({...n,request:await o.sign(n.request,{signingDate:Ua(t.systemClockOffset),signingRegion:i||r.signing_region,signingService:r.signing_service})}).catch(p=>{const g=p.ServerTime??ni(p.$response);throw g&&(t.systemClockOffset=ri(g,t.systemClockOffset)),p}),c=ni(a.response);return c&&(t.systemClockOffset=ri(c,t.systemClockOffset)),a},ni=t=>{var e,r;return fl.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},id={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},od=t=>({applyToStack:e=>{e.addRelativeTo(sd(t),id)}});function ad(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const ud=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],cd="1.1",ja={partitions:ud,version:cd};let La=ja,qa="";const ld=t=>{const{partitions:e}=La;for(const n of e){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Ha=(t,e="")=>{La=t,qa=e},fd=()=>{Ha(ja,"")},za=()=>qa,dd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Va=t=>dd.test(t)||t.startsWith("[")&&t.endsWith("]"),Ut="endpoints";function Ue(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Ue(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Ue).join(", ")})`:JSON.stringify(t,null,2)}class pe extends Error{constructor(e){super(e),this.name="EndpointError"}}const hd=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),us=(t,e=!1)=>{if(!e)return hd.test(t);const r=t.split(".");for(const n of r)if(!us(n))return!1;return!0},Ga=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!Ga(r))return!1;return!0}return!(!us(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Va(t))},pd=t=>{const e=t.split(":");if(e.length<6)return null;const[r,n,s,i,o,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},yd=Object.freeze(Object.defineProperty({__proto__:null,getUserAgentPrefix:za,isVirtualHostableS3Bucket:Ga,parseArn:pd,partition:ld,setPartitionInfo:Ha,useDefaultPartitionInfo:fd},Symbol.toStringTag,{value:"Module"})),gd=(t,e)=>t===e,md=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new pe(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new pe(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Wa=(t,e)=>md(e).reduce((r,n)=>{if(typeof r!="object")throw new pe(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),bd=t=>t!=null,wd=t=>!t;var si;(function(t){t.AAAA="AAAA",t.A="A"})(si||(si={}));const Nr={[Mt.HTTP]:80,[Mt.HTTPS]:443},xd=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:f,port:p,protocol:g="",path:b="",query:E={}}=t,H=new URL(`${g}//${f}${p?`:${p}`:""}${b}`);return H.search=Object.entries(E).map(([U,ye])=>`${U}=${ye}`).join("&"),H}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const c=o.slice(0,-1);if(!Object.values(Mt).includes(c))return null;const u=Va(s),l=r.includes(`${n}:${Nr[c]}`)||typeof t=="string"&&t.includes(`${n}:${Nr[c]}`),d=`${n}${l?`:${Nr[c]}`:""}`;return{scheme:c,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},_d=(t,e)=>t===e,vd=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),Ed=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Sd=Object.freeze(Object.defineProperty({__proto__:null,aws:yd,booleanEquals:gd,getAttr:Wa,isSet:bd,isValidHostLabel:us,not:wd,parseURL:xd,stringEquals:_d,substring:vd,uriEncode:Ed},Symbol.toStringTag,{value:"Module"})),Ka=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[c,u]=a.split("#");r.push(Wa(n[c],u))}else r.push(n[a]);s=o+1}return r.join("")},Ad=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Er=(t,e,r)=>{if(typeof t=="string")return Ka(t,r);if(t.fn)return Za(t,r);if(t.ref)return Ad(t,r);throw new pe(`'${e}': ${String(t)} is not a string, function or reference.`)},Za=({fn:t,argv:e},r)=>{const n=e.map(s=>["boolean","number"].includes(typeof s)?s:Er(s,"arg",r));return t.split(".").reduce((s,i)=>s[i],Sd)(...n)},Cd=({assign:t,...e},r)=>{var s,i;if(t&&t in r.referenceRecord)throw new pe(`'${t}' is already defined in Reference Record.`);const n=Za(e,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,Ut,`evaluateCondition: ${Ue(e)} = ${Ue(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},cs=(t=[],e)=>{var n,s;const r={};for(const i of t){const{result:o,toAssign:a}=Cd(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,Ut,`assign: ${a.name} := ${Ue(a.value)}`))}return{result:!0,referenceRecord:r}},Td=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=Er(i,"Header value entry",e);if(typeof o!="string")throw new pe(`Header '${n}' value '${o}' is not a string`);return o})}),{}),Xa=(t,e)=>{if(Array.isArray(t))return t.map(r=>Xa(r,e));switch(typeof t){case"string":return Ka(t,e);case"object":if(t===null)throw new pe(`Unexpected endpoint property: ${t}`);return Ya(t,e);case"boolean":return t;default:throw new pe(`Unexpected endpoint property type: ${typeof t}`)}},Ya=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Xa(s,e)}),{}),Od=(t,e)=>{const r=Er(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pe(`Endpoint URL must be a string, got ${typeof r}`)},Rd=(t,e)=>{var l,d;const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=cs(r,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:u}=n;return(d=(l=e.logger)==null?void 0:l.debug)==null||d.call(l,Ut,`Resolving endpoint from template: ${Ue(n)}`),{...u!=null&&{headers:Td(u,o)},...c!=null&&{properties:Ya(c,o)},url:Od(a,o)}},Pd=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=cs(r,e);if(s)throw new pe(Er(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Fd=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=cs(r,e);if(s)return Qa(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},Qa=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=Rd(r,e);if(n)return n}else if(r.type==="error")Pd(r,e);else if(r.type==="tree"){const n=Fd(r,e);if(n)return n}else throw new pe(`Unknown endpoint rule: ${r}`);throw new pe("Rules evaluation failed")},Bd=(t,e)=>{var u,l,d,f,p;const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;(l=(u=e.logger)==null?void 0:u.debug)==null||l.call(u,`${Ut} Initial EndpointParams: ${Ue(r)}`);const o=Object.entries(s).filter(([,g])=>g.default!=null).map(([g,b])=>[g,b.default]);if(o.length>0)for(const[g,b]of o)r[g]=r[g]??b;const a=Object.entries(s).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(r[g]==null)throw new pe(`Missing required parameter: '${g}'`);const c=Qa(i,{endpointParams:r,logger:n,referenceRecord:{}});if((d=e.endpointParams)!=null&&d.Endpoint)try{const g=new URL(e.endpointParams.Endpoint),{protocol:b,port:E}=g;c.url.protocol=b,c.url.port=E}catch{}return(p=(f=e.logger)==null?void 0:f.debug)==null||p.call(f,`${Ut} Resolved endpoint: ${Ue(c)}`),c},ii="user-agent",Dr="x-amz-user-agent",oi=" ",Mr="/",kd=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,$d=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ai="-",Nd=t=>(e,r)=>async n=>{var f,p;const{request:s}=n;if(!Re.isInstance(s))return e(n);const{headers:i}=s,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(Ir))||[],a=(await t.defaultUserAgentProvider()).map(Ir),c=((p=t==null?void 0:t.customUserAgent)==null?void 0:p.map(Ir))||[],u=za(),l=(u?[u]:[]).concat([...a,...o,...c]).join(oi),d=[...a.filter(g=>g.startsWith("aws-sdk-")),...c].join(oi);return t.runtime!=="browser"?(d&&(i[Dr]=i[Dr]?`${i[ii]} ${d}`:d),i[ii]=l):i[Dr]=l,e({...n,request:s})},Ir=t=>{var o;const e=t[0].split(Mr).map(a=>a.replace(kd,ai)).join(Mr),r=(o=t[1])==null?void 0:o.replace($d,ai),n=e.indexOf(Mr),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},Dd={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Md=t=>({applyToStack:e=>{e.add(Nd(t),Dd)}});var ui;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(ui||(ui={}));const Id=!1,Ud=!1,Ja=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),ci=t=>Ja(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,jd=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return ci(e);const n=await e();return ci(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return Ja(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},Ld=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)});let qd=class eu{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new eu({...this,headers:{...this.headers}});return e.query&&(e.query=Hd(e.query)),e}};function Hd(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}const li="content-length";function zd(t){return e=>async r=>{const n=r.request;if(qd.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(li)===-1)try{const o=t(s);n.headers={...n.headers,[li]:String(o)}}catch{}}return e({...r,request:n})}}const Vd={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Gd=t=>({applyToStack:e=>{e.add(zd(t.bodyLengthChecker),Vd)}}),Wd=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Qd(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Yd(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},Kd=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Zd=/(\d+\.){3}\d+/,Xd=/\.\./,Yd=t=>Kd.test(t)&&!Zd.test(t)&&!Xd.test(t),Qd=t=>{const[e,r,n,s,i,o]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,c=[e,r,n,i,o].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!i&&!!o},Jd=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},eh=async(t,e,r,n)=>{const s=await th(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},th=async(t,e,r)=>{var i;const n={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await Jd(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Wd(n),n};function rh(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const lr=t=>{if(typeof t=="string")return lr(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let o;return i&&(o=rh(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},nh=t=>typeof t=="object"?"url"in t?lr(t.url):t:lr(t),sh=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c;const i=await eh(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(c=n.authSchemes)==null?void 0:c[0];return o&&(n.signing_region=o.signingRegion,n.signing_service=o.signingName),r({...s})},ih=(t,e)=>(r,n)=>async s=>{const{response:i}=await r(s);try{const o=await e(i,t);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a}throw o}},oh=(t,e)=>(r,n)=>async s=>{var a;const i=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await e(s.input,{...t,endpoint:i});return r({...s,request:o})},ah={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},tu={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function uh(t,e,r){return{applyToStack:n=>{n.add(ih(t,r),ah),n.add(oh(t,e),tu)}}}const ch={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:tu.name},lh=(t,e)=>({applyToStack:r=>{r.addRelativeTo(sh({config:t,instructions:e}),ch)}}),fh=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>nh(await Ee(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:Ee(t.useDualstackEndpoint??!1),useFipsEndpoint:Ee(t.useFipsEndpoint??!1)}};var ot;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ot||(ot={}));const fr=3,dh=ot.STANDARD,hh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ph=["TimeoutError","RequestTimeout","RequestTimeoutException"],yh=[500,502,503,504],gh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],ru=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||hh.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},nu=t=>{var e;return ph.includes(t.name)||gh.includes((t==null?void 0:t.code)||"")||yh.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},mh=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!nu(t)}return!1};class bh{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),ru(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Fn=100,su=20*1e3,wh=500,fi=500,xh=5,_h=10,vh=1,Eh="amz-sdk-invocation-id",Sh="amz-sdk-request",Ah=()=>{let t=Fn;return{computeNextBackoffDelay:n=>Math.floor(Math.min(su,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},di=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(su,t),getRetryCost:()=>r});class iu{constructor(e){this.maxAttempts=e,this.mode=ot.STANDARD,this.capacity=fi,this.retryBackoffStrategy=Ah(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return di({retryDelay:Fn,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?wh:Fn);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,di({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(fi,this.capacity+(e.getRetryCost()??vh))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${fr}`),fr}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?_h:xh}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class Ch{constructor(e,r){this.maxAttemptsProvider=e,this.mode=ot.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new bh,this.standardRetryStrategy=new iu(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class dr{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new dr({...this,headers:{...this.headers}});return e.query&&(e.query=Th(e.query)),e}}function Th(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}let Oh=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var Qt,Rh=new Uint8Array(16);function Ph(){if(!Qt&&(Qt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Qt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qt(Rh)}const Fh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Bh(t){return typeof t=="string"&&Fh.test(t)}var Q=[];for(var Ur=0;Ur<256;++Ur)Q.push((Ur+256).toString(16).substr(1));function kh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Q[t[e+0]]+Q[t[e+1]]+Q[t[e+2]]+Q[t[e+3]]+"-"+Q[t[e+4]]+Q[t[e+5]]+"-"+Q[t[e+6]]+Q[t[e+7]]+"-"+Q[t[e+8]]+Q[t[e+9]]+"-"+Q[t[e+10]]+Q[t[e+11]]+Q[t[e+12]]+Q[t[e+13]]+Q[t[e+14]]+Q[t[e+15]]).toLowerCase();if(!Bh(r))throw TypeError("Stringified UUID is invalid");return r}function $h(t,e,r){t=t||{};var n=t.random||(t.rng||Ph)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=n[s];return e}return kh(n)}const Nh=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Dh=t=>{const{retryStrategy:e}=t,r=Ee(t.maxAttempts??fr);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await Ee(t.retryMode)()===ot.ADAPTIVE?new Ch(r):new iu(r))}},Mh=t=>(e,r)=>async n=>{let s=await t.retryStrategy();const i=await t.maxAttempts();if(Ih(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0;const{request:l}=n;for(dr.isInstance(l)&&(l.headers[Eh]=$h());;)try{dr.isInstance(l)&&(l.headers[Sh]=`attempt=${c+1}; max=${i}`);const{response:d,output:f}=await e(n);return s.recordSuccess(o),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=u,{response:d,output:f}}catch(d){const f=Uh(d);a=Nh(d);try{o=await s.refreshRetryTokenForRetry(o,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=o.getRetryCount();const p=o.getRetryDelay();u+=p,await new Promise(g=>setTimeout(g,p))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},Ih=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",Uh=t=>{const e={errorType:jh(t)},r=Hh(t.$response);return r&&(e.retryAfterHint=r),e},jh=t=>ru(t)?"THROTTLING":nu(t)?"TRANSIENT":mh(t)?"SERVER_ERROR":"CLIENT_ERROR",Lh={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},qh=t=>({applyToStack:e=>{e.add(Mh(t),Lh)}}),Hh=t=>{if(!Oh.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class zh{trace(){}debug(){}info(){}warn(){}error(){}}const hr=()=>{let t=[],e=[];const r=new Set,n=l=>l.sort((d,f)=>hi[f.step]-hi[d.step]||pi[f.priority||"normal"]-pi[d.priority||"normal"]),s=l=>{let d=!1;const f=p=>p.name&&p.name===l?(d=!0,r.delete(l),!1):!0;return t=t.filter(f),e=e.filter(f),d},i=l=>{let d=!1;const f=p=>p.middleware===l?(d=!0,p.name&&r.delete(p.name),!1):!0;return t=t.filter(f),e=e.filter(f),d},o=l=>(t.forEach(d=>{l.add(d.middleware,{...d})}),e.forEach(d=>{l.addRelativeTo(d.middleware,{...d})}),l),a=l=>{const d=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...a(f))}),d.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...a(f))}),d},c=(l=!1)=>{const d=[],f=[],p={};return t.forEach(b=>{const E={...b,before:[],after:[]};E.name&&(p[E.name]=E),d.push(E)}),e.forEach(b=>{const E={...b,before:[],after:[]};E.name&&(p[E.name]=E),f.push(E)}),f.forEach(b=>{if(b.toMiddleware){const E=p[b.toMiddleware];if(E===void 0){if(l)return;throw new Error(`${b.toMiddleware} is not found when adding ${b.name||"anonymous"} middleware ${b.relation} ${b.toMiddleware}`)}b.relation==="after"&&E.after.push(b),b.relation==="before"&&E.before.push(b)}}),n(d).map(a).reduce((b,E)=>(b.push(...E),b),[])},u={add:(l,d={})=>{const{name:f,override:p}=d,g={step:"initialize",priority:"normal",middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);const b=t.findIndex(H=>H.name===f),E=t[b];if(E.step!==g.step||E.priority!==g.priority)throw new Error(`"${f}" middleware with ${E.priority} priority in ${E.step} step cannot be overridden by same-name middleware with ${g.priority} priority in ${g.step} step.`);t.splice(b,1)}r.add(f)}t.push(g)},addRelativeTo:(l,d)=>{const{name:f,override:p}=d,g={middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);const b=e.findIndex(H=>H.name===f),E=e[b];if(E.toMiddleware!==g.toMiddleware||E.relation!==g.relation)throw new Error(`"${f}" middleware ${E.relation} "${E.toMiddleware}" middleware cannot be overridden by same-name middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(b,1)}r.add(f)}e.push(g)},clone:()=>o(hr()),use:l=>{l.applyToStack(u)},remove:l=>typeof l=="string"?s(l):i(l),removeByTag:l=>{let d=!1;const f=p=>{const{tags:g,name:b}=p;return g&&g.includes(l)?(b&&r.delete(b),d=!0,!1):!0};return t=t.filter(f),e=e.filter(f),d},concat:l=>{const d=o(hr());return d.use(l),d},applyToStack:o,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,d)=>{for(const f of c().map(p=>p.middleware).reverse())l=f(l,d);return l}};return u},hi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},pi={high:3,normal:2,low:1};class Vh{constructor(e){this.middlewareStack=hr(),this.config=e}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(e).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const je={},ut=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e);je[n]=t,ut[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e),s=t+26;je[n]=s,ut[s]=n}for(let t=0;t<10;t++){je[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;je[e]=r,ut[r]=e}je["+"]=62;ut[62]="+";je["/"]=63;ut[63]="/";const it=6,Nt=8,Gh=63,ls=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let u=s,l=s+3;u<=l;u++)if(t[u]!=="="){if(!(t[u]in je))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);i|=je[t[u]]<<(l-u)*it,o+=it}else i>>=it;const a=s/4*3;i>>=o%Nt;const c=Math.floor(o/Nt);for(let u=0;u<c;u++){const l=(c-u-1)*Nt;n.setUint8(a+u,(i&255<<l)>>l)}}return new Uint8Array(r)};function fs(t){let e="";for(let r=0;r<t.length;r+=3){let n=0,s=0;for(let o=r,a=Math.min(r+3,t.length);o<a;o++)n|=t[o]<<(a-o-1)*Nt,s+=Nt;const i=Math.ceil(s/it);n<<=i*it-s;for(let o=1;o<=i;o++){const a=(i-o)*it;e+=ut[(n&Gh<<a)>>a]}e+="==".slice(0,4-i)}return e}function Wh(t,e="utf-8"){return e==="base64"?fs(t):vr(t)}function Kh(t,e){return e==="base64"?Ze.mutate(ls(t)):Ze.mutate(Gt(t))}class Ze extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return Kh(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,Ze.prototype),e}transformToString(e="utf-8"){return Wh(this,e)}}const Zh=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=e,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,t):void 0,u=t.getReader();return new ReadableStream({async pull(l){const{value:d,done:f}=await u.read();if(f){if(l.enqueue(`0\r
`),a){const p=r(await c);l.enqueue(`${i}:${p}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(d)||0).toString(16)}\r
${d}\r
`)}})};class yi{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function Xh(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=Ve(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${Ve(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Ve(n)}`),e.push(s)}}return e.join("&")}function Yh(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}class Qh{constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(r!=null&&r.aborted){const g=new Error("Request aborted");return g.name="AbortError",Promise.reject(g)}let s=e.path;const i=Xh(e.query||{});i&&(s+=`?${i}`),e.fragment&&(s+=`#${e.fragment}`);let o="";if(e.username!=null||e.password!=null){const g=e.username??"",b=e.password??"";o=`${g}:${b}@`}const{port:a,method:c}=e,u=`${e.protocol}//${o}${e.hostname}${a?`:${a}`:""}${s}`,d={body:c==="GET"||c==="HEAD"?void 0:e.body,headers:new Headers(e.headers),method:c};typeof AbortController<"u"&&(d.signal=r);const f=new Request(u,d),p=[fetch(f).then(g=>{const b=g.headers,E={};for(const U of b.entries())E[U[0]]=U[1];return g.body!=null?{response:new yi({headers:E,reason:g.statusText,statusCode:g.status,body:g.body})}:g.blob().then(U=>({response:new yi({headers:E,reason:g.statusText,statusCode:g.status,body:U})}))}),Yh(n)];return r&&p.push(new Promise((g,b)=>{r.onabort=()=>{const E=new Error("Request aborted");E.name="AbortError",b(E)}})),Promise.race(p)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const ou=t=>typeof Blob=="function"&&t instanceof Blob?Jh(t):ep(t);async function Jh(t){const e=await tp(t),r=ls(e);return new Uint8Array(r)}async function ep(t){let e=new Uint8Array(0);const r=t.getReader();let n=!1;for(;!n;){const{done:s,value:i}=await r.read();if(i){const o=e;e=new Uint8Array(o.length+i.length),e.set(o),e.set(i,o.length)}n=s}return e}function tp(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const gi="The stream has already been transformed.",rp=t=>{var s,i;if(!mi(t)&&!bi(t)){const o=((i=(s=t==null?void 0:t.__proto__)==null?void 0:s.constructor)==null?void 0:i.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1;const r=async()=>{if(e)throw new Error(gi);return e=!0,await ou(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return fs(a);if(o==="hex")return de(a);if(o===void 0||o==="utf8"||o==="utf-8")return vr(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(gi);if(e=!0,mi(t))return n(t);if(bi(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},mi=t=>typeof Blob=="function"&&t instanceof Blob,bi=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,au=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Ze.mutate(t);if(!t)return Ze.mutate(new Uint8Array);const r=e.streamCollector(t);return Ze.mutate(await r)};class np{constructor(){this.middlewareStack=hr()}}const Dt="***SensitiveInformation***",sp=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},ip=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],op=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ap(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,d=a<10?`0${a}`:`${a}`;return`${ip[n]}, ${c} ${op[r]} ${e} ${u}:${l}:${d} GMT`}class ds extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,ds.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const up=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},cp=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const s=fp(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw up(o,e)},lp=t=>({output:e,parsedBody:r,errorCode:n})=>{cp({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},fp=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),dp=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},hp=t=>{const e=[];for(const r in cr){const n=cr[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},pp=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},yp=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},gp=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},mp=t=>({...hp(t),...yp(t)}),bp=t=>({...pp(t),...gp(t)});function wi(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const uu=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=uu(t[r]));return t},Bn=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};Bn.prototype=Object.create(String.prototype,{constructor:{value:Bn,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Bn,String);function pr(t,e,r){let n,s,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return s=e,i=r,wp(n,s,i);i=e}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}xp(n,null,i,o)}return n}const wp=(t,e,r)=>pr(t,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[e,i()]:n[s]=[e,i],n),{})),xp=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=_p,c=vp,u=n]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=c(e[u]));return}let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=o:c&&(t[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[n]=i)}},_p=t=>t!=null,vp=t=>t,xi=(t,e,r,n,s,i)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,i?o.split("/").map(a=>wi(a)).join("/"):wi(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},Ep=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Sp="@aws-sdk/client-s3",Ap="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",Cp="3.405.0",Tp={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},Op="./dist-cjs/index.js",Rp="./dist-types/index.d.ts",Pp="./dist-es/index.js",Fp=!1,Bp={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.405.0","@aws-sdk/credential-provider-node":"3.405.0","@aws-sdk/middleware-bucket-endpoint":"3.405.0","@aws-sdk/middleware-expect-continue":"3.398.0","@aws-sdk/middleware-flexible-checksums":"3.400.0","@aws-sdk/middleware-host-header":"3.398.0","@aws-sdk/middleware-location-constraint":"3.398.0","@aws-sdk/middleware-logger":"3.398.0","@aws-sdk/middleware-recursion-detection":"3.398.0","@aws-sdk/middleware-sdk-s3":"3.398.0","@aws-sdk/middleware-signing":"3.398.0","@aws-sdk/middleware-ssec":"3.398.0","@aws-sdk/middleware-user-agent":"3.398.0","@aws-sdk/signature-v4-multi-region":"3.398.0","@aws-sdk/types":"3.398.0","@aws-sdk/util-endpoints":"3.398.0","@aws-sdk/util-user-agent-browser":"3.398.0","@aws-sdk/util-user-agent-node":"3.405.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.5","@smithy/eventstream-serde-browser":"^2.0.5","@smithy/eventstream-serde-config-resolver":"^2.0.5","@smithy/eventstream-serde-node":"^2.0.5","@smithy/fetch-http-handler":"^2.0.5","@smithy/hash-blob-browser":"^2.0.5","@smithy/hash-node":"^2.0.5","@smithy/hash-stream-node":"^2.0.5","@smithy/invalid-dependency":"^2.0.5","@smithy/md5-js":"^2.0.5","@smithy/middleware-content-length":"^2.0.5","@smithy/middleware-endpoint":"^2.0.5","@smithy/middleware-retry":"^2.0.5","@smithy/middleware-serde":"^2.0.5","@smithy/middleware-stack":"^2.0.0","@smithy/node-config-provider":"^2.0.6","@smithy/node-http-handler":"^2.0.5","@smithy/protocol-http":"^2.0.5","@smithy/smithy-client":"^2.0.5","@smithy/types":"^2.2.2","@smithy/url-parser":"^2.0.5","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.6","@smithy/util-defaults-mode-node":"^2.0.6","@smithy/util-retry":"^2.0.0","@smithy/util-stream":"^2.0.5","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.5","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},kp={"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},$p={node:">=14.0.0"},Np={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},Dp=["dist-*/**"],Mp={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},Ip="Apache-2.0",Up={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},jp="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",Lp={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},qp={name:Sp,description:Ap,version:Cp,scripts:Tp,main:Op,types:Rp,module:Pp,sideEffects:Fp,dependencies:Bp,devDependencies:kp,engines:$p,typesVersions:Np,files:Dp,author:Mp,license:Ip,browser:Up,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:jp,repository:Lp};var cu={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var kn=function(t,e){return kn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},kn(t,e)};function Hp(t,e){kn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $n=function(){return $n=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},$n.apply(this,arguments)};function zp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Vp(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Gp(t,e){return function(r,n){e(r,n,t)}}function Wp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Kp(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Zp(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Xp(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Yp(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Nn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function lu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Qp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(lu(arguments[e]));return t}function Jp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function e0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof jt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function t0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:jt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function r0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Nn=="function"?Nn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function n0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function s0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i0(t){return t&&t.__esModule?t:{default:t}}function o0(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function a0(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const u0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return $n},__asyncDelegator:t0,__asyncGenerator:e0,__asyncValues:r0,__await:jt,__awaiter:Kp,__classPrivateFieldGet:o0,__classPrivateFieldSet:a0,__createBinding:Xp,__decorate:Vp,__exportStar:Yp,__extends:Hp,__generator:Zp,__importDefault:i0,__importStar:s0,__makeTemplateObject:n0,__metadata:Wp,__param:Gp,__read:lu,__rest:zp,__spread:Qp,__spreadArrays:Jp,__values:Nn},Symbol.toStringTag,{value:"Module"})),c0=Oe(u0);var gt={},mt={},bt={},_i;function fu(){if(_i)return bt;_i=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return bt.isEmptyData=t,bt}var jr={},vi;function du(){return vi||(vi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_1=t.SHA_1_HMAC_ALGO=t.SHA_1_HASH=void 0,t.SHA_1_HASH={name:"SHA-1"},t.SHA_1_HMAC_ALGO={name:"HMAC",hash:t.SHA_1_HASH},t.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(jr)),jr}const l0={};function f0(){return typeof window<"u"?window:typeof self<"u"?self:l0}const d0=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:f0},Symbol.toStringTag,{value:"Module"})),ct=Oe(d0);var Ei;function hu(){if(Ei)return mt;Ei=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.Sha1=void 0;var t=fu(),e=du(),r=_r,n=ct,s=function(){function a(c){this.secret=c,this.reset()}return a.prototype.update=function(c){var u=this;(0,t.isEmptyData)(c)||(this.operation=this.operation.then(function(l){return l.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(c)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(c){return new Promise(function(u,l){c.onerror=function(){l(new Error("Error encountered finalizing hash"))},c.oncomplete=function(){c.result&&u(new Uint8Array(c.result)),l(new Error("Error encountered finalizing hash"))},c.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=i(this.secret).then(function(c){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_1_HMAC_ALGO,c)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();mt.Sha1=s;function i(a){return new Promise(function(c,u){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&c(l.result),u(new Error("ImportKey completed without importing key."))},l.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return mt}var wt={},Si;function pu(){if(Si)return wt;Si=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.Sha1=void 0;var t=_r,e=fu(),r=du(),n=ct,s=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(c,u){(0,n.locateWindow)().crypto.subtle.importKey("raw",i(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(c,u)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,e.isEmptyData)(a)){var c=i(a),u=new Uint8Array(this.toHash.byteLength+c.byteLength);u.set(this.toHash,0),u.set(c,this.toHash.byteLength),this.toHash=u}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(c){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,c,a.toHash).then(function(u){return new Uint8Array(u)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(c){return Promise.resolve(new Uint8Array(c))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();wt.Sha1=s;function i(o){return typeof o=="string"?(0,t.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return wt}var Lr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dn=function(t,e){return Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Dn(t,e)};function h0(t,e){Dn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mn=function(){return Mn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Mn.apply(this,arguments)};function p0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function y0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function g0(t,e){return function(r,n){e(r,n,t)}}function m0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function b0(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function w0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function x0(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function _0(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function In(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function v0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yu(arguments[e]));return t}function E0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Lt(t){return this instanceof Lt?(this.v=t,this):new Lt(t)}function S0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Lt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function A0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Lt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function C0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof In=="function"?In(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function T0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function O0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function R0(t){return t&&t.__esModule?t:{default:t}}function P0(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function F0(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const B0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Mn},__asyncDelegator:A0,__asyncGenerator:S0,__asyncValues:C0,__await:Lt,__awaiter:b0,__classPrivateFieldGet:P0,__classPrivateFieldSet:F0,__createBinding:x0,__decorate:y0,__exportStar:_0,__extends:h0,__generator:w0,__importDefault:R0,__importStar:O0,__makeTemplateObject:T0,__metadata:m0,__param:g0,__read:yu,__rest:p0,__spread:v0,__spreadArrays:E0,__values:In},Symbol.toStringTag,{value:"Module"})),gu=Oe(B0);var be={},Ai;function k0(){if(Ai)return be;Ai=1,Object.defineProperty(be,"__esModule",{value:!0}),be.supportsZeroByteGCM=be.supportsSubtleCrypto=be.supportsSecureRandom=be.supportsWebCrypto=void 0;var t=gu,e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return s(a)}return!1}be.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}be.supportsSecureRandom=n;function s(o){return o&&e.every(function(a){return typeof o[a]=="function"})}be.supportsSubtleCrypto=s;function i(o){return t.__awaiter(this,void 0,void 0,function(){var a,c;return t.__generator(this,function(u){switch(u.label){case 0:if(!s(o))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=u.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return c=u.sent(),[2,c.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return be.supportsZeroByteGCM=i,be}var Ci;function mu(){return Ci||(Ci=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=gu;e.__exportStar(k0(),t)}(Lr)),Lr}var qr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Un=function(t,e){return Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Un(t,e)};function $0(t,e){Un(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jn=function(){return jn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},jn.apply(this,arguments)};function N0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function D0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function M0(t,e){return function(r,n){e(r,n,t)}}function I0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function U0(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function j0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function L0(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function q0(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Ln(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function H0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(bu(arguments[e]));return t}function z0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function V0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof qt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function G0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:qt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function W0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ln=="function"?Ln(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function K0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Z0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function X0(t){return t&&t.__esModule?t:{default:t}}function Y0(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Q0(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const J0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return jn},__asyncDelegator:G0,__asyncGenerator:V0,__asyncValues:W0,__await:qt,__awaiter:U0,__classPrivateFieldGet:Y0,__classPrivateFieldSet:Q0,__createBinding:L0,__decorate:D0,__exportStar:q0,__extends:$0,__generator:j0,__importDefault:X0,__importStar:Z0,__makeTemplateObject:K0,__metadata:I0,__param:M0,__read:bu,__rest:N0,__spread:H0,__spreadArrays:z0,__values:Ln},Symbol.toStringTag,{value:"Module"})),ey=Oe(J0);var Hr={},Ti;function ty(){return Ti||(Ti=1,Object.defineProperty(Hr,"__esModule",{value:!0})),Hr}var zr={},Oi;function ry(){return Oi||(Oi=1,Object.defineProperty(zr,"__esModule",{value:!0})),zr}var Vr={},Ri;function ny(){return Ri||(Ri=1,Object.defineProperty(Vr,"__esModule",{value:!0})),Vr}var Gr={},Pi;function sy(){return Pi||(Pi=1,Object.defineProperty(Gr,"__esModule",{value:!0})),Gr}var xt={},Fi;function iy(){if(Fi)return xt;Fi=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(e(n)&&n.msCrypto.subtle!==void 0){var s=n.msCrypto,i=s.getRandomValues,o=s.subtle;return t.map(function(a){return o[a]}).concat(i).every(function(a){return typeof a=="function"})}return!1}return xt.isMsWindow=r,xt}var Bi;function wu(){return Bi||(Bi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ey;e.__exportStar(ty(),t),e.__exportStar(ry(),t),e.__exportStar(ny(),t),e.__exportStar(sy(),t),e.__exportStar(iy(),t)}(qr)),qr}var ki;function oy(){if(ki)return gt;ki=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.Sha1=void 0;var t=hu(),e=pu(),r=mu(),n=wu(),s=ct,i=Le(),o=function(){function a(c){if((0,r.supportsWebCrypto)((0,s.locateWindow)()))this.hash=new e.Sha1(c);else if((0,n.isMsWindow)((0,s.locateWindow)()))this.hash=new t.Sha1(c);else throw new Error("SHA1 not supported")}return a.prototype.update=function(c,u){this.hash.update((0,i.convertToBuffer)(c))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return gt.Sha1=o,gt}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha1=t.Ie11Sha1=void 0;var e=c0;e.__exportStar(oy(),t);var r=hu();Object.defineProperty(t,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=pu();Object.defineProperty(t,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(cu);var xu={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qn=function(t,e){return qn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},qn(t,e)};function ay(t,e){qn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hn=function(){return Hn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Hn.apply(this,arguments)};function uy(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function cy(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function ly(t,e){return function(r,n){e(r,n,t)}}function fy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function dy(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function hy(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function py(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function yy(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function zn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _u(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function gy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_u(arguments[e]));return t}function my(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Ht(t){return this instanceof Ht?(this.v=t,this):new Ht(t)}function by(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Ht?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function wy(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Ht(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function xy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof zn=="function"?zn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function _y(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function vy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Ey(t){return t&&t.__esModule?t:{default:t}}function Sy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Ay(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Cy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Hn},__asyncDelegator:wy,__asyncGenerator:by,__asyncValues:xy,__await:Ht,__awaiter:dy,__classPrivateFieldGet:Sy,__classPrivateFieldSet:Ay,__createBinding:py,__decorate:cy,__exportStar:yy,__extends:ay,__generator:hy,__importDefault:Ey,__importStar:vy,__makeTemplateObject:_y,__metadata:fy,__param:ly,__read:_u,__rest:uy,__spread:gy,__spreadArrays:my,__values:zn},Symbol.toStringTag,{value:"Module"})),Ty=Oe(Cy);var _t={},vt={},Et={},$i;function Oy(){if($i)return Et;$i=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return Et.isEmptyData=t,Et}var Wr={},Ni;function vu(){return Ni||(Ni=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Wr)),Wr}var Di;function Eu(){if(Di)return vt;Di=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.Sha256=void 0;var t=Oy(),e=vu(),r=_r,n=ct,s=function(){function a(c){this.secret=c,this.reset()}return a.prototype.update=function(c){var u=this;(0,t.isEmptyData)(c)||(this.operation=this.operation.then(function(l){return l.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(c)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(c){return new Promise(function(u,l){c.onerror=function(){l(new Error("Error encountered finalizing hash"))},c.oncomplete=function(){c.result&&u(new Uint8Array(c.result)),l(new Error("Error encountered finalizing hash"))},c.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=i(this.secret).then(function(c){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_256_HMAC_ALGO,c)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();vt.Sha256=s;function i(a){return new Promise(function(c,u){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&c(l.result),u(new Error("ImportKey completed without importing key."))},l.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return vt}var St={},Mi;function Su(){if(Mi)return St;Mi=1,Object.defineProperty(St,"__esModule",{value:!0}),St.Sha256=void 0;var t=Le(),e=vu(),r=ct,n=function(){function s(i){this.toHash=new Uint8Array(0),this.secret=i,this.reset()}return s.prototype.update=function(i){if(!(0,t.isEmptyData)(i)){var o=(0,t.convertToBuffer)(i),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},s.prototype.digest=function(){var i=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(e.SHA_256_HMAC_ALGO,o,i.toHash).then(function(a){return new Uint8Array(a)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(e.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(e.SHA_256_HASH,i.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},s.prototype.reset=function(){var i=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,t.convertToBuffer)(i.secret),e.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},s}();return St.Sha256=n,St}var Kr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vn=function(t,e){return Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Vn(t,e)};function Ry(t,e){Vn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Gn=function(){return Gn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Gn.apply(this,arguments)};function Py(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Fy(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function By(t,e){return function(r,n){e(r,n,t)}}function ky(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function $y(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Ny(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Dy(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function My(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Wn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Au(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Iy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Au(arguments[e]));return t}function Uy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function zt(t){return this instanceof zt?(this.v=t,this):new zt(t)}function jy(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof zt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ly(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:zt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function qy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Wn=="function"?Wn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Hy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function zy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Vy(t){return t&&t.__esModule?t:{default:t}}function Gy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Wy(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Ky=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Gn},__asyncDelegator:Ly,__asyncGenerator:jy,__asyncValues:qy,__await:zt,__awaiter:$y,__classPrivateFieldGet:Gy,__classPrivateFieldSet:Wy,__createBinding:Dy,__decorate:Fy,__exportStar:My,__extends:Ry,__generator:Ny,__importDefault:Vy,__importStar:zy,__makeTemplateObject:Hy,__metadata:ky,__param:By,__read:Au,__rest:Py,__spread:Iy,__spreadArrays:Uy,__values:Wn},Symbol.toStringTag,{value:"Module"})),Cu=Oe(Ky);var At={},le={},Ii;function Tu(){return Ii||(Ii=1,Object.defineProperty(le,"__esModule",{value:!0}),le.MAX_HASHABLE_LENGTH=le.INIT=le.KEY=le.DIGEST_LENGTH=le.BLOCK_SIZE=void 0,le.BLOCK_SIZE=64,le.DIGEST_LENGTH=32,le.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],le.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),le}var Ct={},Ui;function Zy(){if(Ui)return Ct;Ui=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.RawSha256=void 0;var t=Tu(),e=function(){function r(){this.state=Int32Array.from(t.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var s=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>t.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[s++],i--,this.bufferLength===t.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,s=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(s.setUint8(this.bufferLength++,128),i%t.BLOCK_SIZE>=t.BLOCK_SIZE-8){for(var o=this.bufferLength;o<t.BLOCK_SIZE;o++)s.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<t.BLOCK_SIZE-8;o++)s.setUint8(o,0);s.setUint32(t.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),s.setUint32(t.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(t.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,s=n.buffer,i=n.state,o=i[0],a=i[1],c=i[2],u=i[3],l=i[4],d=i[5],f=i[6],p=i[7],g=0;g<t.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(s[g*4]&255)<<24|(s[g*4+1]&255)<<16|(s[g*4+2]&255)<<8|s[g*4+3]&255;else{var b=this.temp[g-2],E=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10;b=this.temp[g-15];var H=(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3;this.temp[g]=(E+this.temp[g-7]|0)+(H+this.temp[g-16]|0)}var U=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&d^~l&f)|0)+(p+(t.KEY[g]+this.temp[g]|0)|0)|0,ye=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&c^a&c)|0;p=f,f=d,d=l,l=u+U|0,u=c,c=a,a=o,o=U+ye|0}i[0]+=o,i[1]+=a,i[2]+=c,i[3]+=u,i[4]+=l,i[5]+=d,i[6]+=f,i[7]+=p},r}();return Ct.RawSha256=e,Ct}var ji;function Xy(){if(ji)return At;ji=1,Object.defineProperty(At,"__esModule",{value:!0}),At.Sha256=void 0;var t=Cu,e=Tu(),r=Zy(),n=Le(),s=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(c){this.error=c}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=i(this.secret),c=new Uint8Array(e.BLOCK_SIZE);c.set(a);for(var u=0;u<e.BLOCK_SIZE;u++)a[u]^=54,c[u]^=92;this.hash.update(a),this.outer.update(c);for(var u=0;u<a.byteLength;u++)a[u]=0}},o}();At.Sha256=s;function i(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>e.BLOCK_SIZE){var c=new r.RawSha256;c.update(a),a=c.digest()}var u=new Uint8Array(e.BLOCK_SIZE);return u.set(a),u}return At}var Li;function Yy(){return Li||(Li=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Cu;e.__exportStar(Xy(),t)}(Kr)),Kr}var qi;function Qy(){if(qi)return _t;qi=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.Sha256=void 0;var t=Eu(),e=Su(),r=Yy(),n=mu(),s=wu(),i=ct,o=Le(),a=function(){function c(u){(0,n.supportsWebCrypto)((0,i.locateWindow)())?this.hash=new e.Sha256(u):(0,s.isMsWindow)((0,i.locateWindow)())?this.hash=new t.Sha256(u):this.hash=new r.Sha256(u)}return c.prototype.update=function(u,l){this.hash.update((0,o.convertToBuffer)(u))},c.prototype.digest=function(){return this.hash.digest()},c.prototype.reset=function(){this.hash.reset()},c}();return _t.Sha256=a,_t}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var e=Ty;e.__exportStar(Qy(),t);var r=Eu();Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=Su();Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(xu);const Jy={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Ou={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},j={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},oe={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ie={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class m{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=m.getVersionPrecision(e),i=m.getVersionPrecision(r);let o=Math.max(s,i),a=0;const c=m.map([e,r],u=>{const l=o-m.getVersionPrecision(u),d=u+new Array(l+1).join(".0");return m.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return Jy[e]}static getBrowserTypeByAlias(e){return Ou[e]||""}}const N=/version\/(\d+(\.?_?\d+)+)/i,eg=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=m.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=m.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=m.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=m.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=m.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=m.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=m.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=m.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=m.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=m.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=m.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=m.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=m.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=m.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=m.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=m.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=m.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=m.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=m.getFirstMatch(N,t)||m.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=m.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=m.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=m.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=m.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=m.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=m.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=m.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=m.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=m.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=m.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:m.getFirstMatch(s,t),version:m.getSecondMatch(s,t)}}}],tg=[{test:[/Roku\/DVP/],describe(t){const e=m.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:oe.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=m.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:oe.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=m.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=m.getWindowsVersionName(e);return{name:oe.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:oe.iOS},r=m.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=m.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=m.getMacOSVersionName(e),n={name:oe.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=m.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:oe.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=m.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=m.getAndroidVersionName(e),n={name:oe.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=m.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:oe.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=m.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||m.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||m.getFirstMatch(/\bbb(\d+)/i,t);return{name:oe.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=m.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:oe.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=m.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:oe.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:oe.Linux}}},{test:[/CrOS/],describe(){return{name:oe.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=m.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:oe.PlayStation4,version:e}}}],rg=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=m.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:j.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:j.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:j.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:j.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:j.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=m.getFirstMatch(/(ipod|iphone)/i,t);return{type:j.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:j.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:j.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:j.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:j.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:j.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:j.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:j.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:j.tv}}}],ng=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Ie.Blink};const r=m.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ie.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Ie.Trident},r=m.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Ie.Presto},r=m.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Ie.Gecko},r=m.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ie.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Ie.WebKit},r=m.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Hi{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=m.find(eg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=m.find(tg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=m.find(rg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=m.find(ng,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return m.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(s[a]=c,i+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=m.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const u=m.find(a,l=>this.isPlatform(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}}if(i>0){const a=Object.keys(s),c=m.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(s[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=m.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(m.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Ru{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Hi(e,r)}static parse(e){return new Hi(e).getResult()}static get BROWSER_MAP(){return Ou}static get ENGINE_MAP(){return Ie}static get OS_MAP(){return oe}static get PLATFORMS_MAP(){return j}}const sg=({serviceId:t,clientVersion:e})=>async()=>{var s,i,o,a,c;const r=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?Ru.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${((i=r==null?void 0:r.os)==null?void 0:i.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((c=r==null?void 0:r.browser)==null?void 0:c.version)??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n};function ig(t){let e=0,r=0,n=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:c,done:u}=await a.next();if(u){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=c.length;let d=0;for(;d<l;){if(!n){const p=l-d;s||(s=new Uint8Array(4));const g=Math.min(4-r,p);if(s.set(c.slice(d,d+g),r),r+=g,d+=g,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const f=Math.min(e-r,l-d);n.set(c.slice(d,d+f),r),r+=f,d+=f,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function og(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},o=await t(i);if(o.$unknown){const a=new Error(e(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let ag=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new Cf(e,r),this.utfEncoder=e}deserialize(e,r){const n=ig(e);return new Rf({messageStream:new Tf({inputStream:n,decoder:this.eventStreamCodec}),deserializer:og(r,this.utfEncoder)})}serialize(e,r){return new Of({messageStream:new Pf({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const ug=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),cg=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await e.next();if(n)return r.close();r.enqueue(s)}})};class lg{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new ag({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=fg(e)?ug(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?cg(n):n}}const fg=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,dg=t=>new lg(t);function hg(t,e,r=1024*1024){return new Promise((n,s)=>{const i=new FileReader;i.addEventListener("error",s),i.addEventListener("abort",s);const o=t.size;let a=0;function c(){if(a>=o){n();return}i.readAsArrayBuffer(t.slice(a,Math.min(o,a+r)))}i.addEventListener("load",u=>{const l=u.target.result;e(new Uint8Array(l)),a+=l.byteLength,c()}),c()})}const pg=async function(e,r){const n=new e;return await hg(r,s=>{n.update(s)}),n.digest()},yg=t=>()=>Promise.reject(t),ke=64,gg=16,mg=[1732584193,4023233417,2562383102,271733878];class bg{constructor(){this.reset()}update(e){if(wg(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=xg(e);let n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===ke&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%ke>=ke-8){for(let o=this.bufferLength;o<ke;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<ke-8;o++)r.setUint8(o,0);r.setUint32(ke-8,i>>>0,!0),r.setUint32(ke-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(gg));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],s=r[1],i=r[2],o=r[3];n=te(n,s,i,o,e.getUint32(0,!0),7,3614090360),o=te(o,n,s,i,e.getUint32(4,!0),12,3905402710),i=te(i,o,n,s,e.getUint32(8,!0),17,606105819),s=te(s,i,o,n,e.getUint32(12,!0),22,3250441966),n=te(n,s,i,o,e.getUint32(16,!0),7,4118548399),o=te(o,n,s,i,e.getUint32(20,!0),12,1200080426),i=te(i,o,n,s,e.getUint32(24,!0),17,2821735955),s=te(s,i,o,n,e.getUint32(28,!0),22,4249261313),n=te(n,s,i,o,e.getUint32(32,!0),7,1770035416),o=te(o,n,s,i,e.getUint32(36,!0),12,2336552879),i=te(i,o,n,s,e.getUint32(40,!0),17,4294925233),s=te(s,i,o,n,e.getUint32(44,!0),22,2304563134),n=te(n,s,i,o,e.getUint32(48,!0),7,1804603682),o=te(o,n,s,i,e.getUint32(52,!0),12,4254626195),i=te(i,o,n,s,e.getUint32(56,!0),17,2792965006),s=te(s,i,o,n,e.getUint32(60,!0),22,1236535329),n=re(n,s,i,o,e.getUint32(4,!0),5,4129170786),o=re(o,n,s,i,e.getUint32(24,!0),9,3225465664),i=re(i,o,n,s,e.getUint32(44,!0),14,643717713),s=re(s,i,o,n,e.getUint32(0,!0),20,3921069994),n=re(n,s,i,o,e.getUint32(20,!0),5,3593408605),o=re(o,n,s,i,e.getUint32(40,!0),9,38016083),i=re(i,o,n,s,e.getUint32(60,!0),14,3634488961),s=re(s,i,o,n,e.getUint32(16,!0),20,3889429448),n=re(n,s,i,o,e.getUint32(36,!0),5,568446438),o=re(o,n,s,i,e.getUint32(56,!0),9,3275163606),i=re(i,o,n,s,e.getUint32(12,!0),14,4107603335),s=re(s,i,o,n,e.getUint32(32,!0),20,1163531501),n=re(n,s,i,o,e.getUint32(52,!0),5,2850285829),o=re(o,n,s,i,e.getUint32(8,!0),9,4243563512),i=re(i,o,n,s,e.getUint32(28,!0),14,1735328473),s=re(s,i,o,n,e.getUint32(48,!0),20,2368359562),n=ne(n,s,i,o,e.getUint32(20,!0),4,4294588738),o=ne(o,n,s,i,e.getUint32(32,!0),11,2272392833),i=ne(i,o,n,s,e.getUint32(44,!0),16,1839030562),s=ne(s,i,o,n,e.getUint32(56,!0),23,4259657740),n=ne(n,s,i,o,e.getUint32(4,!0),4,2763975236),o=ne(o,n,s,i,e.getUint32(16,!0),11,1272893353),i=ne(i,o,n,s,e.getUint32(28,!0),16,4139469664),s=ne(s,i,o,n,e.getUint32(40,!0),23,3200236656),n=ne(n,s,i,o,e.getUint32(52,!0),4,681279174),o=ne(o,n,s,i,e.getUint32(0,!0),11,3936430074),i=ne(i,o,n,s,e.getUint32(12,!0),16,3572445317),s=ne(s,i,o,n,e.getUint32(24,!0),23,76029189),n=ne(n,s,i,o,e.getUint32(36,!0),4,3654602809),o=ne(o,n,s,i,e.getUint32(48,!0),11,3873151461),i=ne(i,o,n,s,e.getUint32(60,!0),16,530742520),s=ne(s,i,o,n,e.getUint32(8,!0),23,3299628645),n=se(n,s,i,o,e.getUint32(0,!0),6,4096336452),o=se(o,n,s,i,e.getUint32(28,!0),10,1126891415),i=se(i,o,n,s,e.getUint32(56,!0),15,2878612391),s=se(s,i,o,n,e.getUint32(20,!0),21,4237533241),n=se(n,s,i,o,e.getUint32(48,!0),6,1700485571),o=se(o,n,s,i,e.getUint32(12,!0),10,2399980690),i=se(i,o,n,s,e.getUint32(40,!0),15,4293915773),s=se(s,i,o,n,e.getUint32(4,!0),21,2240044497),n=se(n,s,i,o,e.getUint32(32,!0),6,1873313359),o=se(o,n,s,i,e.getUint32(60,!0),10,4264355552),i=se(i,o,n,s,e.getUint32(24,!0),15,2734768916),s=se(s,i,o,n,e.getUint32(52,!0),21,1309151649),n=se(n,s,i,o,e.getUint32(16,!0),6,4149444226),o=se(o,n,s,i,e.getUint32(44,!0),10,3174756917),i=se(i,o,n,s,e.getUint32(8,!0),15,718787259),s=se(s,i,o,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(mg),this.buffer=new DataView(new ArrayBuffer(ke)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Sr(t,e,r,n,s,i){return e=(e+t&4294967295)+(n+i&4294967295)&4294967295,(e<<s|e>>>32-s)+r&4294967295}function te(t,e,r,n,s,i,o){return Sr(e&r|~e&n,t,e,s,i,o)}function re(t,e,r,n,s,i,o){return Sr(e&n|r&~n,t,e,s,i,o)}function ne(t,e,r,n,s,i,o){return Sr(e^r^n,t,e,s,i,o)}function se(t,e,r,n,s,i,o){return Sr(r^(e|~n),t,e,s,i,o)}function wg(t){return typeof t=="string"?t.length===0:t.byteLength===0}function xg(t){return typeof t=="string"?Gt(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const _g=t=>{if(typeof t=="string"){let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};class vg{constructor(e){this.sigv4Signer=new Pn(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const hs="required",h="type",y="conditions",w="fn",x="argv",P="ref",J="assign",A="url",C="properties",Pe="authSchemes",Fe="disableDoubleEncoding",Be="signingName",qe="signingRegion",T="headers",zi=!1,Se=!0,Ae="isSet",_="tree",ie="booleanEquals",S="error",yr="aws.partition",I="stringEquals",q="getAttr",ge="name",Tt="substring",Pu="hardwareType",Fu="regionPrefix",Vi="bucketAliasSuffix",Kn="outpostId",Qe="isValidHostLabel",ve="not",Bu="parseURL",ps="s3-outposts",v="endpoint",Gi="aws.isVirtualHostableS3Bucket",at="s3",ku="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",$u="{url#scheme}://{Bucket}.{url#authority}{url#path}",Nu="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Wi="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Du="aws.parseArn",Mu="bucketArn",Iu="arnType",gr="",ys="s3-object-lambda",Uu="accesspoint",gs="accessPointName",Ki="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Zi="mrapPartition",Xi="outpostType",Yi="arnPrefix",ju="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Qi="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Zn="{url#scheme}://{url#authority}{url#path}",Ji="https://s3.{partitionResult#dnsSuffix}",Zr={[hs]:!1,[h]:"String"},rt={[hs]:!0,default:!1,[h]:"Boolean"},Xr={[hs]:!1,[h]:"Boolean"},xe={[w]:ie,[x]:[{[P]:"Accelerate"},!0]},M={[w]:ie,[x]:[{[P]:"UseFIPS"},!0]},D={[w]:ie,[x]:[{[P]:"UseDualStack"},!0]},L={[w]:Ae,[x]:[{[P]:"Endpoint"}]},Lu={[w]:yr,[x]:[{[P]:"Region"}],[J]:"partitionResult"},eo={[w]:I,[x]:[{[w]:q,[x]:[{[P]:"partitionResult"},ge]},"aws-cn"]},qu={[w]:Ae,[x]:[{[P]:"Bucket"}]},Te={[P]:"Bucket"},to={[P]:Pu},ro={[y]:[{[w]:ve,[x]:[L]}],[S]:"Expected a endpoint to be specified but no endpoint was found",[h]:S},R={[w]:ve,[x]:[L]},ae={[w]:Bu,[x]:[{[P]:"Endpoint"}],[J]:"url"},Jt={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:ps,[qe]:"{Region}"}]},B={},Yr={[w]:ie,[x]:[{[P]:"ForcePathStyle"},!1]},Eg={[P]:"ForcePathStyle"},V={[w]:ie,[x]:[{[P]:"Accelerate"},!1]},K={[w]:I,[x]:[{[P]:"Region"},"aws-global"]},Z={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:at,[qe]:"us-east-1"}]},$={[w]:ve,[x]:[K]},X={[w]:ie,[x]:[{[P]:"UseGlobalEndpoint"},!0]},no={[A]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:{[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:at,[qe]:"{Region}"}]},[T]:{}},W={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:at,[qe]:"{Region}"}]},Y={[w]:ie,[x]:[{[P]:"UseGlobalEndpoint"},!1]},k={[w]:ie,[x]:[{[P]:"UseDualStack"},!1]},so={[A]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},F={[w]:ie,[x]:[{[P]:"UseFIPS"},!1]},io={[A]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},oo={[A]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},Qr={[w]:ie,[x]:[{[w]:q,[x]:[{[P]:"url"},"isIp"]},!0]},Hu={[P]:"url"},Jr={[w]:ie,[x]:[{[w]:q,[x]:[Hu,"isIp"]},!1]},en={[A]:ku,[C]:W,[T]:{}},Xn={[A]:$u,[C]:W,[T]:{}},ao={[v]:Xn,[h]:v},tn={[A]:Nu,[C]:W,[T]:{}},uo={[A]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},er={[S]:"Invalid region: region was not a valid DNS name.",[h]:S},ce={[P]:Mu},zu={[P]:Iu},rn={[w]:q,[x]:[ce,"service"]},ms={[P]:gs},co={[y]:[D],[S]:"S3 Object Lambda does not support Dual-stack",[h]:S},lo={[y]:[xe],[S]:"S3 Object Lambda does not support S3 Accelerate",[h]:S},fo={[y]:[{[w]:Ae,[x]:[{[P]:"DisableAccessPoints"}]},{[w]:ie,[x]:[{[P]:"DisableAccessPoints"},!0]}],[S]:"Access points are not supported for this operation",[h]:S},nn={[y]:[{[w]:Ae,[x]:[{[P]:"UseArnRegion"}]},{[w]:ie,[x]:[{[P]:"UseArnRegion"},!1]},{[w]:ve,[x]:[{[w]:I,[x]:[{[w]:q,[x]:[ce,"region"]},"{Region}"]}]}],[S]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:S},Vu={[w]:q,[x]:[{[P]:"bucketPartition"},ge]},Gu={[w]:q,[x]:[ce,"accountId"]},sn={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:ys,[qe]:"{bucketArn#region}"}]},ho={[S]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:S},on={[S]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:S},an={[S]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:S},un={[S]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:S},po={[S]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:S},yo={[S]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:S},Ot={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:at,[qe]:"{bucketArn#region}"}]},go={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:ps,[qe]:"{bucketArn#region}"}]},mo={[w]:Du,[x]:[Te]},bo={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:W,[T]:{}},wo={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:W,[T]:{}},xo={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:W,[T]:{}},cn={[A]:ju,[C]:W,[T]:{}},_o={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:W,[T]:{}},vo={[P]:"UseObjectLambdaEndpoint"},ln={[Pe]:[{[Fe]:!0,[ge]:"sigv4",[Be]:ys,[qe]:"{Region}"}]},Eo={[A]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},So={[A]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},Ao={[A]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},fn={[A]:Zn,[C]:W,[T]:{}},Co={[A]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[C]:W,[T]:{}},dn=[{[P]:"Region"}],Sg=[{[P]:"Endpoint"}],To=[Te],Oo=[{[w]:Qe,[x]:[{[P]:Kn},!1]}],Ro=[{[w]:I,[x]:[{[P]:Fu},"beta"]}],Rt=[L,ae],Po=[qu],$e=[Lu],Fo=[{[w]:Qe,[x]:[{[P]:"Region"},!1]}],Ne=[{[w]:I,[x]:[{[P]:"Region"},"us-east-1"]}],hn=[{[w]:I,[x]:[zu,Uu]}],Bo=[{[w]:q,[x]:[ce,"resourceId[1]"],[J]:gs},{[w]:ve,[x]:[{[w]:I,[x]:[ms,gr]}]}],Ag=[ce,"resourceId[1]"],ko=[D],pn=[xe],yn=[{[w]:ve,[x]:[{[w]:I,[x]:[{[w]:q,[x]:[ce,"region"]},gr]}]}],$o=[{[w]:ve,[x]:[{[w]:Ae,[x]:[{[w]:q,[x]:[ce,"resourceId[2]"]}]}]}],Cg=[ce,"resourceId[2]"],gn=[{[w]:yr,[x]:[{[w]:q,[x]:[ce,"region"]}],[J]:"bucketPartition"}],No=[{[w]:I,[x]:[Vu,{[w]:q,[x]:[{[P]:"partitionResult"},ge]}]}],mn=[{[w]:Qe,[x]:[{[w]:q,[x]:[ce,"region"]},!0]}],bn=[{[w]:Qe,[x]:[Gu,!1]}],Do=[{[w]:Qe,[x]:[ms,!1]}],tr=[M],Mo=[{[w]:Qe,[x]:[{[P]:"Region"},!0]}],Tg={version:"1.0",parameters:{Bucket:Zr,Region:Zr,UseFIPS:rt,UseDualStack:rt,Endpoint:Zr,ForcePathStyle:rt,Accelerate:rt,UseGlobalEndpoint:rt,UseObjectLambdaEndpoint:Xr,DisableAccessPoints:Xr,DisableMultiRegionAccessPoints:rt,UseArnRegion:Xr},rules:[{[y]:[{[w]:Ae,[x]:dn}],[h]:_,rules:[{[y]:[xe,M],error:"Accelerate cannot be used with FIPS",[h]:S},{[y]:[D,L],error:"Cannot set dual-stack in combination with a custom endpoint.",[h]:S},{[y]:[L,M],error:"A custom endpoint cannot be combined with FIPS",[h]:S},{[y]:[L,xe],error:"A custom endpoint cannot be combined with S3 Accelerate",[h]:S},{[y]:[M,Lu,eo],error:"Partition does not support FIPS",[h]:S},{[y]:[qu,{[w]:Tt,[x]:[Te,49,50,Se],[J]:Pu},{[w]:Tt,[x]:[Te,8,12,Se],[J]:Fu},{[w]:Tt,[x]:[Te,0,7,Se],[J]:Vi},{[w]:Tt,[x]:[Te,32,49,Se],[J]:Kn},{[w]:yr,[x]:dn,[J]:"regionPartition"},{[w]:I,[x]:[{[P]:Vi},"--op-s3"]}],[h]:_,rules:[{[y]:Oo,[h]:_,rules:[{[y]:[{[w]:I,[x]:[to,"e"]}],[h]:_,rules:[{[y]:Ro,[h]:_,rules:[ro,{[y]:Rt,endpoint:{[A]:"https://{Bucket}.ec2.{url#authority}",[C]:Jt,[T]:B},[h]:v}]},{endpoint:{[A]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:Jt,[T]:B},[h]:v}]},{[y]:[{[w]:I,[x]:[to,"o"]}],[h]:_,rules:[{[y]:Ro,[h]:_,rules:[ro,{[y]:Rt,endpoint:{[A]:"https://{Bucket}.op-{outpostId}.{url#authority}",[C]:Jt,[T]:B},[h]:v}]},{endpoint:{[A]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[C]:Jt,[T]:B},[h]:v}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:S}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:S}]},{[y]:Po,[h]:_,rules:[{[y]:[L,{[w]:ve,[x]:[{[w]:Ae,[x]:[{[w]:Bu,[x]:Sg}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:S},{[y]:[Yr,{[w]:Gi,[x]:[Te,zi]}],[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:Fo,[h]:_,rules:[{[y]:[xe,eo],error:"S3 Accelerate cannot be used in this region",[h]:S},{[y]:[D,M,V,R,K],endpoint:{[A]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[D,M,V,R,$,X],[h]:_,rules:[{endpoint:no,[h]:v}]},{[y]:[D,M,V,R,$,Y],endpoint:no,[h]:v},{[y]:[k,M,V,R,K],endpoint:{[A]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[k,M,V,R,$,X],[h]:_,rules:[{endpoint:so,[h]:v}]},{[y]:[k,M,V,R,$,Y],endpoint:so,[h]:v},{[y]:[D,F,xe,R,K],endpoint:{[A]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[D,F,xe,R,$,X],[h]:_,rules:[{endpoint:io,[h]:v}]},{[y]:[D,F,xe,R,$,Y],endpoint:io,[h]:v},{[y]:[D,F,V,R,K],endpoint:{[A]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[D,F,V,R,$,X],[h]:_,rules:[{endpoint:oo,[h]:v}]},{[y]:[D,F,V,R,$,Y],endpoint:oo,[h]:v},{[y]:[k,F,V,L,ae,Qr,K],endpoint:{[A]:ku,[C]:Z,[T]:B},[h]:v},{[y]:[k,F,V,L,ae,Jr,K],endpoint:{[A]:$u,[C]:Z,[T]:B},[h]:v},{[y]:[k,F,V,L,ae,Qr,$,X],[h]:_,rules:[{[y]:Ne,endpoint:en,[h]:v},{endpoint:en,[h]:v}]},{[y]:[k,F,V,L,ae,Jr,$,X],[h]:_,rules:[{[y]:Ne,endpoint:Xn,[h]:v},ao]},{[y]:[k,F,V,L,ae,Qr,$,Y],endpoint:en,[h]:v},{[y]:[k,F,V,L,ae,Jr,$,Y],endpoint:Xn,[h]:v},{[y]:[k,F,xe,R,K],endpoint:{[A]:Nu,[C]:Z,[T]:B},[h]:v},{[y]:[k,F,xe,R,$,X],[h]:_,rules:[{[y]:Ne,endpoint:tn,[h]:v},{endpoint:tn,[h]:v}]},{[y]:[k,F,xe,R,$,Y],endpoint:tn,[h]:v},{[y]:[k,F,V,R,K],endpoint:{[A]:Wi,[C]:Z,[T]:B},[h]:v},{[y]:[k,F,V,R,$,X],[h]:_,rules:[{[y]:Ne,endpoint:{[A]:Wi,[C]:W,[T]:B},[h]:v},{endpoint:uo,[h]:v}]},{[y]:[k,F,V,R,$,Y],endpoint:uo,[h]:v}]},er]}]},{[y]:[L,ae,{[w]:I,[x]:[{[w]:q,[x]:[Hu,"scheme"]},"http"]},{[w]:Gi,[x]:[Te,Se]},Yr,F,k,V],[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:Fo,[h]:_,rules:[ao]},er]}]},{[y]:[Yr,{[w]:Du,[x]:To,[J]:Mu}],[h]:_,rules:[{[y]:[{[w]:q,[x]:[ce,"resourceId[0]"],[J]:Iu},{[w]:ve,[x]:[{[w]:I,[x]:[zu,gr]}]}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[rn,ys]}],[h]:_,rules:[{[y]:hn,[h]:_,rules:[{[y]:Bo,[h]:_,rules:[co,lo,{[y]:yn,[h]:_,rules:[fo,{[y]:$o,[h]:_,rules:[nn,{[y]:gn,[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:No,[h]:_,rules:[{[y]:mn,[h]:_,rules:[{[y]:[{[w]:I,[x]:[Gu,gr]}],error:"Invalid ARN: Missing account id",[h]:S},{[y]:bn,[h]:_,rules:[{[y]:Do,[h]:_,rules:[{[y]:Rt,endpoint:{[A]:Ki,[C]:sn,[T]:B},[h]:v},{[y]:tr,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:sn,[T]:B},[h]:v},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:sn,[T]:B},[h]:v}]},ho]},on]},an]},un]}]}]},po]},{error:"Invalid ARN: bucket ARN is missing a region",[h]:S}]},yo]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:S}]},{[y]:hn,[h]:_,rules:[{[y]:Bo,[h]:_,rules:[{[y]:yn,[h]:_,rules:[{[y]:hn,[h]:_,rules:[{[y]:yn,[h]:_,rules:[fo,{[y]:$o,[h]:_,rules:[nn,{[y]:gn,[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:[{[w]:I,[x]:[Vu,"{partitionResult#name}"]}],[h]:_,rules:[{[y]:mn,[h]:_,rules:[{[y]:[{[w]:I,[x]:[rn,at]}],[h]:_,rules:[{[y]:bn,[h]:_,rules:[{[y]:Do,[h]:_,rules:[{[y]:pn,error:"Access Points do not support S3 Accelerate",[h]:S},{[y]:[M,D],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ot,[T]:B},[h]:v},{[y]:[M,k],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ot,[T]:B},[h]:v},{[y]:[F,D],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ot,[T]:B},[h]:v},{[y]:[F,k,L,ae],endpoint:{[A]:Ki,[C]:Ot,[T]:B},[h]:v},{[y]:[F,k],endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:Ot,[T]:B},[h]:v}]},ho]},on]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:S}]},an]},un]}]}]},po]}]}]},{[y]:[{[w]:Qe,[x]:[ms,Se]}],[h]:_,rules:[{[y]:ko,error:"S3 MRAP does not support dual-stack",[h]:S},{[y]:tr,error:"S3 MRAP does not support FIPS",[h]:S},{[y]:pn,error:"S3 MRAP does not support S3 Accelerate",[h]:S},{[y]:[{[w]:ie,[x]:[{[P]:"DisableMultiRegionAccessPoints"},Se]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:S},{[y]:[{[w]:yr,[x]:dn,[J]:Zi}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[{[w]:q,[x]:[{[P]:Zi},ge]},{[w]:q,[x]:[ce,"partition"]}]}],[h]:_,rules:[{endpoint:{[A]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[C]:{[Pe]:[{[Fe]:Se,name:"sigv4a",[Be]:at,signingRegionSet:["*"]}]},[T]:B},[h]:v}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:S}]}]},{error:"Invalid Access Point Name",[h]:S}]},yo]},{[y]:[{[w]:I,[x]:[rn,ps]}],[h]:_,rules:[{[y]:ko,error:"S3 Outposts does not support Dual-stack",[h]:S},{[y]:tr,error:"S3 Outposts does not support FIPS",[h]:S},{[y]:pn,error:"S3 Outposts does not support S3 Accelerate",[h]:S},{[y]:[{[w]:Ae,[x]:[{[w]:q,[x]:[ce,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:S},{[y]:[{[w]:q,[x]:Ag,[J]:Kn}],[h]:_,rules:[{[y]:Oo,[h]:_,rules:[nn,{[y]:gn,[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:No,[h]:_,rules:[{[y]:mn,[h]:_,rules:[{[y]:bn,[h]:_,rules:[{[y]:[{[w]:q,[x]:Cg,[J]:Xi}],[h]:_,rules:[{[y]:[{[w]:q,[x]:[ce,"resourceId[3]"],[J]:gs}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[{[P]:Xi},Uu]}],[h]:_,rules:[{[y]:Rt,endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[C]:go,[T]:B},[h]:v},{endpoint:{[A]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[C]:go,[T]:B},[h]:v}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:S}]},{error:"Invalid ARN: expected an access point name",[h]:S}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:S}]},on]},an]},un]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:S}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:S}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:S}]},{error:"Invalid ARN: No ARN type specified",[h]:S}]},{[y]:[{[w]:Tt,[x]:[Te,0,4,zi],[J]:Yi},{[w]:I,[x]:[{[P]:Yi},"arn:"]},{[w]:ve,[x]:[{[w]:Ae,[x]:[mo]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:S},{[y]:[{[w]:ie,[x]:[Eg,Se]},mo],error:"Path-style addressing cannot be used with ARN buckets",[h]:S},{[y]:[{[w]:"uriEncode",[x]:To,[J]:"uri_encoded_bucket"}],[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:[V],[h]:_,rules:[{[y]:[D,R,M,K],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Z,[T]:B},[h]:v},{[y]:[D,R,M,$,X],[h]:_,rules:[{endpoint:bo,[h]:v}]},{[y]:[D,R,M,$,Y],endpoint:bo,[h]:v},{[y]:[k,R,M,K],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Z,[T]:B},[h]:v},{[y]:[k,R,M,$,X],[h]:_,rules:[{endpoint:wo,[h]:v}]},{[y]:[k,R,M,$,Y],endpoint:wo,[h]:v},{[y]:[D,R,F,K],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[C]:Z,[T]:B},[h]:v},{[y]:[D,R,F,$,X],[h]:_,rules:[{endpoint:xo,[h]:v}]},{[y]:[D,R,F,$,Y],endpoint:xo,[h]:v},{[y]:[k,L,ae,F,K],endpoint:{[A]:ju,[C]:Z,[T]:B},[h]:v},{[y]:[k,L,ae,F,$,X],[h]:_,rules:[{[y]:Ne,endpoint:cn,[h]:v},{endpoint:cn,[h]:v}]},{[y]:[k,L,ae,F,$,Y],endpoint:cn,[h]:v},{[y]:[k,R,F,K],endpoint:{[A]:Qi,[C]:Z,[T]:B},[h]:v},{[y]:[k,R,F,$,X],[h]:_,rules:[{[y]:Ne,endpoint:{[A]:Qi,[C]:W,[T]:B},[h]:v},{endpoint:_o,[h]:v}]},{[y]:[k,R,F,$,Y],endpoint:_o,[h]:v}]},{error:"Path-style addressing cannot be used with S3 Accelerate",[h]:S}]}]}]},{[y]:[{[w]:Ae,[x]:[vo]},{[w]:ie,[x]:[vo,Se]}],[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:Mo,[h]:_,rules:[co,lo,{[y]:Rt,endpoint:{[A]:Zn,[C]:ln,[T]:B},[h]:v},{[y]:tr,endpoint:{[A]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[C]:ln,[T]:B},[h]:v},{endpoint:{[A]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[C]:ln,[T]:B},[h]:v}]},er]}]},{[y]:[{[w]:ve,[x]:Po}],[h]:_,rules:[{[y]:$e,[h]:_,rules:[{[y]:Mo,[h]:_,rules:[{[y]:[M,D,R,K],endpoint:{[A]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[M,D,R,$,X],[h]:_,rules:[{endpoint:Eo,[h]:v}]},{[y]:[M,D,R,$,Y],endpoint:Eo,[h]:v},{[y]:[M,k,R,K],endpoint:{[A]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[M,k,R,$,X],[h]:_,rules:[{endpoint:So,[h]:v}]},{[y]:[M,k,R,$,Y],endpoint:So,[h]:v},{[y]:[F,D,R,K],endpoint:{[A]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[C]:Z,[T]:B},[h]:v},{[y]:[F,D,R,$,X],[h]:_,rules:[{endpoint:Ao,[h]:v}]},{[y]:[F,D,R,$,Y],endpoint:Ao,[h]:v},{[y]:[F,k,L,ae,K],endpoint:{[A]:Zn,[C]:Z,[T]:B},[h]:v},{[y]:[F,k,L,ae,$,X],[h]:_,rules:[{[y]:Ne,endpoint:fn,[h]:v},{endpoint:fn,[h]:v}]},{[y]:[F,k,L,ae,$,Y],endpoint:fn,[h]:v},{[y]:[F,k,R,K],endpoint:{[A]:Ji,[C]:Z,[T]:B},[h]:v},{[y]:[F,k,R,$,X],[h]:_,rules:[{[y]:Ne,endpoint:{[A]:Ji,[C]:W,[T]:B},[h]:v},{endpoint:Co,[h]:v}]},{[y]:[F,k,R,$,Y],endpoint:Co,[h]:v}]},er]}]}]},{error:"A region must be set when sending requests to S3.",[h]:S}]},Og=Tg,Rg=(t,e={})=>Bd(Og,{endpointParams:t,logger:e.logger}),Pg=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??ls,base64Encoder:(t==null?void 0:t.base64Encoder)??fs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??Rg,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??Zh,logger:(t==null?void 0:t.logger)??new zh,sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??rp,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??vg,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??lr,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Gt,utf8Encoder:(t==null?void 0:t.utf8Encoder)??vr}),Fg=["in-region","cross-region","mobile","standard","legacy"],Bg=({defaultsMode:t}={})=>Sa(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(kg()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Fg.join(", ")}, got ${e}`)}}),kg=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?Ru.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},$g=t=>{const e=Bg(t),r=()=>e().then(dp),n=Pg(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??_g,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??sg({serviceId:n.serviceId,clientVersion:qp.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??dg,maxAttempts:(t==null?void 0:t.maxAttempts)??fr,md5:(t==null?void 0:t.md5)??bg,region:(t==null?void 0:t.region)??yg("Region is missing"),requestHandler:(t==null?void 0:t.requestHandler)??new Qh(r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||dh),sha1:(t==null?void 0:t.sha1)??cu.Sha1,sha256:(t==null?void 0:t.sha256)??xu.Sha256,streamCollector:(t==null?void 0:t.streamCollector)??ou,streamHasher:(t==null?void 0:t.streamHasher)??pg,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(Id)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(Ud))}},Ng=t=>t,Dg=(t,e)=>{const r={...Ng(mp(t))};return e.forEach(n=>n.configure(r)),{...t,...bp(r)}};class Mg extends Vh{constructor(...[e]){const r=$g(e||{}),n=Ep(r),s=jd(n),i=fh(s),o=Dh(i),a=o,c=td(a),u=Pl(c),l=ad(u),d=Ld(l),f=Dg(d,(e==null?void 0:e.extensions)||[]);super(f),this.config=f,this.middlewareStack.use(qh(this.config)),this.middlewareStack.use(Gd(this.config)),this.middlewareStack.use(ml(this.config)),this.middlewareStack.use(xl(this.config)),this.middlewareStack.use(Al(this.config)),this.middlewareStack.use(od(this.config)),this.middlewareStack.use($l(this.config)),this.middlewareStack.use(pl(this.config)),this.middlewareStack.use(Md(this.config))}destroy(){super.destroy()}}var bs={},Ar={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",s=new RegExp("^"+n+"$"),i=function(a,c){const u=[];let l=c.exec(a);for(;l;){const d=[];d.startIndex=c.lastIndex-l[0].length;const f=l.length;for(let p=0;p<f;p++)d.push(l[p]);u.push(d),l=c.exec(a)}return u},o=function(a){const c=s.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,u){if(c){const l=Object.keys(c),d=l.length;for(let f=0;f<d;f++)u==="strict"?a[l[f]]=[c[l[f]]]:a[l[f]]=c[l[f]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=i,t.nameRegexp=n})(Ar);const ws=Ar,Ig={allowBooleanAttributes:!1,unpairedTags:[]};bs.validate=function(t,e){e=Object.assign({},Ig,e);const r=[];let n=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=Uo(t,i),i.err)return i}else if(t[i]==="<"){let o=i;if(i++,t[i]==="!"){i=jo(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!Gg(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",G("InvalidTag",d,ue(t,i))}const u=Lg(t,i);if(u===!1)return G("InvalidAttr","Attributes for '"+c+"' have open quote.",ue(t,i));let l=u.value;if(i=u.index,l[l.length-1]==="/"){const d=i-l.length;l=l.substring(0,l.length-1);const f=Lo(l,e);if(f===!0)n=!0;else return G(f.err.code,f.err.msg,ue(t,d+f.err.line))}else if(a)if(u.tagClosed){if(l.trim().length>0)return G("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ue(t,o));{const d=r.pop();if(c!==d.tagName){let f=ue(t,d.tagStartPos);return G("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",ue(t,o))}r.length==0&&(s=!0)}}else return G("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ue(t,i));else{const d=Lo(l,e);if(d!==!0)return G(d.err.code,d.err.msg,ue(t,i-l.length+d.err.line));if(s===!0)return G("InvalidXml","Multiple possible root nodes found.",ue(t,i));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=jo(t,i);continue}else if(t[i+1]==="?"){if(i=Uo(t,++i),i.err)return i}else break;else if(t[i]==="&"){const d=zg(t,i);if(d==-1)return G("InvalidChar","char '&' is not expected.",ue(t,i));i=d}else if(s===!0&&!Io(t[i]))return G("InvalidXml","Extra text at the end",ue(t,i));t[i]==="<"&&i--}}else{if(Io(t[i]))continue;return G("InvalidChar","char '"+t[i]+"' is not expected.",ue(t,i))}if(n){if(r.length==1)return G("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ue(t,r[0].tagStartPos));if(r.length>0)return G("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return G("InvalidXml","Start tag expected.",1);return!0};function Io(t){return t===" "||t==="	"||t===`
`||t==="\r"}function Uo(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const n=t.substr(r,e-r);if(e>5&&n==="xml")return G("InvalidXml","XML declaration allowed only at the start of the document.",ue(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function jo(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const Ug='"',jg="'";function Lg(t,e){let r="",n="",s=!1;for(;e<t.length;e++){if(t[e]===Ug||t[e]===jg)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){s=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:s}}const qg=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Lo(t,e){const r=ws.getAllMatches(t,qg),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return G("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Pt(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return G("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Pt(r[s]));if(r[s][3]===void 0&&!e.allowBooleanAttributes)return G("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Pt(r[s]));const i=r[s][2];if(!Vg(i))return G("InvalidAttr","Attribute '"+i+"' is an invalid name.",Pt(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return G("InvalidAttr","Attribute '"+i+"' is repeated.",Pt(r[s]))}return!0}function Hg(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function zg(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,Hg(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function G(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function Vg(t){return ws.isName(t)}function Gg(t){return ws.isName(t)}function ue(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Pt(t){return t.startIndex+t[1].length}var xs={};const Wu={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},Wg=function(t){return Object.assign({},Wu,t)};xs.buildOptions=Wg;xs.defaultOptions=Wu;class Kg{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var Zg=Kg;const Xg=Ar;function Yg(t,e){const r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,s=!1,i=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&em(t,e))e+=7,[entityName,val,e]=Qg(t,e+1),val.indexOf("&")===-1&&(r[sm(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&tm(t,e))e+=8;else if(s&&rm(t,e))e+=8;else if(s&&nm(t,e))e+=9;else if(Jg)i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):n--,n===0)break}else t[e]==="["?s=!0:o+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function Qg(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=t[e++];let s="";for(;e<t.length&&t[e]!==n;e++)s+=t[e];return[r,s,e]}function Jg(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function em(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function tm(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function rm(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function nm(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function sm(t){if(Xg.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var im=Yg;const om=/^[-+]?0x[a-fA-F0-9]+$/,am=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const um={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function cm(t,e={}){if(e=Object.assign({},um,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&om.test(r))return Number.parseInt(r,16);{const n=am.exec(r);if(n){const s=n[1],i=n[2];let o=lm(n[3]);const a=n[4]||n[6];if(!e.leadingZeros&&i.length>0&&s&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!s&&r[1]!==".")return t;{const c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?u==="0"&&o===""||u===o||s&&u==="-"+o?c:t:i?o===u||s+o===u?c:t:r===u||r===s+u?c:t}}else return t}}function lm(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var fm=cm;const _s=Ar,Ft=Zg,dm=im,hm=fm;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,_s.nameRegexp);let pm=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=ym,this.parseXml=xm,this.parseTextData=gm,this.resolveNameSpace=mm,this.buildAttributesMap=wm,this.isItStopNode=Sm,this.replaceEntitiesValue=vm,this.readStopNodeData=Cm,this.saveTextToParentTag=Em,this.addChild=_m}};function ym(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function gm(t,e,r,n,s,i,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,r,s,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Qn(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Qn(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function mm(t){if(this.options.removeNSPrefix){const e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}const bm=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function wm(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){const n=_s.getAllMatches(t,bm),s=n.length,i={};for(let o=0;o<s;o++){const a=this.resolveNameSpace(n[o][1]);let c=n[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const l=this.options.attributeValueProcessor(a,c,e);l==null?i[u]=c:typeof l!=typeof c||l!==c?i[u]=l:i[u]=Qn(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[u]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=i,o}return i}}const xm=function(t){t=t.replace(/\r\n?/g,`
`);const e=new Ft("!xml");let r=e,n="",s="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){const a=Ge(t,">",i,"Closing Tag is not closed.");let c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){const d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));const u=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),r=this.tagsNodeStack.pop(),n="",i=a}else if(t[i+1]==="?"){let a=Yn(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const c=new Ft(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){const a=Ge(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const c=t.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){const a=dm(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){const a=Ge(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let u=this.parseTextData(c,r.tagname,s,!0,!1,!0);u==null&&(u=""),r.add(this.options.textNodeName,u)}i=a+2}else{let a=Yn(t,i,this.options.removeNSPrefix),c=a.tagName,u=a.tagExp,l=a.attrExpPresent,d=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));const f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==e.tagname&&(s+=s?"."+c:c),this.isItStopNode(this.options.stopNodes,s,c)){let p="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{const b=this.readStopNodeData(t,c,d+1);if(!b)throw new Error(`Unexpected end of ${c}`);i=b.i,p=b.tagContent}const g=new Ft(c);c!==u&&l&&(g[":@"]=this.buildAttributesMap(u,s,c)),p&&(p=this.parseTextData(p,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),g.add(this.options.textNodeName,p),this.addChild(r,g,s)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const p=new Ft(c);c!==u&&l&&(p[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,p,s),s=s.substr(0,s.lastIndexOf("."))}else{const p=new Ft(c);this.tagsNodeStack.push(r),c!==u&&l&&(p[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,p,s),r=p}n="",i=d}}else n+=t[i];return e.child};function _m(t,e,r){const n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}const vm=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function Em(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Sm(t,e,r){const n="*."+r;for(const s in t){const i=t[s];if(n===i||e===i)return!0}return!1}function Am(t,e,r=">"){let n,s="";for(let i=e;i<t.length;i++){let o=t[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Ge(t,e,r,n){const s=t.indexOf(e,r);if(s===-1)throw new Error(n);return s+e.length-1}function Yn(t,e,r,n=">"){const s=Am(t,e+1,n);if(!s)return;let i=s.data;const o=s.index,a=i.search(/\s/);let c=i,u=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){const l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),u=c!==s.data.substr(l+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:u}}function Cm(t,e,r){const n=r;let s=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){const i=Ge(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(n,r),i};r=i}else if(t[r+1]==="?")r=Ge(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Ge(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Ge(t,"]]>",r,"StopNode is not closed.")-2;else{const i=Yn(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function Qn(t,e,r){if(e&&typeof t=="string"){const n=t.trim();return n==="true"?!0:n==="false"?!1:hm(t,r)}else return _s.isExist(t)?t:""}var Tm=pm,Ku={};function Om(t,e){return Zu(t,e)}function Zu(t,e,r){let n;const s={};for(let i=0;i<t.length;i++){const o=t[i],a=Rm(o);let c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=Zu(o[a],e,c);const l=Fm(u,e);o[":@"]?Pm(u,o[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(u)):e.isArray(a,c,l)?s[a]=[u]:s[a]=u}}}return typeof n=="string"?n.length>0&&(s[e.textNodeName]=n):n!==void 0&&(s[e.textNodeName]=n),s}function Rm(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function Pm(t,e,r,n){if(e){const s=Object.keys(e),i=s.length;for(let o=0;o<i;o++){const a=s[o];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Fm(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}Ku.prettify=Om;const{buildOptions:Bm}=xs,km=Tm,{prettify:$m}=Ku,Nm=bs;let Dm=class{constructor(e){this.externalEntities={},this.options=Bm(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const i=Nm.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const n=new km(this.options);n.addExternalEntities(this.externalEntities);const s=n.parseXml(e);return this.options.preserveOrder||s===void 0?s:$m(s,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};var Mm=Dm;const Im=`
`;function Um(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=Im),Xu(t,e,"",r)}function Xu(t,e,r,n){let s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o],c=jm(a);let u="";if(r.length===0?u=c:u=`${r}.${c}`,c===e.textNodeName){let g=a[c];Lm(u,e)||(g=e.tagValueProcessor(c,g),g=Yu(g,e)),i&&(s+=n),s+=g,i=!1;continue}else if(c===e.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,i=!1;continue}else if(c===e.commentPropName){s+=n+`<!--${a[c][0][e.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){const g=qo(a[":@"],e),b=c==="?xml"?"":n;let E=a[c][0][e.textNodeName];E=E.length!==0?" "+E:"",s+=b+`<${c}${E}${g}?>`,i=!0;continue}let l=n;l!==""&&(l+=e.indentBy);const d=qo(a[":@"],e),f=n+`<${c}${d}`,p=Xu(a[c],e,u,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?s+=f+">":s+=f+"/>":(!p||p.length===0)&&e.suppressEmptyNode?s+=f+"/>":p&&p.endsWith(">")?s+=f+`>${p}${n}</${c}>`:(s+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?s+=n+e.indentBy+p+n:s+=p,s+=`</${c}>`),i=!0}return s}function jm(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function qo(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let s=e.attributeValueProcessor(n,t[n]);s=Yu(s,e),s===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${s}"`}return r}function Lm(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function Yu(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}var qm=Um;const Hm=qm,zm={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function He(t){this.options=Object.assign({},zm,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=Wm),this.processTextOrObjNode=Vm,this.options.format?(this.indentate=Gm,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}He.prototype.build=function(t){return this.options.preserveOrder?Hm(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};He.prototype.j2x=function(t,e){let r="",n="";for(let s in t)if(!(typeof t[s]>"u"))if(t[s]===null)s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){const i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+t[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+t[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){const i=t[s].length;let o="";for(let a=0;a<i;a++){const c=t[s][a];typeof c>"u"||(c===null?s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?o+=this.j2x(c,e+1).val:o+=this.processTextOrObjNode(c,s,e):o+=this.buildTextValNode(c,s,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,"",e)),n+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const i=Object.keys(t[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+t[s][i[a]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}};He.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function Vm(t,e,r){const n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}He.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",s=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+i+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+s}};He.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};He.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+s+"</"+e+this.tagEndChar}};He.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function Gm(t){return this.options.indentBy.repeat(t)}function Wm(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}var Km=He;const Zm=bs,Xm=Mm,Ym=Km;var Qm={XMLParser:Xm,XMLValidator:Zm,XMLBuilder:Ym};class vs extends ds{constructor(e){super(e),Object.setPrototypeOf(this,vs.prototype)}}var Ho;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Ho||(Ho={}));var zo;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(zo||(zo={}));var Vo;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Vo||(Vo={}));var Go;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Go||(Go={}));const Jm=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:Dt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Dt}}),eb=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:Dt},...t.SSEKMSKeyId&&{SSEKMSKeyId:Dt},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Dt}}),tb=async(t,e)=>{const{hostname:r,protocol:n="https",port:s,path:i}=await e.endpoint(),o=pr({},Bt,{"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[()=>Bt(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[()=>Bt(t.Expires),()=>ap(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Bt(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Bt(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((d,f)=>(d[`x-amz-meta-${f.toLowerCase()}`]=t.Metadata[f],d),{})});let a=`${i!=null&&i.endsWith("/")?i.slice(0,-1):i||""}/{Key+}`;a=xi(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=xi(a,t,"Key",()=>t.Key,"{Key+}",!0);const c=pr({"x-id":[,"PutObject"]});let u;t.Body!==void 0&&(u=t.Body);let l;return t.Body!==void 0&&(l=t.Body,u=l),new Re({protocol:n,hostname:r,port:s,method:"PUT",headers:o,path:a,query:c,body:u})},rb=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return nb(t,e);const r=pr({$metadata:ib(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>sp(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await au(t.body,e),r},nb=async(t,e)=>{const r={...t,body:await ub(t.body,e)},n=cb(t,r.body),s=r.body;return sb({output:t,parsedBody:s,errorCode:n})},sb=lp(vs),ib=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),ob=(t,e)=>au(t,e).then(r=>e.utf8Encoder(r)),Bt=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),ab=(t,e)=>ob(t,e).then(r=>{if(r.length){const n=new Qm.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const s=n.parse(r),i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),uu(a)}return{}}),ub=async(t,e)=>{const r=await ab(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},cb=(t,e)=>{if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};function lb(t){return e=>async r=>{let n={...r.input};const s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const o=n[i.target];if(o){const a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?t.utf8Decoder(o):new Uint8Array(o),c=t.base64Encoder(a),u=new t.md5;u.update(a),n={...n,[i.target]:c,[i.hash]:t.base64Encoder(await u.digest())}}}return e({...r,input:n})}}const fb={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},db=t=>({applyToStack:e=>{e.add(lb(t),fb)}});var ee;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(ee||(ee={}));var Wo;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Wo||(Wo={}));const Jn=[ee.CRC32,ee.CRC32C,ee.SHA1,ee.SHA256],hb=[ee.CRC32,ee.CRC32C,ee.SHA1,ee.SHA256],pb=(t,{requestChecksumRequired:e,requestAlgorithmMember:r})=>{if(!r||!t[r])return e?ee.MD5:void 0;const n=t[r];if(!Jn.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${Jn}.`);return n},Qu=t=>t===ee.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,yb=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},Es=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Ma(t);var wn={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var es=function(t,e){return es=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},es(t,e)};function gb(t,e){es(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ts=function(){return ts=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ts.apply(this,arguments)};function mb(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function bb(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function wb(t,e){return function(r,n){e(r,n,t)}}function xb(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function _b(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function vb(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Eb(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Sb(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function rs(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ju(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ab(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ju(arguments[e]));return t}function Cb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Vt(t){return this instanceof Vt?(this.v=t,this):new Vt(t)}function Tb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,b){i.push([f,p,g,b])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Vt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Ob(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Vt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Rb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof rs=="function"?rs(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Pb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Fb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Bb(t){return t&&t.__esModule?t:{default:t}}function kb(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function $b(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Nb=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ts},__asyncDelegator:Ob,__asyncGenerator:Tb,__asyncValues:Rb,__await:Vt,__awaiter:_b,__classPrivateFieldGet:kb,__classPrivateFieldSet:$b,__createBinding:Eb,__decorate:bb,__exportStar:Sb,__extends:gb,__generator:vb,__importDefault:Bb,__importStar:Fb,__makeTemplateObject:Pb,__metadata:xb,__param:wb,__read:Ju,__rest:mb,__spread:Ab,__spreadArrays:Cb,__values:rs},Symbol.toStringTag,{value:"Module"})),ec=Oe(Nb);var kt={},Ko;function Db(){if(Ko)return kt;Ko=1,Object.defineProperty(kt,"__esModule",{value:!0}),kt.AwsCrc32c=void 0;var t=ec,e=Le(),r=tc(),n=function(){function s(){this.crc32c=new r.Crc32c}return s.prototype.update=function(i){(0,e.isEmptyData)(i)||this.crc32c.update((0,e.convertToBuffer)(i))},s.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(i){return[2,(0,e.numToUint8)(this.crc32c.digest())]})})},s.prototype.reset=function(){this.crc32c=new r.Crc32c},s}();return kt.AwsCrc32c=n,kt}var Zo;function tc(){return Zo||(Zo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32c=t.Crc32c=t.crc32c=void 0;var e=ec,r=Le();function n(c){return new s().update(c).digest()}t.crc32c=n;var s=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var l,d;try{for(var f=e.__values(u),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(b){l={error:b}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();t.Crc32c=s;var i=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(i),a=Db();Object.defineProperty(t,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(wn)),wn}var Mb=tc();const rc=(t,e)=>({[ee.MD5]:e.md5,[ee.CRC32]:as.AwsCrc32,[ee.CRC32C]:Mb.AwsCrc32c,[ee.SHA1]:e.sha1,[ee.SHA256]:e.sha256})[t],nc=(t,e)=>{const r=new t;return r.update(st(e||"")),r.digest()},Ib=(t,e)=>r=>async n=>{if(!Re.isInstance(n.request))return r(n);const{request:s}=n,{body:i,headers:o}=s,{base64Encoder:a,streamHasher:c}=t,{input:u,requestChecksumRequired:l,requestAlgorithmMember:d}=e,f=pb(u,{requestChecksumRequired:l,requestAlgorithmMember:d});let p=i,g=o;if(f){const E=Qu(f),H=rc(f,t);if(Es(i)){const{getAwsChunkedEncodingStream:U,bodyLengthChecker:ye}=t;p=U(i,{base64Encoder:a,bodyLengthChecker:ye,checksumLocationName:E,checksumAlgorithmFn:H,streamHasher:c}),g={...o,"content-encoding":o["content-encoding"]?`${o["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":o["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":E},delete g["content-length"]}else if(!yb(E,o)){const U=await nc(H,i);g={...o,[E]:a(U)}}}return await r({...n,request:{...s,headers:g,body:p}})};function Xo(t){return new Blob([t]).stream()}const Ub=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{const s=Es(t)?e(r,t):nc(r,t);return n(await s)},jb=(t=[])=>{const e=[];for(const r of hb)!t.includes(r)||!Jn.includes(r)||e.push(r);return e},Lb=async(t,{config:e,responseAlgorithms:r})=>{const n=jb(r),{body:s,headers:i}=t;for(const o of n){const a=Qu(o),c=i[a];if(c){const u=rc(o,e),{streamHasher:l,base64Encoder:d}=e,f=await Ub(s,{streamHasher:l,checksumAlgorithmFn:u,base64Encoder:d});if(f===c)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${c}" in response header "${a}".`)}}},qb={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Hb=(t,e)=>r=>async n=>{if(!Re.isInstance(n.request))return r(n);const s=n.input,i=await r(n),o=i.response;let a;const{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&s[c]==="ENABLED"){const l=Es(o.body);l&&(a=await t.streamCollector(o.body),o.body=Xo(a)),await Lb(i.response,{config:t,responseAlgorithms:u}),l&&a&&(o.body=Xo(a))}return i},zb={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Vb=(t,e)=>({applyToStack:r=>{r.add(Ib(t,e),zb),r.addRelativeTo(Hb(t,e),qb)}});class Ss extends np{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(uh(r,this.serialize,this.deserialize)),this.middlewareStack.use(lh(r,Ss.getEndpointParameterInstructions())),this.middlewareStack.use(Rl()),this.middlewareStack.use(db(r)),this.middlewareStack.use(Vb(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const s=e.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:eb,outputFilterSensitiveLog:Jm},{requestHandler:u}=r;return s.resolve(l=>u.handle(l.request,n||{}),c)}serialize(e,r){return tb(e,r)}deserialize(e,r){return rb(e,r)}}const Gb="dluhc-poc",Wb=new Mg({region:"us-east-1",credentials:{accessKeyId:"testaccesskey",secretAccessKey:"testsecretkey"},endpoint:"http://127.0.0.1:9000"}),Kb=async(t,e)=>{const r={Bucket:Gb,Key:`${t}.json`,Body:JSON.stringify(e),ContentType:"application/json; charset=utf-8"};Wb.send(new Ss(r)).then(()=>{alert("Form uploaded successfully.")}).catch(n=>{console.log(n)})},Yo=(t,e,r)=>{var a;const n=sc(e,r),s={...t.properties,...n.properties};let i=[...t.required??[]];return(a=n.required)!=null&&a.length&&(i=[...i,...n.required]),{...t,properties:s,required:i}},sc=(t,e)=>{let r={type:t.type,title:t.title,dependencies:{},properties:{},required:t.required??[]};return Object.keys((t==null?void 0:t.properties)||{}).forEach(s=>{var i,o,a;(i=t.properties)!=null&&i[s]&&(((a=(o=t.properties)==null?void 0:o[s])==null?void 0:a.type)==="object"?r=Yo(r,t.properties[s],e):r.properties={...r.properties,[s]:t.properties[s]},t.dependencies&&t.dependencies[s]&&e[s]&&(r=Yo(r,t.dependencies[s],e)))}),r},Zb=new cc,Xb=({filepath:t,data:e,uiSchema:r})=>{var ye;const[n,s]=Wt(null),[i,o]=Wt({}),[a,c]=Wt(0),[u,l]=Wt({});ic(()=>{e?s(e):t?oc(t).then(me=>{s(me)}):s(null)},[s,t,e]);const d=Kt(()=>n&&sc(n,i),[n,i]);if(!d||!(d!=null&&d.properties))return null;const f=Kt(()=>Object.keys(d.properties||{}),[d]),p=Kt(()=>f[a],[f,a]),g=Kt(()=>nl(p,d),[p,d]),b=()=>{!d||a<=0||c(a-1)},E=()=>{if(!(!d||a>=f.length-1))try{g.validateSync({[p]:i[p]}),c(a+1),l({[p]:[]})}catch(me){const Je=me;l({[p]:Je.errors})}},H=()=>{Kb("local_plan",i)},U=(me,Je)=>{const lt={...i,[me]:Je};o(lt)};return O(lc,{client:Zb,children:O(cl,{title:d.properties[p].title,subtitle:d.properties[p].subtitle,onBackClicked:b,onContinueClicked:E,onSubmitClicked:H,isLastQuestion:a===f.length-1,children:[O(ul,{id:p,formPageSchema:d.properties[p],uiSchema:r==null?void 0:r[p],value:i[p],onFormValueChange:U}),!!((ye=u[p])!=null&&ye.length)&&O("div",{children:u[p][0]})]})})},Yb=Xb,fw={component:Yb,title:"SOW13/Site Selection Form",tags:["autodocs"]},rr={args:{data:{required:["siteUse","relationshipTo","address","name","age","consent"],type:"object",properties:{name:{type:"string",title:"Your name"},consent:{type:"boolean",title:"I confirm consent for my data to be processed"},siteUse:{type:"array",items:{type:"string"},title:"What use or uses do you think should be considered for this site?",subtitle:"You can choose as many uses as you'd like.",enum:["Housing","Industry - including distribution or logistics uses","Commercial uses - office, retails, leisure, hotel or mixed","Community uses","Minerals - extracting, processing , and so on","Waste - recycling or processing","Tourism","Gypsy and Traveller site","Travelling Show-people site","New public green space","Renewable energy","Energy storage","Other"]},relationshipTo:{type:"string",title:"Your relationship to the site",enum:["Landowner","Developer","Local Authority","Planning Agent","None"]},isBrownfieldSite:{type:"boolean",title:"Is this a Brownfield Site? "},age:{type:"number",title:"Age in years",step:1,min:18,max:35},address:{type:"string",title:"Please provide the fullest postal address you can"}}},uiSchema:{relationshipTo:{"ui:widget":"radio"},isBrownfieldSite:{"ui:widget":"radio"}}}},nr={args:{data:{required:[],type:"object",properties:{groupedExample:{type:"object",properties:{parentQuestion:{type:"string",title:"Parent question",subtitle:'Adding a value here will add an "Additional question"'},unrelatedQuestion:{type:"string",title:"Unrelated question",subtitle:"This question should come after the Parent and Additional questions"}},dependencies:{parentQuestion:{properties:{addedQuestion:{type:"string",title:"Additional question",subtitle:'This question should only be asked if you answered the "Parent questions"'}},required:["addedQuestion"]}}}}}}},sr={args:{data:{required:["boundaryDataMap"],type:"object",properties:{groupedExample:{type:"object",properties:{boundaryDataMap:{type:"array",title:"Where are the boundaries of this site?",items:{type:"array",items:{type:"array",items:{type:"number"}}}},unrelatedQuestion:{type:"string",title:"Unrelated question",subtitle:"This question should come after the Parent and Additional questions"}}}}},uiSchema:{boundaryDataMap:{"ui:widget":"map"}}}};var Qo,Jo,ea;rr.parameters={...rr.parameters,docs:{...(Qo=rr.parameters)==null?void 0:Qo.docs,source:{originalSource:`{
  args: {
    data: {
      required: ["siteUse", "relationshipTo", "address", "name", "age", "consent"],
      type: "object",
      properties: {
        name: {
          type: "string",
          title: "Your name"
        },
        consent: {
          type: "boolean",
          title: "I confirm consent for my data to be processed"
        },
        siteUse: {
          type: "array",
          items: {
            type: "string"
          },
          title: "What use or uses do you think should be considered for this site?",
          subtitle: "You can choose as many uses as you'd like.",
          enum: ["Housing", "Industry - including distribution or logistics uses", "Commercial uses - office, retails, leisure, hotel or mixed", "Community uses", "Minerals - extracting, processing , and so on", "Waste - recycling or processing", "Tourism", "Gypsy and Traveller site", "Travelling Show-people site", "New public green space", "Renewable energy", "Energy storage", "Other"]
        },
        relationshipTo: {
          type: "string",
          title: "Your relationship to the site",
          enum: ["Landowner", "Developer", "Local Authority", "Planning Agent", "None"]
        },
        isBrownfieldSite: {
          type: "boolean",
          title: "Is this a Brownfield Site? "
        },
        age: {
          type: "number",
          title: "Age in years",
          step: 1,
          min: 18,
          max: 35
        },
        address: {
          type: "string",
          title: "Please provide the fullest postal address you can"
        }
      }
    },
    uiSchema: {
      relationshipTo: {
        "ui:widget": "radio"
      },
      isBrownfieldSite: {
        "ui:widget": "radio"
      }
    }
  }
}`,...(ea=(Jo=rr.parameters)==null?void 0:Jo.docs)==null?void 0:ea.source}}};var ta,ra,na;nr.parameters={...nr.parameters,docs:{...(ta=nr.parameters)==null?void 0:ta.docs,source:{originalSource:`{
  args: {
    data: {
      required: [],
      type: "object",
      properties: {
        groupedExample: {
          type: "object",
          properties: {
            parentQuestion: {
              type: "string",
              title: "Parent question",
              subtitle: 'Adding a value here will add an "Additional question"'
            },
            unrelatedQuestion: {
              type: "string",
              title: "Unrelated question",
              subtitle: "This question should come after the Parent and Additional questions"
            }
          },
          dependencies: {
            parentQuestion: {
              properties: {
                addedQuestion: {
                  type: "string",
                  title: "Additional question",
                  subtitle: 'This question should only be asked if you answered the "Parent questions"'
                }
              },
              required: ["addedQuestion"]
            }
          }
        }
      }
    }
  }
}`,...(na=(ra=nr.parameters)==null?void 0:ra.docs)==null?void 0:na.source}}};var sa,ia,oa;sr.parameters={...sr.parameters,docs:{...(sa=sr.parameters)==null?void 0:sa.docs,source:{originalSource:`{
  args: {
    data: {
      required: ["boundaryDataMap"],
      type: "object",
      properties: {
        groupedExample: {
          type: "object",
          properties: {
            boundaryDataMap: {
              type: "array",
              title: "Where are the boundaries of this site?",
              items: {
                type: "array",
                items: {
                  type: "array",
                  items: {
                    type: "number"
                  }
                }
              }
            },
            unrelatedQuestion: {
              type: "string",
              title: "Unrelated question",
              subtitle: "This question should come after the Parent and Additional questions"
            }
          }
        }
      }
    },
    uiSchema: {
      boundaryDataMap: {
        "ui:widget": "map"
      }
    }
  }
}`,...(oa=(ia=sr.parameters)==null?void 0:ia.docs)==null?void 0:oa.source}}};const dw=["Default","ConditionalPage","MapPage"];export{nr as ConditionalPage,rr as Default,sr as MapPage,dw as __namedExportsOrder,fw as default};
//# sourceMappingURL=SiteSelection.stories-82884c55.js.map
