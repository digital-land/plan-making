{"version":3,"file":"TimetableForm.stories-aaca3cf4.js","sources":["../../src/components/formComponents/dateInput/DateInput.tsx","../../src/components/timetableForm/components/DescriptionPage.tsx","../../src/components/timetableForm/constants.ts","../../src/components/timetableForm/utils.ts","../../src/components/timetableForm/components/ExportPage.tsx","../../src/components/timetableForm/components/PublishedDatePage.tsx","../../src/components/timetableForm/components/StagePage.tsx","../../src/components/timetableForm/components/TitlePage.tsx","../../src/components/timetableForm/components/LandingPage.tsx","../../src/components/timetableForm/TimetableForm.tsx"],"sourcesContent":["import { DateValue } from \"./types\";\n\ninterface DateInputProps {\n  showDays?: boolean;\n  value: DateValue;\n  onChange: (value: DateValue) => void;\n}\n\nconst DateInput = ({ showDays = true, value, onChange }: DateInputProps) => {\n  return (\n    <div className=\"flex mb-4\">\n      {showDays && (\n        <label className=\"mr-2\">\n          <p>Day</p>\n          <input\n            type=\"text\"\n            value={value.day || \"\"}\n            onChange={(event) =>\n              onChange({ ...value, day: event.currentTarget.value })\n            }\n            className=\"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n          />\n        </label>\n      )}\n\n      <label className=\"mx-2\">\n        <p>Month</p>\n        <input\n          type=\"text\"\n          value={value.month || \"\"}\n          onChange={(event) =>\n            onChange({ ...value, month: event.currentTarget.value })\n          }\n          className=\"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n        />\n      </label>\n\n      <label className=\"mx-2\">\n        <p>Year</p>\n        <input\n          type=\"text\"\n          value={value.year || \"\"}\n          onChange={(event) =>\n            onChange({ ...value, year: event.currentTarget.value })\n          }\n          className=\"border-2 border-black w-20 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default DateInput;\n","import { Textarea } from \"src/components/formComponents\";\n\ninterface DescriptionPageProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst DescriptionPage = ({ value, onChange }: DescriptionPageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Summary text</h1>\n      <p className=\"text-sm mb-2 text-gray-600\">\n        Keep this specific to your own Local Plan\n      </p>\n      <Textarea value={value} onChange={onChange} maxLength={400} />\n    </div>\n  );\n};\n\nexport default DescriptionPage;\n","import { NOT_STARTED } from \"src/models/timetable/constants\";\nimport { DateValue } from \"../formComponents/dateInput/types\";\nimport { FormStage, FormState } from \"./types\";\n\nexport const LANDING_KEY = \"landing\";\nexport const TITLE_KEY = \"title\";\nexport const DESCRIPTION_KEY = \"description\";\nexport const PUBLISH_DATE_KEY = \"publishDate\";\nexport const SCOPING_KEY = \"scoping\";\nexport const GATEWAY_1_KEY = \"gateway1\";\nexport const EXPORT_KEY = \"export\";\n\nconst DEFAULT_DATE: DateValue = { day: \"\", month: \"\", year: \"\" };\n\nexport const INITIAL_STAGE: FormStage = {\n  startDate: DEFAULT_DATE,\n  endDate: DEFAULT_DATE,\n  progress: NOT_STARTED,\n  additionalInformation: \"\",\n};\n\nexport const INITIAL_STATE: FormState = {\n  [TITLE_KEY]: \"\",\n  [DESCRIPTION_KEY]: \"\",\n  [PUBLISH_DATE_KEY]: DEFAULT_DATE,\n  [SCOPING_KEY]: INITIAL_STAGE,\n  [GATEWAY_1_KEY]: INITIAL_STAGE,\n};\n","import { DateValue } from \"src/components/formComponents/dateInput/types\";\nimport { FormState, FormStage } from \"./types\";\nimport { Stage, TimetableData } from \"src/models/timetable/types\";\nimport {\n  GATEWAY_1_KEY,\n  INITIAL_STAGE,\n  PUBLISH_DATE_KEY,\n  SCOPING_KEY,\n} from \"./constants\";\nimport { loadJson } from \"src/utils\";\n\nexport const getTimetableDownload = (formData: FormState) => {\n  const timetable = formatTimetableFormData(formData);\n  return `data:text/json;charset=urf-8, ${encodeURIComponent(\n    JSON.stringify(timetable),\n  )}`;\n};\n\nexport const loadTimetable = async (url: string): Promise<FormState> => {\n  return loadJson(url).then((data) => formatTimetableData(data));\n};\n\nconst formatTimetableData = (timetable: TimetableData): FormState => ({\n  ...timetable,\n  [PUBLISH_DATE_KEY]: formatDate(timetable.publishDate),\n  [SCOPING_KEY]: findAndFormatStage(SCOPING_KEY, timetable.stages),\n  [GATEWAY_1_KEY]: findAndFormatStage(GATEWAY_1_KEY, timetable.stages),\n});\n\nconst findAndFormatStage = (key: string, stages: Stage[]): FormStage => {\n  const stage = stages.find((stage) => stage.key === key);\n  return stage ? formatStage(stage) : INITIAL_STAGE;\n};\n\nconst formatStage = (stage: Stage): FormStage => ({\n  ...stage,\n  startDate: formatDate(stage.startDate),\n  endDate: formatDate(stage.endDate),\n});\n\nconst formatDate = (timestamp: number): DateValue => {\n  const date = new Date(timestamp);\n  return {\n    day: date.getDate().toString(),\n    month: (date.getMonth() + 1).toString(),\n    year: date.getFullYear().toString(),\n  };\n};\n\nconst formatTimetableFormData = (formData: FormState): TimetableData => ({\n  title: formData.title,\n  description: formData.description,\n  publishDate: formatDateValue(formData.publishDate),\n  updated: \"\",\n  status: \"\",\n  periodStartToEnd: \"\",\n  coverage: \"\",\n  stages: [\n    formatFormStage(\n      SCOPING_KEY,\n      \"Scoping and early participation\",\n      formData[SCOPING_KEY],\n    ),\n    formatFormStage(\n      GATEWAY_1_KEY,\n      \"Gateway 1. Check-point\",\n      formData[GATEWAY_1_KEY],\n    ),\n  ],\n});\n\nconst formatFormStage = (\n  key: string,\n  name: string,\n  stage: FormStage,\n): Stage => ({\n  key,\n  name,\n  startDate: formatDateValue(stage.startDate),\n  endDate: formatDateValue(stage.endDate),\n  progress: stage.progress,\n  additionalInformation: stage.additionalInformation,\n});\n\nconst formatDateValue = (dateValue: DateValue) => {\n  const year = dateValue.year\n    ? parseInt(dateValue.year)\n    : new Date().getFullYear();\n  const month = dateValue.month ? parseInt(dateValue.month) - 1 : 0;\n  const day = dateValue.day ? parseInt(dateValue.day) : 1;\n  return new Date(year, month, day).getTime();\n};\n","import { FormState } from \"../types\";\nimport { getTimetableDownload } from \"../utils\";\n\ninterface ExportPageProps {\n  value: FormState;\n}\n\nconst ExportPage = ({ value }: ExportPageProps) => {\n  const downloadLink = getTimetableDownload(value);\n  return (\n    <div>\n      <h1 className=\"my-6 text-3xl font-bold\">Export your timetable to JSON</h1>\n      <p className=\"w-2/3 mb-4\">\n        When you have completed all the details, you can export your data into a\n        JSON file that can generate the DLUHC TImetable Template on your\n        website.\n      </p>\n      <p className=\"text-blue-400 underline mb-4\">\n        Read more about how to publish Timetable JSON data online\n      </p>\n      <a\n        role=\"button\"\n        type=\"button\"\n        className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n        href={downloadLink}\n        download=\"timetable.json\"\n      >\n        Export Timetable JSON\n      </a>\n    </div>\n  );\n};\n\nexport default ExportPage;\n","import { DateInput } from \"src/components/formComponents\";\nimport { DateValue } from \"src/components/formComponents/dateInput/types\";\n\ninterface PublishedDatePageProps {\n  value: DateValue;\n  onChange: (value: DateValue) => void;\n}\n\nconst PublishedDatePage = ({ value, onChange }: PublishedDatePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Timetable published date</h1>\n      <p className=\"w-1/2\">\n        This is the date this version of your timetable will be published\n        publicly online\n      </p>\n      <p className=\"text-sm mt-4 mb-2 text-gray-600\">For example, 21 3 2025</p>\n      <DateInput value={value} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default PublishedDatePage;\n","import {\n  DateInput,\n  RadioButtons,\n  Textarea,\n} from \"src/components/formComponents\";\nimport { RadioOption } from \"src/components/formComponents/types\";\nimport {\n  DELAYED,\n  FINISHED,\n  IN_PROGRESS,\n  NOT_STARTED,\n  PROGRESS_TEXT_MAP,\n} from \"src/models/timetable/constants\";\nimport { Progress } from \"src/models/timetable/types\";\nimport { FormStage } from \"../types\";\n\ninterface StagePageProps {\n  stageName: string;\n  value: FormStage;\n  onChange: (value: FormStage) => void;\n}\n\nconst PROGRESS_OPTIONS: ReadonlyArray<RadioOption<string>> = [\n  { label: PROGRESS_TEXT_MAP[NOT_STARTED], value: NOT_STARTED },\n  { label: PROGRESS_TEXT_MAP[DELAYED], value: DELAYED },\n  { label: PROGRESS_TEXT_MAP[IN_PROGRESS], value: IN_PROGRESS },\n  { label: PROGRESS_TEXT_MAP[FINISHED], value: FINISHED },\n];\n\nconst StagePage = ({ stageName, value, onChange }: StagePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-2 text-4xl font-bold\">{stageName}</h1>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">Start date</h2>\n        <p>For example, 3 2025</p>\n        <DateInput\n          value={value.startDate}\n          onChange={(startDate) => onChange({ ...value, startDate })}\n          showDays={false}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">End date</h2>\n        <DateInput\n          value={value.endDate}\n          onChange={(endDate) => onChange({ ...value, endDate })}\n          showDays={false}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">Progress</h2>\n        <RadioButtons\n          options={PROGRESS_OPTIONS}\n          value={value.progress}\n          onChange={(progress) =>\n            onChange({ ...value, progress: progress as Progress })\n          }\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">\n          Additional information (optional)\n        </h2>\n        <Textarea\n          value={value.additionalInformation}\n          onChange={(additionalInformation) =>\n            onChange({ ...value, additionalInformation })\n          }\n          maxLength={100}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default StagePage;\n","import { Textarea } from \"src/components/formComponents\";\n\ninterface TitlePageProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst TitlePage = ({ value, onChange }: TitlePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Local Plan title</h1>\n      <p className=\"text-sm mb-2 text-gray-600\">\n        Such as Birmingham City 2025-2040 Local Plan timetable\n      </p>\n      <Textarea value={value} onChange={onChange} maxLength={100} />\n    </div>\n  );\n};\n\nexport default TitlePage;\n","import { FormState } from \"../types\";\nimport { loadTimetable } from \"../utils\";\n\ninterface LandingPageProps {\n  onContinueClick: () => void;\n  onUploadTimetable: (value: FormState) => void;\n}\n\nconst readTimetable = async (files: FileList | null) => {\n  if (!files || files.length === 0) {\n    return;\n  }\n  const url = URL.createObjectURL(files[0]);\n  return await loadTimetable(url);\n};\n\nconst LandingPage = ({\n  onContinueClick,\n  onUploadTimetable,\n}: LandingPageProps) => {\n  const handleUpload = async (files: FileList | null) => {\n    const timetable = await readTimetable(files);\n    if (timetable) {\n      onUploadTimetable(timetable);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">\n        Local Plan Timetable Generation Form\n      </h1>\n      <p className=\" mb-2 text-gray-600 w-6/12\">\n        This form can support you in the creation and publishing of a Local Plan\n        Timetable.\n      </p>\n      <p className=\"text-blue-400 underline\">\n        Read more about how to publish Timetable CSV data online\n      </p>\n      <div>\n        <button\n          className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2 my-4\"\n          onClick={onContinueClick}\n        >\n          Start a new timetable\n        </button>\n      </div>\n      <div>\n        <label\n          type=\"button\"\n          role=\"button\"\n          className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n        >\n          Upload and edit an exisiting timetable\n          <input\n            hidden\n            type=\"file\"\n            accept=\"text/json\"\n            onChange={(event) => handleUpload(event.currentTarget.files)}\n          />\n        </label>\n      </div>\n    </div>\n  );\n};\n\nexport default LandingPage;\n","import { useState } from \"preact/hooks\";\nimport DescriptionPage from \"./components/DescriptionPage\";\nimport ExportPage from \"./components/ExportPage\";\nimport PublishedDatePage from \"./components/PublishedDatePage\";\nimport StagePage from \"./components/StagePage\";\nimport TitlePage from \"./components/TitlePage\";\nimport {\n  DESCRIPTION_KEY,\n  EXPORT_KEY,\n  GATEWAY_1_KEY,\n  INITIAL_STATE,\n  LANDING_KEY,\n  PUBLISH_DATE_KEY,\n  SCOPING_KEY,\n  TITLE_KEY,\n} from \"./constants\";\nimport { FormState, FormValue } from \"./types\";\nimport LandingPage from \"./components/LandingPage\";\n\nconst TOTAL_PAGES = 7;\n\nconst renderPage = (\n  key: string,\n  value: FormState,\n  handleValueChange: (key: keyof FormState, value: FormValue) => void,\n  handleContinueClicked: () => void,\n  handleTimetableUpload: (value: FormState) => void,\n) => {\n  switch (key) {\n    case LANDING_KEY:\n      return (\n        <LandingPage\n          onContinueClick={handleContinueClicked}\n          onUploadTimetable={handleTimetableUpload}\n        />\n      );\n    case TITLE_KEY:\n      return (\n        <TitlePage\n          value={value[key]}\n          onChange={(title) => handleValueChange(key, title)}\n        />\n      );\n    case DESCRIPTION_KEY:\n      return (\n        <DescriptionPage\n          value={value[key]}\n          onChange={(description) => handleValueChange(key, description)}\n        />\n      );\n    case PUBLISH_DATE_KEY:\n      return (\n        <PublishedDatePage\n          value={value[key]}\n          onChange={(publishDate) => handleValueChange(key, publishDate)}\n        />\n      );\n    case SCOPING_KEY:\n      return (\n        <StagePage\n          stageName=\"Scoping and early participation\"\n          value={value[key]}\n          onChange={(stage) => handleValueChange(key, stage)}\n        />\n      );\n    case GATEWAY_1_KEY:\n      return (\n        <StagePage\n          stageName=\"Gateway 1. Check-point\"\n          value={value[key]}\n          onChange={(stage) => handleValueChange(key, stage)}\n        />\n      );\n    case EXPORT_KEY:\n      return <ExportPage value={value} />;\n    default:\n      return null;\n  }\n};\n\nconst FORM_KEY_LIST = [\n  LANDING_KEY,\n  TITLE_KEY,\n  DESCRIPTION_KEY,\n  PUBLISH_DATE_KEY,\n  SCOPING_KEY,\n  GATEWAY_1_KEY,\n  EXPORT_KEY,\n];\n\nconst TimetableForm = () => {\n  const [data, setData] = useState<FormState>(INITIAL_STATE);\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n\n  const currentPage = FORM_KEY_LIST[currentPageIndex];\n\n  const handleValueChange = (key: keyof FormState, value: FormValue) => {\n    setData({ ...data, [key]: value });\n  };\n\n  const handleBackClicked = () => {\n    if (currentPageIndex !== 0) {\n      setCurrentPageIndex(currentPageIndex - 1);\n    }\n  };\n\n  const handleContinueClicked = () => {\n    if (currentPageIndex === 0) {\n      setData(INITIAL_STATE);\n    }\n    if (currentPageIndex < TOTAL_PAGES - 1) {\n      setCurrentPageIndex(currentPageIndex + 1);\n    }\n  };\n\n  const handleTimetableUpload = (value: FormState) => {\n    setData(value);\n    setCurrentPageIndex(currentPageIndex + 1);\n  };\n\n  const Page = renderPage(\n    currentPage,\n    data,\n    handleValueChange,\n    handleContinueClicked,\n    handleTimetableUpload,\n  );\n\n  return (\n    <div>\n      {currentPage !== LANDING_KEY ? (\n        <div>\n          <div>\n            &lt;\n            <p\n              className=\"underline hover:decoration-2 py-1 px-2 inline-block cursor-pointer\"\n              onClick={handleBackClicked}\n            >\n              Back\n            </p>\n          </div>\n          <div>{Page}</div>\n          {currentPage !== EXPORT_KEY && (\n            <button\n              className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n              onClick={handleContinueClicked}\n            >\n              Continue\n            </button>\n          )}\n        </div>\n      ) : (\n        <div>{Page}</div>\n      )}\n    </div>\n  );\n};\n\nexport default TimetableForm;\n"],"names":["DateInput","showDays","value","onChange","_jsxs","className","children","_jsx","type","day","event","currentTarget","month","year","DescriptionPage","Textarea","maxLength","LANDING_KEY","TITLE_KEY","DESCRIPTION_KEY","PUBLISH_DATE_KEY","SCOPING_KEY","GATEWAY_1_KEY","EXPORT_KEY","DEFAULT_DATE","INITIAL_STAGE","startDate","endDate","progress","NOT_STARTED","additionalInformation","INITIAL_STATE","getTimetableDownload","formData","timetable","formatTimetableFormData","encodeURIComponent","JSON","stringify","loadTimetable","url","loadJson","then","formatTimetableData","data","formatDate","publishDate","findAndFormatStage","stages","key","stage","find","formatStage","timestamp","date","Date","getDate","toString","getMonth","getFullYear","title","description","formatDateValue","updated","status","periodStartToEnd","coverage","formatFormStage","name","dateValue","parseInt","getTime","ExportPage","downloadLink","role","href","download","PublishedDatePage","PROGRESS_OPTIONS","label","PROGRESS_TEXT_MAP","DELAYED","IN_PROGRESS","FINISHED","StagePage","stageName","RadioButtons","options","TitlePage","readTimetable","files","length","URL","createObjectURL","LandingPage","onContinueClick","onUploadTimetable","handleUpload","onClick","hidden","accept","TOTAL_PAGES","renderPage","handleValueChange","handleContinueClicked","handleTimetableUpload","FORM_KEY_LIST","TimetableForm","setData","useState","currentPageIndex","setCurrentPageIndex","currentPage","handleBackClicked","Page","TimetableForm$1"],"mappings":"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"}