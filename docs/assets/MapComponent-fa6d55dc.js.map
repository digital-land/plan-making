{"version":3,"file":"MapComponent-fa6d55dc.js","sources":["../../node_modules/@tanstack/query-core/build/lib/subscribable.mjs","../../node_modules/@tanstack/query-core/build/lib/utils.mjs","../../node_modules/@tanstack/query-core/build/lib/focusManager.mjs","../../node_modules/@tanstack/query-core/build/lib/onlineManager.mjs","../../node_modules/@tanstack/query-core/build/lib/retryer.mjs","../../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs","../../node_modules/@tanstack/query-core/build/lib/queryObserver.mjs","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/@tanstack/react-query/build/lib/useSyncExternalStore.mjs","../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs","../../node_modules/@tanstack/react-query/build/lib/isRestoring.mjs","../../node_modules/@tanstack/react-query/build/lib/QueryErrorResetBoundary.mjs","../../node_modules/@tanstack/react-query/build/lib/utils.mjs","../../node_modules/@tanstack/react-query/build/lib/errorBoundaryUtils.mjs","../../node_modules/@tanstack/react-query/build/lib/suspense.mjs","../../node_modules/@tanstack/react-query/build/lib/useBaseQuery.mjs","../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs","../../node_modules/ol/format/TextFeature.js","../../node_modules/ol/format/WKT.js","../../src/api/planningData/api.ts","../../src/components/datasets/DatasetSelect.tsx","../../src/components/datasets/DatasetList.tsx","../../src/components/maps/components/DatasetControl.tsx","../../src/components/maps/components/DatasetLayer.tsx","../../src/components/maps/components/DatasetLayers.tsx","../../src/components/maps/MapComponent.tsx"],"sourcesContent":["class Subscribable {\n  constructor() {\n    this.listeners = new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n\n  subscribe(listener) {\n    const identity = {\n      listener\n    };\n    this.listeners.add(identity);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(identity);\n      this.onUnsubscribe();\n    };\n  }\n\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n\n  onSubscribe() {// Do nothing\n  }\n\n  onUnsubscribe() {// Do nothing\n  }\n\n}\n\nexport { Subscribable };\n//# sourceMappingURL=subscribable.mjs.map\n","// TYPES\n// UTILS\nconst isServer = typeof window === 'undefined' || 'Deno' in window;\nfunction noop() {\n  return undefined;\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nfunction difference(array1, array2) {\n  return array1.filter(x => !array2.includes(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return { ...arg3,\n      queryKey: arg1,\n      queryFn: arg2\n    };\n  }\n\n  return { ...arg2,\n    queryKey: arg1\n  };\n}\nfunction parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return { ...arg3,\n        mutationKey: arg1,\n        mutationFn: arg2\n      };\n    }\n\n    return { ...arg2,\n      mutationKey: arg1\n    };\n  }\n\n  if (typeof arg1 === 'function') {\n    return { ...arg2,\n      mutationFn: arg1\n    };\n  }\n\n  return { ...arg1\n  };\n}\nfunction parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    queryKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction parseMutationFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    mutationKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive();\n\n    if (type === 'active' && !isActive) {\n      return false;\n    }\n\n    if (type === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetchStatus !== 'undefined' && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const {\n    exact,\n    fetching,\n    predicate,\n    mutationKey\n  } = filters;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n * Hashes the value into a stable hash.\n */\n\nfunction hashQueryKey(queryKey) {\n  return JSON.stringify(queryKey, (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n    result[key] = val[key];\n    return result;\n  }, {}) : val);\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nfunction partialMatchKey(a, b) {\n  return partialDeepEqual(a, b);\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nfunction partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(key => !partialDeepEqual(a[key], b[key]));\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aSize = array ? a.length : Object.keys(a).length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    let equalItems = 0;\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nfunction shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  const ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  const prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isQueryKey(value) {\n  return Array.isArray(value);\n}\nfunction isError(value) {\n  return value instanceof Error;\n}\nfunction sleep(timeout) {\n  return new Promise(resolve => {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nfunction scheduleMicrotask(callback) {\n  sleep(0).then(callback);\n}\nfunction getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n\n  return;\n}\nfunction replaceData(prevData, data, options) {\n  // Use prev data if an isDataEqual function is defined and returns `true`\n  if (options.isDataEqual != null && options.isDataEqual(prevData, data)) {\n    return prevData;\n  } else if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data);\n  }\n\n  return data;\n}\n\nexport { difference, functionalUpdate, getAbortController, hashQueryKey, hashQueryKeyByOptions, isError, isPlainArray, isPlainObject, isQueryKey, isServer, isValidTimeout, matchMutation, matchQuery, noop, parseFilterArgs, parseMutationArgs, parseMutationFilterArgs, parseQueryArgs, partialDeepEqual, partialMatchKey, replaceAt, replaceData, replaceEqualDeep, scheduleMicrotask, shallowEqualObjects, sleep, timeUntilStale };\n//# sourceMappingURL=utils.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nclass FocusManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onFocus => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus(); // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(focused => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n\n  setFocused(focused) {\n    const changed = this.focused !== focused;\n\n    if (changed) {\n      this.focused = focused;\n      this.onFocus();\n    }\n  }\n\n  onFocus() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  }\n\n}\nconst focusManager = new FocusManager();\n\nexport { FocusManager, focusManager };\n//# sourceMappingURL=focusManager.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nconst onlineEvents = ['online', 'offline'];\nclass OnlineManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onOnline => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onOnline(); // Listen to online\n\n\n        onlineEvents.forEach(event => {\n          window.addEventListener(event, listener, false);\n        });\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          onlineEvents.forEach(event => {\n            window.removeEventListener(event, listener);\n          });\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(online => {\n      if (typeof online === 'boolean') {\n        this.setOnline(online);\n      } else {\n        this.onOnline();\n      }\n    });\n  }\n\n  setOnline(online) {\n    const changed = this.online !== online;\n\n    if (changed) {\n      this.online = online;\n      this.onOnline();\n    }\n  }\n\n  onOnline() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  }\n\n}\nconst onlineManager = new OnlineManager();\n\nexport { OnlineManager, onlineManager };\n//# sourceMappingURL=onlineManager.mjs.map\n","import { focusManager } from './focusManager.mjs';\nimport { onlineManager } from './onlineManager.mjs';\nimport { sleep } from './utils.mjs';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * 2 ** failureCount, 30000);\n}\n\nfunction canFetch(networkMode) {\n  return (networkMode != null ? networkMode : 'online') === 'online' ? onlineManager.isOnline() : true;\n}\nclass CancelledError {\n  constructor(options) {\n    this.revert = options == null ? void 0 : options.revert;\n    this.silent = options == null ? void 0 : options.silent;\n  }\n\n}\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  let promiseResolve;\n  let promiseReject;\n  const promise = new Promise((outerResolve, outerReject) => {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  const cancel = cancelOptions => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort == null ? void 0 : config.abort();\n    }\n  };\n\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n\n  const shouldPause = () => !focusManager.isFocused() || config.networkMode !== 'always' && !onlineManager.isOnline();\n\n  const resolve = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  const reject = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  const pause = () => {\n    return new Promise(continueResolve => {\n      continueFn = value => {\n        const canContinue = isResolved || !shouldPause();\n\n        if (canContinue) {\n          continueResolve(value);\n        }\n\n        return canContinue;\n      };\n\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(() => {\n      continueFn = undefined;\n\n      if (!isResolved) {\n        config.onContinue == null ? void 0 : config.onContinue();\n      }\n    });\n  }; // Create loop function\n\n\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return;\n    }\n\n    let promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n\n    Promise.resolve(promiseOrValue).then(resolve).catch(error => {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      const retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      const retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      const delay = typeof retryDelay === 'function' ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === 'number' && failureCount < retry || typeof retry === 'function' && retry(failureCount, error);\n\n      if (isRetryCancelled || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(() => {\n        if (shouldPause()) {\n          return pause();\n        }\n\n        return;\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  if (canFetch(config.networkMode)) {\n    run();\n  } else {\n    pause().then(run);\n  }\n\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn == null ? void 0 : continueFn();\n      return didContinue ? promise : Promise.resolve();\n    },\n    cancelRetry,\n    continueRetry\n  };\n}\n\nexport { CancelledError, canFetch, createRetryer, isCancelledError };\n//# sourceMappingURL=retryer.mjs.map\n","import { scheduleMicrotask } from './utils.mjs';\n\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n\n  let notifyFn = callback => {\n    callback();\n  };\n\n  let batchNotifyFn = callback => {\n    callback();\n  };\n\n  const batch = callback => {\n    let result;\n    transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      transactions--;\n\n      if (!transactions) {\n        flush();\n      }\n    }\n\n    return result;\n  };\n\n  const schedule = callback => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleMicrotask(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n\n\n  const batchCalls = callback => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args);\n      });\n    };\n  };\n\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n\n    if (originalQueue.length) {\n      scheduleMicrotask(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach(callback => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n\n\n  const setNotifyFunction = fn => {\n    notifyFn = fn;\n  };\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n\n\n  const setBatchNotifyFunction = fn => {\n    batchNotifyFn = fn;\n  };\n\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction\n  };\n} // SINGLETON\n\nconst notifyManager = createNotifyManager();\n\nexport { createNotifyManager, notifyManager };\n//# sourceMappingURL=notifyManager.mjs.map\n","import { shallowEqualObjects, noop, isServer, isValidTimeout, timeUntilStale, replaceData } from './utils.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { focusManager } from './focusManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { canFetch, isCancelledError } from './retryer.mjs';\n\nclass QueryObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.options = options;\n    this.trackedProps = new Set();\n    this.selectError = null;\n    this.bindMethods();\n    this.setOptions(options);\n  }\n\n  bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  }\n\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  }\n\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  }\n\n  destroy() {\n    this.listeners = new Set();\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n    this.currentQuery.removeObserver(this);\n  }\n\n  setOptions(options, notifyOptions) {\n    const prevOptions = this.options;\n    const prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryOptions(options);\n\n    if (process.env.NODE_ENV !== 'production' && typeof (options == null ? void 0 : options.isDataEqual) !== 'undefined') {\n      this.client.getLogger().error(\"The isDataEqual option has been deprecated and will be removed in the next major version. You can achieve the same functionality by passing a function as the structuralSharing option\");\n    }\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.currentQuery,\n        observer: this\n      });\n    }\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    const mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    const nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n\n  getOptimisticResult(options) {\n    const query = this.client.getQueryCache().build(this.client, options);\n    const result = this.createResult(query, options);\n\n    if (shouldAssignObserverCurrentProperties(this, result, options)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult everytime\n      // an observer reads an optimistic value.\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.currentResult = result;\n      this.currentResultOptions = this.options;\n      this.currentResultState = this.currentQuery.state;\n    }\n\n    return result;\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  trackResult(result) {\n    const trackedResult = {};\n    Object.keys(result).forEach(key => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackedProps.add(key);\n          return result[key];\n        }\n      });\n    });\n    return trackedResult;\n  }\n\n  getCurrentQuery() {\n    return this.currentQuery;\n  }\n\n  remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  }\n\n  refetch({\n    refetchPage,\n    ...options\n  } = {}) {\n    return this.fetch({ ...options,\n      meta: {\n        refetchPage\n      }\n    });\n  }\n\n  fetchOptimistic(options) {\n    const defaultedOptions = this.client.defaultQueryOptions(options);\n    const query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    query.isFetchingOptimistic = true;\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n\n  fetch(fetchOptions) {\n    var _fetchOptions$cancelR;\n\n    return this.executeFetch({ ...fetchOptions,\n      cancelRefetch: (_fetchOptions$cancelR = fetchOptions.cancelRefetch) != null ? _fetchOptions$cancelR : true\n    }).then(() => {\n      this.updateResult();\n      return this.currentResult;\n    });\n  }\n\n  executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    let promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions != null && fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  }\n\n  updateStaleTimeout() {\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    const time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    const timeout = time + 1;\n    this.staleTimeoutId = setTimeout(() => {\n      if (!this.currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n\n  computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  }\n\n  updateRefetchInterval(nextInterval) {\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  }\n\n  updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  }\n\n  clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  }\n\n  clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  }\n\n  createResult(query, options) {\n    const prevQuery = this.currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.currentResult;\n    const prevResultState = this.currentResultState;\n    const prevResultOptions = this.currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    const prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    const {\n      state\n    } = query;\n    let {\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      fetchStatus,\n      status\n    } = state;\n    let isPreviousData = false;\n    let isPlaceholderData = false;\n    let data; // Optimistically set result in fetching state if needed\n\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        fetchStatus = canFetch(query.options.networkMode) ? 'fetching' : 'paused';\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n\n      if (options._optimisticResults === 'isRestoring') {\n        fetchStatus = 'idle';\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdatedAt && prevQueryResult != null && prevQueryResult.isSuccess && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n      // Memoize select result\n      if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n        data = this.selectResult;\n      } else {\n        try {\n          this.selectFn = options.select;\n          data = options.select(state.data);\n          data = replaceData(prevResult == null ? void 0 : prevResult.data, data, options);\n          this.selectResult = data;\n          this.selectError = null;\n        } catch (selectError) {\n          if (process.env.NODE_ENV !== 'production') {\n            this.client.getLogger().error(selectError);\n          }\n\n          this.selectError = selectError;\n        }\n      }\n    } // Use query data\n    else {\n      data = state.data;\n    } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && status === 'loading') {\n      let placeholderData; // Memoize placeholder data\n\n      if (prevResult != null && prevResult.isPlaceholderData && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n            this.selectError = null;\n          } catch (selectError) {\n            if (process.env.NODE_ENV !== 'production') {\n              this.client.getLogger().error(selectError);\n            }\n\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = replaceData(prevResult == null ? void 0 : prevResult.data, placeholderData, options);\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    const isFetching = fetchStatus === 'fetching';\n    const isLoading = status === 'loading';\n    const isError = status === 'error';\n    const result = {\n      status,\n      fetchStatus,\n      isLoading,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading && isFetching,\n      data,\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      failureReason: state.fetchFailureReason,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isLoading,\n      isLoadingError: isError && state.dataUpdatedAt === 0,\n      isPaused: fetchStatus === 'paused',\n      isPlaceholderData,\n      isPreviousData,\n      isRefetchError: isError && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  }\n\n  updateResult(notifyOptions) {\n    const prevResult = this.currentResult;\n    const nextResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify and update result if something has changed\n\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n\n    this.currentResult = nextResult; // Determine which callbacks to trigger\n\n    const defaultNotifyOptions = {\n      cache: true\n    };\n\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n\n      const {\n        notifyOnChangeProps\n      } = this.options;\n      const notifyOnChangePropsValue = typeof notifyOnChangeProps === 'function' ? notifyOnChangeProps() : notifyOnChangeProps;\n\n      if (notifyOnChangePropsValue === 'all' || !notifyOnChangePropsValue && !this.trackedProps.size) {\n        return true;\n      }\n\n      const includedProps = new Set(notifyOnChangePropsValue != null ? notifyOnChangePropsValue : this.trackedProps);\n\n      if (this.options.useErrorBoundary) {\n        includedProps.add('error');\n      }\n\n      return Object.keys(this.currentResult).some(key => {\n        const typedKey = key;\n        const changed = this.currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify({ ...defaultNotifyOptions,\n      ...notifyOptions\n    });\n  }\n\n  updateQuery() {\n    const query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    const prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n\n  onQueryUpdate(action) {\n    const notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = !action.manual;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  }\n\n  notify(notifyOptions) {\n    notifyManager.batch(() => {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        var _this$options$onSucce, _this$options, _this$options$onSettl, _this$options2;\n\n        (_this$options$onSucce = (_this$options = this.options).onSuccess) == null ? void 0 : _this$options$onSucce.call(_this$options, this.currentResult.data);\n        (_this$options$onSettl = (_this$options2 = this.options).onSettled) == null ? void 0 : _this$options$onSettl.call(_this$options2, this.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        var _this$options$onError, _this$options3, _this$options$onSettl2, _this$options4;\n\n        (_this$options$onError = (_this$options3 = this.options).onError) == null ? void 0 : _this$options$onError.call(_this$options3, this.currentResult.error);\n        (_this$options$onSettl2 = (_this$options4 = this.options).onSettled) == null ? void 0 : _this$options$onSettl2.call(_this$options4, undefined, this.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        this.client.getQueryCache().notify({\n          query: this.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  }\n\n}\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    const value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n} // this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\n\n\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult, options) {\n  // it is important to keep this condition like this for three reasons:\n  // 1. It will get removed in the v5\n  // 2. it reads: don't update the properties if we want to keep the previous\n  // data.\n  // 3. The opposite condition (!options.keepPreviousData) would fallthrough\n  // and will result in a bad decision\n  if (options.keepPreviousData) {\n    return false;\n  } // this means we want to put some placeholder data when pending and queryKey\n  // changed.\n\n\n  if (options.placeholderData !== undefined) {\n    // re-assign properties only if current data is placeholder data\n    // which means that data did not arrive yet, so, if there is some cached data\n    // we need to \"prepare\" to receive it\n    return optimisticResult.isPlaceholderData;\n  } // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n\n\n  if (!shallowEqualObjects(observer.getCurrentResult(), optimisticResult)) {\n    return true;\n  } // basically, just keep previous properties if nothing changed\n\n\n  return false;\n}\n\nexport { QueryObserver };\n//# sourceMappingURL=queryObserver.mjs.map\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","'use client';\nimport { useSyncExternalStore as useSyncExternalStore$1 } from 'use-sync-external-store/shim/index.js';\n\nconst useSyncExternalStore = useSyncExternalStore$1;\n\nexport { useSyncExternalStore };\n//# sourceMappingURL=useSyncExternalStore.mjs.map\n","'use client';\nimport * as React from 'react';\n\nconst defaultContext = /*#__PURE__*/React.createContext(undefined);\nconst QueryClientSharingContext = /*#__PURE__*/React.createContext(false); // If we are given a context, we will use it.\n// Otherwise, if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\n\nfunction getQueryClientContext(context, contextSharing) {\n  if (context) {\n    return context;\n  }\n\n  if (contextSharing && typeof window !== 'undefined') {\n    if (!window.ReactQueryClientContext) {\n      window.ReactQueryClientContext = defaultContext;\n    }\n\n    return window.ReactQueryClientContext;\n  }\n\n  return defaultContext;\n}\n\nconst useQueryClient = ({\n  context\n} = {}) => {\n  const queryClient = React.useContext(getQueryClientContext(context, React.useContext(QueryClientSharingContext)));\n\n  if (!queryClient) {\n    throw new Error('No QueryClient set, use QueryClientProvider to set one');\n  }\n\n  return queryClient;\n};\nconst QueryClientProvider = ({\n  client,\n  children,\n  context,\n  contextSharing = false\n}) => {\n  React.useEffect(() => {\n    client.mount();\n    return () => {\n      client.unmount();\n    };\n  }, [client]);\n\n  if (process.env.NODE_ENV !== 'production' && contextSharing) {\n    client.getLogger().error(\"The contextSharing option has been deprecated and will be removed in the next major version\");\n  }\n\n  const Context = getQueryClientContext(context, contextSharing);\n  return /*#__PURE__*/React.createElement(QueryClientSharingContext.Provider, {\n    value: !context && contextSharing\n  }, /*#__PURE__*/React.createElement(Context.Provider, {\n    value: client\n  }, children));\n};\n\nexport { QueryClientProvider, defaultContext, useQueryClient };\n//# sourceMappingURL=QueryClientProvider.mjs.map\n","'use client';\nimport * as React from 'react';\n\nconst IsRestoringContext = /*#__PURE__*/React.createContext(false);\nconst useIsRestoring = () => React.useContext(IsRestoringContext);\nconst IsRestoringProvider = IsRestoringContext.Provider;\n\nexport { IsRestoringProvider, useIsRestoring };\n//# sourceMappingURL=isRestoring.mjs.map\n","'use client';\nimport * as React from 'react';\n\nfunction createValue() {\n  let isReset = false;\n  return {\n    clearReset: () => {\n      isReset = false;\n    },\n    reset: () => {\n      isReset = true;\n    },\n    isReset: () => {\n      return isReset;\n    }\n  };\n}\n\nconst QueryErrorResetBoundaryContext = /*#__PURE__*/React.createContext(createValue()); // HOOK\n\nconst useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext); // COMPONENT\n\nconst QueryErrorResetBoundary = ({\n  children\n}) => {\n  const [value] = React.useState(() => createValue());\n  return /*#__PURE__*/React.createElement(QueryErrorResetBoundaryContext.Provider, {\n    value: value\n  }, typeof children === 'function' ? children(value) : children);\n};\n\nexport { QueryErrorResetBoundary, useQueryErrorResetBoundary };\n//# sourceMappingURL=QueryErrorResetBoundary.mjs.map\n","function shouldThrowError(_useErrorBoundary, params) {\n  // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n  if (typeof _useErrorBoundary === 'function') {\n    return _useErrorBoundary(...params);\n  }\n\n  return !!_useErrorBoundary;\n}\n\nexport { shouldThrowError };\n//# sourceMappingURL=utils.mjs.map\n","'use client';\nimport * as React from 'react';\nimport { shouldThrowError } from './utils.mjs';\n\nconst ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n  if (options.suspense || options.useErrorBoundary) {\n    // Prevent retrying failed query if the error boundary has not been reset yet\n    if (!errorResetBoundary.isReset()) {\n      options.retryOnMount = false;\n    }\n  }\n};\nconst useClearResetErrorBoundary = errorResetBoundary => {\n  React.useEffect(() => {\n    errorResetBoundary.clearReset();\n  }, [errorResetBoundary]);\n};\nconst getHasError = ({\n  result,\n  errorResetBoundary,\n  useErrorBoundary,\n  query\n}) => {\n  return result.isError && !errorResetBoundary.isReset() && !result.isFetching && shouldThrowError(useErrorBoundary, [result.error, query]);\n};\n\nexport { ensurePreventErrorBoundaryRetry, getHasError, useClearResetErrorBoundary };\n//# sourceMappingURL=errorBoundaryUtils.mjs.map\n","const ensureStaleTime = defaultedOptions => {\n  if (defaultedOptions.suspense) {\n    // Always set stale time when using suspense to prevent\n    // fetching again when directly mounting after suspending\n    if (typeof defaultedOptions.staleTime !== 'number') {\n      defaultedOptions.staleTime = 1000;\n    }\n  }\n};\nconst willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nconst shouldSuspend = (defaultedOptions, result, isRestoring) => (defaultedOptions == null ? void 0 : defaultedOptions.suspense) && willFetch(result, isRestoring);\nconst fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer.fetchOptimistic(defaultedOptions).then(({\n  data\n}) => {\n  defaultedOptions.onSuccess == null ? void 0 : defaultedOptions.onSuccess(data);\n  defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(data, null);\n}).catch(error => {\n  errorResetBoundary.clearReset();\n  defaultedOptions.onError == null ? void 0 : defaultedOptions.onError(error);\n  defaultedOptions.onSettled == null ? void 0 : defaultedOptions.onSettled(undefined, error);\n});\n\nexport { ensureStaleTime, fetchOptimistic, shouldSuspend, willFetch };\n//# sourceMappingURL=suspense.mjs.map\n","'use client';\nimport * as React from 'react';\nimport { notifyManager } from '@tanstack/query-core';\nimport { useSyncExternalStore } from './useSyncExternalStore.mjs';\nimport { useQueryErrorResetBoundary } from './QueryErrorResetBoundary.mjs';\nimport { useQueryClient } from './QueryClientProvider.mjs';\nimport { useIsRestoring } from './isRestoring.mjs';\nimport { ensurePreventErrorBoundaryRetry, useClearResetErrorBoundary, getHasError } from './errorBoundaryUtils.mjs';\nimport { ensureStaleTime, shouldSuspend, fetchOptimistic } from './suspense.mjs';\n\nfunction useBaseQuery(options, Observer) {\n  const queryClient = useQueryClient({\n    context: options.context\n  });\n  const isRestoring = useIsRestoring();\n  const errorResetBoundary = useQueryErrorResetBoundary();\n  const defaultedOptions = queryClient.defaultQueryOptions(options); // Make sure results are optimistically set in fetching state before subscribing or updating options\n\n  defaultedOptions._optimisticResults = isRestoring ? 'isRestoring' : 'optimistic'; // Include callbacks in batch renders\n\n  if (defaultedOptions.onError) {\n    defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n  }\n\n  if (defaultedOptions.onSuccess) {\n    defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n  }\n\n  if (defaultedOptions.onSettled) {\n    defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n  }\n\n  ensureStaleTime(defaultedOptions);\n  ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n  useClearResetErrorBoundary(errorResetBoundary);\n  const [observer] = React.useState(() => new Observer(queryClient, defaultedOptions));\n  const result = observer.getOptimisticResult(defaultedOptions);\n  useSyncExternalStore(React.useCallback(onStoreChange => {\n    const unsubscribe = isRestoring ? () => undefined : observer.subscribe(notifyManager.batchCalls(onStoreChange)); // Update result to make sure we did not miss any query updates\n    // between creating the observer and subscribing to it.\n\n    observer.updateResult();\n    return unsubscribe;\n  }, [observer, isRestoring]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n  React.useEffect(() => {\n    // Do not notify on updates because of changes in the options because\n    // these changes should already be reflected in the optimistic result.\n    observer.setOptions(defaultedOptions, {\n      listeners: false\n    });\n  }, [defaultedOptions, observer]); // Handle suspense\n\n  if (shouldSuspend(defaultedOptions, result, isRestoring)) {\n    throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n  } // Handle error boundary\n\n\n  if (getHasError({\n    result,\n    errorResetBoundary,\n    useErrorBoundary: defaultedOptions.useErrorBoundary,\n    query: observer.getCurrentQuery()\n  })) {\n    throw result.error;\n  } // Handle result property usage tracking\n\n\n  return !defaultedOptions.notifyOnChangeProps ? observer.trackResult(result) : result;\n}\n\nexport { useBaseQuery };\n//# sourceMappingURL=useBaseQuery.mjs.map\n","'use client';\nimport { parseQueryArgs, QueryObserver } from '@tanstack/query-core';\nimport { useBaseQuery } from './useBaseQuery.mjs';\n\nfunction useQuery(arg1, arg2, arg3) {\n  const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n  return useBaseQuery(parsedOptions, QueryObserver);\n}\n\nexport { useQuery };\n//# sourceMappingURL=useQuery.mjs.map\n","/**\n * @module ol/format/TextFeature\n */\nimport FeatureFormat from '../format/Feature.js';\nimport {abstract} from '../util.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for text feature formats.\n *\n * @abstract\n */\nclass TextFeature extends FeatureFormat {\n  constructor() {\n    super();\n  }\n\n  /**\n   * @return {import(\"./Feature.js\").Type} Format.\n   */\n  getType() {\n    return 'text';\n  }\n\n  /**\n   * Read the feature from the source.\n   *\n   * @param {Document|Element|Object|string} source Source.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @return {import(\"../Feature.js\").default} Feature.\n   * @api\n   */\n  readFeature(source, options) {\n    return this.readFeatureFromText(\n      getText(source),\n      this.adaptOptions(options)\n    );\n  }\n\n  /**\n   * @abstract\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @protected\n   * @return {import(\"../Feature.js\").default} Feature.\n   */\n  readFeatureFromText(text, options) {\n    return abstract();\n  }\n\n  /**\n   * Read the features from the source.\n   *\n   * @param {Document|Element|Object|string} source Source.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @return {Array<import(\"../Feature.js\").default>} Features.\n   * @api\n   */\n  readFeatures(source, options) {\n    return this.readFeaturesFromText(\n      getText(source),\n      this.adaptOptions(options)\n    );\n  }\n\n  /**\n   * @abstract\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @protected\n   * @return {Array<import(\"../Feature.js\").default>} Features.\n   */\n  readFeaturesFromText(text, options) {\n    return abstract();\n  }\n\n  /**\n   * Read the geometry from the source.\n   *\n   * @param {Document|Element|Object|string} source Source.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @return {import(\"../geom/Geometry.js\").default} Geometry.\n   * @api\n   */\n  readGeometry(source, options) {\n    return this.readGeometryFromText(\n      getText(source),\n      this.adaptOptions(options)\n    );\n  }\n\n  /**\n   * @abstract\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @protected\n   * @return {import(\"../geom/Geometry.js\").default} Geometry.\n   */\n  readGeometryFromText(text, options) {\n    return abstract();\n  }\n\n  /**\n   * Read the projection from the source.\n   *\n   * @param {Document|Element|Object|string} source Source.\n   * @return {import(\"../proj/Projection.js\").default|undefined} Projection.\n   * @api\n   */\n  readProjection(source) {\n    return this.readProjectionFromText(getText(source));\n  }\n\n  /**\n   * @param {string} text Text.\n   * @protected\n   * @return {import(\"../proj/Projection.js\").default|undefined} Projection.\n   */\n  readProjectionFromText(text) {\n    return this.dataProjection;\n  }\n\n  /**\n   * Encode a feature as a string.\n   *\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @return {string} Encoded feature.\n   * @api\n   */\n  writeFeature(feature, options) {\n    return this.writeFeatureText(feature, this.adaptOptions(options));\n  }\n\n  /**\n   * @abstract\n   * @param {import(\"../Feature.js\").default} feature Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeFeatureText(feature, options) {\n    return abstract();\n  }\n\n  /**\n   * Encode an array of features as string.\n   *\n   * @param {Array<import(\"../Feature.js\").default>} features Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @return {string} Encoded features.\n   * @api\n   */\n  writeFeatures(features, options) {\n    return this.writeFeaturesText(features, this.adaptOptions(options));\n  }\n\n  /**\n   * @abstract\n   * @param {Array<import(\"../Feature.js\").default>} features Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeFeaturesText(features, options) {\n    return abstract();\n  }\n\n  /**\n   * Write a single geometry.\n   *\n   * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @return {string} Geometry.\n   * @api\n   */\n  writeGeometry(geometry, options) {\n    return this.writeGeometryText(geometry, this.adaptOptions(options));\n  }\n\n  /**\n   * @abstract\n   * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeGeometryText(geometry, options) {\n    return abstract();\n  }\n}\n\n/**\n * @param {Document|Element|Object|string} source Source.\n * @return {string} Text.\n */\nfunction getText(source) {\n  if (typeof source === 'string') {\n    return source;\n  }\n  return '';\n}\n\nexport default TextFeature;\n","/**\n * @module ol/format/WKT\n */\nimport Feature from '../Feature.js';\nimport GeometryCollection from '../geom/GeometryCollection.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport Point from '../geom/Point.js';\nimport Polygon from '../geom/Polygon.js';\nimport TextFeature from './TextFeature.js';\nimport {transformGeometryWithOptions} from './Feature.js';\n\n/**\n * Geometry constructors\n * @enum {function (new:import(\"../geom/Geometry.js\").default, Array, import(\"../geom/Geometry.js\").GeometryLayout)}\n */\nconst GeometryConstructor = {\n  'POINT': Point,\n  'LINESTRING': LineString,\n  'POLYGON': Polygon,\n  'MULTIPOINT': MultiPoint,\n  'MULTILINESTRING': MultiLineString,\n  'MULTIPOLYGON': MultiPolygon,\n};\n\n/**\n * @typedef {Object} Options\n * @property {boolean} [splitCollection=false] Whether to split GeometryCollections into\n * multiple features on reading.\n */\n\n/**\n * @typedef {Object} Token\n * @property {number} type Type.\n * @property {number|string} [value] Value.\n * @property {number} position Position.\n */\n\n/**\n * @const\n * @type {string}\n */\nconst EMPTY = 'EMPTY';\n\n/**\n * @const\n * @type {string}\n */\nconst Z = 'Z';\n\n/**\n * @const\n * @type {string}\n */\nconst M = 'M';\n\n/**\n * @const\n * @type {string}\n */\nconst ZM = 'ZM';\n\n/**\n * @const\n * @enum {number}\n */\nconst TokenType = {\n  START: 0,\n  TEXT: 1,\n  LEFT_PAREN: 2,\n  RIGHT_PAREN: 3,\n  NUMBER: 4,\n  COMMA: 5,\n  EOF: 6,\n};\n\n/**\n * @type {Object<import(\"../geom/Geometry.js\").Type, string>}\n */\nconst wktTypeLookup = {\n  Point: 'POINT',\n  LineString: 'LINESTRING',\n  Polygon: 'POLYGON',\n  MultiPoint: 'MULTIPOINT',\n  MultiLineString: 'MULTILINESTRING',\n  MultiPolygon: 'MULTIPOLYGON',\n  GeometryCollection: 'GEOMETRYCOLLECTION',\n  Circle: 'CIRCLE',\n};\n\n/**\n * Class to tokenize a WKT string.\n */\nclass Lexer {\n  /**\n   * @param {string} wkt WKT string.\n   */\n  constructor(wkt) {\n    /**\n     * @type {string}\n     */\n    this.wkt = wkt;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.index_ = -1;\n  }\n\n  /**\n   * @param {string} c Character.\n   * @return {boolean} Whether the character is alphabetic.\n   * @private\n   */\n  isAlpha_(c) {\n    return (c >= 'a' && c <= 'z') || (c >= 'A' && c <= 'Z');\n  }\n\n  /**\n   * @param {string} c Character.\n   * @param {boolean} [decimal] Whether the string number\n   *     contains a dot, i.e. is a decimal number.\n   * @return {boolean} Whether the character is numeric.\n   * @private\n   */\n  isNumeric_(c, decimal) {\n    decimal = decimal !== undefined ? decimal : false;\n    return (c >= '0' && c <= '9') || (c == '.' && !decimal);\n  }\n\n  /**\n   * @param {string} c Character.\n   * @return {boolean} Whether the character is whitespace.\n   * @private\n   */\n  isWhiteSpace_(c) {\n    return c == ' ' || c == '\\t' || c == '\\r' || c == '\\n';\n  }\n\n  /**\n   * @return {string} Next string character.\n   * @private\n   */\n  nextChar_() {\n    return this.wkt.charAt(++this.index_);\n  }\n\n  /**\n   * Fetch and return the next token.\n   * @return {Token} Next string token.\n   */\n  nextToken() {\n    const c = this.nextChar_();\n    const position = this.index_;\n    /** @type {number|string} */\n    let value = c;\n    let type;\n\n    if (c == '(') {\n      type = TokenType.LEFT_PAREN;\n    } else if (c == ',') {\n      type = TokenType.COMMA;\n    } else if (c == ')') {\n      type = TokenType.RIGHT_PAREN;\n    } else if (this.isNumeric_(c) || c == '-') {\n      type = TokenType.NUMBER;\n      value = this.readNumber_();\n    } else if (this.isAlpha_(c)) {\n      type = TokenType.TEXT;\n      value = this.readText_();\n    } else if (this.isWhiteSpace_(c)) {\n      return this.nextToken();\n    } else if (c === '') {\n      type = TokenType.EOF;\n    } else {\n      throw new Error('Unexpected character: ' + c);\n    }\n\n    return {position: position, value: value, type: type};\n  }\n\n  /**\n   * @return {number} Numeric token value.\n   * @private\n   */\n  readNumber_() {\n    let c;\n    const index = this.index_;\n    let decimal = false;\n    let scientificNotation = false;\n    do {\n      if (c == '.') {\n        decimal = true;\n      } else if (c == 'e' || c == 'E') {\n        scientificNotation = true;\n      }\n      c = this.nextChar_();\n    } while (\n      this.isNumeric_(c, decimal) ||\n      // if we haven't detected a scientific number before, 'e' or 'E'\n      // hint that we should continue to read\n      (!scientificNotation && (c == 'e' || c == 'E')) ||\n      // once we know that we have a scientific number, both '-' and '+'\n      // are allowed\n      (scientificNotation && (c == '-' || c == '+'))\n    );\n    return parseFloat(this.wkt.substring(index, this.index_--));\n  }\n\n  /**\n   * @return {string} String token value.\n   * @private\n   */\n  readText_() {\n    let c;\n    const index = this.index_;\n    do {\n      c = this.nextChar_();\n    } while (this.isAlpha_(c));\n    return this.wkt.substring(index, this.index_--).toUpperCase();\n  }\n}\n\n/**\n * Class to parse the tokens from the WKT string.\n */\nclass Parser {\n  /**\n   * @param {Lexer} lexer The lexer.\n   */\n  constructor(lexer) {\n    /**\n     * @type {Lexer}\n     * @private\n     */\n    this.lexer_ = lexer;\n\n    /**\n     * @type {Token}\n     * @private\n     */\n    this.token_ = {\n      position: 0,\n      type: TokenType.START,\n    };\n\n    /**\n     * @type {import(\"../geom/Geometry.js\").GeometryLayout}\n     * @private\n     */\n    this.layout_ = 'XY';\n  }\n\n  /**\n   * Fetch the next token form the lexer and replace the active token.\n   * @private\n   */\n  consume_() {\n    this.token_ = this.lexer_.nextToken();\n  }\n\n  /**\n   * Tests if the given type matches the type of the current token.\n   * @param {TokenType} type Token type.\n   * @return {boolean} Whether the token matches the given type.\n   */\n  isTokenType(type) {\n    return this.token_.type == type;\n  }\n\n  /**\n   * If the given type matches the current token, consume it.\n   * @param {TokenType} type Token type.\n   * @return {boolean} Whether the token matches the given type.\n   */\n  match(type) {\n    const isMatch = this.isTokenType(type);\n    if (isMatch) {\n      this.consume_();\n    }\n    return isMatch;\n  }\n\n  /**\n   * Try to parse the tokens provided by the lexer.\n   * @return {import(\"../geom/Geometry.js\").default} The geometry.\n   */\n  parse() {\n    this.consume_();\n    return this.parseGeometry_();\n  }\n\n  /**\n   * Try to parse the dimensional info.\n   * @return {import(\"../geom/Geometry.js\").GeometryLayout} The layout.\n   * @private\n   */\n  parseGeometryLayout_() {\n    /** @type {import(\"../geom/Geometry.js\").GeometryLayout} */\n    let layout = 'XY';\n    const dimToken = this.token_;\n    if (this.isTokenType(TokenType.TEXT)) {\n      const dimInfo = dimToken.value;\n      if (dimInfo === Z) {\n        layout = 'XYZ';\n      } else if (dimInfo === M) {\n        layout = 'XYM';\n      } else if (dimInfo === ZM) {\n        layout = 'XYZM';\n      }\n      if (layout !== 'XY') {\n        this.consume_();\n      }\n    }\n    return layout;\n  }\n\n  /**\n   * @return {Array<import(\"../geom/Geometry.js\").default>} A collection of geometries.\n   * @private\n   */\n  parseGeometryCollectionText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const geometries = [];\n      do {\n        geometries.push(this.parseGeometry_());\n      } while (this.match(TokenType.COMMA));\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return geometries;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<number>} All values in a point.\n   * @private\n   */\n  parsePointText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const coordinates = this.parsePoint_();\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<number>>} All points in a linestring.\n   * @private\n   */\n  parseLineStringText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const coordinates = this.parsePointList_();\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<Array<number>>>} All points in a polygon.\n   * @private\n   */\n  parsePolygonText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const coordinates = this.parseLineStringTextList_();\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<number>>} All points in a multipoint.\n   * @private\n   */\n  parseMultiPointText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      let coordinates;\n      if (this.token_.type == TokenType.LEFT_PAREN) {\n        coordinates = this.parsePointTextList_();\n      } else {\n        coordinates = this.parsePointList_();\n      }\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<Array<number>>>} All linestring points\n   *                                          in a multilinestring.\n   * @private\n   */\n  parseMultiLineStringText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const coordinates = this.parseLineStringTextList_();\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<Array<Array<number>>>>} All polygon points in a multipolygon.\n   * @private\n   */\n  parseMultiPolygonText_() {\n    if (this.match(TokenType.LEFT_PAREN)) {\n      const coordinates = this.parsePolygonTextList_();\n      if (this.match(TokenType.RIGHT_PAREN)) {\n        return coordinates;\n      }\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<number>} A point.\n   * @private\n   */\n  parsePoint_() {\n    const coordinates = [];\n    const dimensions = this.layout_.length;\n    for (let i = 0; i < dimensions; ++i) {\n      const token = this.token_;\n      if (this.match(TokenType.NUMBER)) {\n        coordinates.push(/** @type {number} */ (token.value));\n      } else {\n        break;\n      }\n    }\n    if (coordinates.length == dimensions) {\n      return coordinates;\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n\n  /**\n   * @return {Array<Array<number>>} An array of points.\n   * @private\n   */\n  parsePointList_() {\n    const coordinates = [this.parsePoint_()];\n    while (this.match(TokenType.COMMA)) {\n      coordinates.push(this.parsePoint_());\n    }\n    return coordinates;\n  }\n\n  /**\n   * @return {Array<Array<number>>} An array of points.\n   * @private\n   */\n  parsePointTextList_() {\n    const coordinates = [this.parsePointText_()];\n    while (this.match(TokenType.COMMA)) {\n      coordinates.push(this.parsePointText_());\n    }\n    return coordinates;\n  }\n\n  /**\n   * @return {Array<Array<Array<number>>>} An array of points.\n   * @private\n   */\n  parseLineStringTextList_() {\n    const coordinates = [this.parseLineStringText_()];\n    while (this.match(TokenType.COMMA)) {\n      coordinates.push(this.parseLineStringText_());\n    }\n    return coordinates;\n  }\n\n  /**\n   * @return {Array<Array<Array<Array<number>>>>} An array of points.\n   * @private\n   */\n  parsePolygonTextList_() {\n    const coordinates = [this.parsePolygonText_()];\n    while (this.match(TokenType.COMMA)) {\n      coordinates.push(this.parsePolygonText_());\n    }\n    return coordinates;\n  }\n\n  /**\n   * @return {boolean} Whether the token implies an empty geometry.\n   * @private\n   */\n  isEmptyGeometry_() {\n    const isEmpty =\n      this.isTokenType(TokenType.TEXT) && this.token_.value == EMPTY;\n    if (isEmpty) {\n      this.consume_();\n    }\n    return isEmpty;\n  }\n\n  /**\n   * Create an error message for an unexpected token error.\n   * @return {string} Error message.\n   * @private\n   */\n  formatErrorMessage_() {\n    return (\n      'Unexpected `' +\n      this.token_.value +\n      '` at position ' +\n      this.token_.position +\n      ' in `' +\n      this.lexer_.wkt +\n      '`'\n    );\n  }\n\n  /**\n   * @return {import(\"../geom/Geometry.js\").default} The geometry.\n   * @private\n   */\n  parseGeometry_() {\n    const token = this.token_;\n    if (this.match(TokenType.TEXT)) {\n      const geomType = /** @type {string} */ (token.value);\n      this.layout_ = this.parseGeometryLayout_();\n      const isEmpty = this.isEmptyGeometry_();\n      if (geomType == 'GEOMETRYCOLLECTION') {\n        if (isEmpty) {\n          return new GeometryCollection([]);\n        }\n        const geometries = this.parseGeometryCollectionText_();\n        return new GeometryCollection(geometries);\n      }\n      const ctor = GeometryConstructor[geomType];\n      if (!ctor) {\n        throw new Error('Invalid geometry type: ' + geomType);\n      }\n\n      let coordinates;\n\n      if (isEmpty) {\n        if (geomType == 'POINT') {\n          coordinates = [NaN, NaN];\n        } else {\n          coordinates = [];\n        }\n      } else {\n        switch (geomType) {\n          case 'POINT': {\n            coordinates = this.parsePointText_();\n            break;\n          }\n          case 'LINESTRING': {\n            coordinates = this.parseLineStringText_();\n            break;\n          }\n          case 'POLYGON': {\n            coordinates = this.parsePolygonText_();\n            break;\n          }\n          case 'MULTIPOINT': {\n            coordinates = this.parseMultiPointText_();\n            break;\n          }\n          case 'MULTILINESTRING': {\n            coordinates = this.parseMultiLineStringText_();\n            break;\n          }\n          case 'MULTIPOLYGON': {\n            coordinates = this.parseMultiPolygonText_();\n            break;\n          }\n          default:\n            break;\n        }\n      }\n\n      return new ctor(coordinates, this.layout_);\n    }\n    throw new Error(this.formatErrorMessage_());\n  }\n}\n\n/**\n * @classdesc\n * Geometry format for reading and writing data in the `WellKnownText` (WKT)\n * format.\n *\n * @api\n */\nclass WKT extends TextFeature {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    super();\n\n    options = options ? options : {};\n\n    /**\n     * Split GeometryCollection into multiple features.\n     * @type {boolean}\n     * @private\n     */\n    this.splitCollection_ =\n      options.splitCollection !== undefined ? options.splitCollection : false;\n  }\n\n  /**\n   * Parse a WKT string.\n   * @param {string} wkt WKT string.\n   * @return {import(\"../geom/Geometry.js\").default}\n   *     The geometry created.\n   * @private\n   */\n  parse_(wkt) {\n    const lexer = new Lexer(wkt);\n    const parser = new Parser(lexer);\n    return parser.parse();\n  }\n\n  /**\n   * @protected\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @return {import(\"../Feature.js\").default} Feature.\n   */\n  readFeatureFromText(text, options) {\n    const geom = this.readGeometryFromText(text, options);\n    const feature = new Feature();\n    feature.setGeometry(geom);\n    return feature;\n  }\n\n  /**\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @protected\n   * @return {Array<Feature>} Features.\n   */\n  readFeaturesFromText(text, options) {\n    let geometries = [];\n    const geometry = this.readGeometryFromText(text, options);\n    if (this.splitCollection_ && geometry.getType() == 'GeometryCollection') {\n      geometries = /** @type {GeometryCollection} */ (\n        geometry\n      ).getGeometriesArray();\n    } else {\n      geometries = [geometry];\n    }\n    const features = [];\n    for (let i = 0, ii = geometries.length; i < ii; ++i) {\n      const feature = new Feature();\n      feature.setGeometry(geometries[i]);\n      features.push(feature);\n    }\n    return features;\n  }\n\n  /**\n   * @param {string} text Text.\n   * @param {import(\"./Feature.js\").ReadOptions} [options] Read options.\n   * @protected\n   * @return {import(\"../geom/Geometry.js\").default} Geometry.\n   */\n  readGeometryFromText(text, options) {\n    const geometry = this.parse_(text);\n    return transformGeometryWithOptions(geometry, false, options);\n  }\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeFeatureText(feature, options) {\n    const geometry = feature.getGeometry();\n    if (geometry) {\n      return this.writeGeometryText(geometry, options);\n    }\n    return '';\n  }\n\n  /**\n   * @param {Array<import(\"../Feature.js\").default>} features Features.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeFeaturesText(features, options) {\n    if (features.length == 1) {\n      return this.writeFeatureText(features[0], options);\n    }\n    const geometries = [];\n    for (let i = 0, ii = features.length; i < ii; ++i) {\n      geometries.push(features[i].getGeometry());\n    }\n    const collection = new GeometryCollection(geometries);\n    return this.writeGeometryText(collection, options);\n  }\n\n  /**\n   * @param {import(\"../geom/Geometry.js\").default} geometry Geometry.\n   * @param {import(\"./Feature.js\").WriteOptions} [options] Write options.\n   * @protected\n   * @return {string} Text.\n   */\n  writeGeometryText(geometry, options) {\n    return encode(transformGeometryWithOptions(geometry, true, options));\n  }\n}\n\n/**\n * @param {Point} geom Point geometry.\n * @return {string} Coordinates part of Point as WKT.\n */\nfunction encodePointGeometry(geom) {\n  const coordinates = geom.getCoordinates();\n  if (coordinates.length === 0) {\n    return '';\n  }\n  return coordinates.join(' ');\n}\n\n/**\n * @param {MultiPoint} geom MultiPoint geometry.\n * @return {string} Coordinates part of MultiPoint as WKT.\n */\nfunction encodeMultiPointGeometry(geom) {\n  const array = [];\n  const components = geom.getPoints();\n  for (let i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + encodePointGeometry(components[i]) + ')');\n  }\n  return array.join(',');\n}\n\n/**\n * @param {GeometryCollection} geom GeometryCollection geometry.\n * @return {string} Coordinates part of GeometryCollection as WKT.\n */\nfunction encodeGeometryCollectionGeometry(geom) {\n  const array = [];\n  const geoms = geom.getGeometries();\n  for (let i = 0, ii = geoms.length; i < ii; ++i) {\n    array.push(encode(geoms[i]));\n  }\n  return array.join(',');\n}\n\n/**\n * @param {LineString|import(\"../geom/LinearRing.js\").default} geom LineString geometry.\n * @return {string} Coordinates part of LineString as WKT.\n */\nfunction encodeLineStringGeometry(geom) {\n  const coordinates = geom.getCoordinates();\n  const array = [];\n  for (let i = 0, ii = coordinates.length; i < ii; ++i) {\n    array.push(coordinates[i].join(' '));\n  }\n  return array.join(',');\n}\n\n/**\n * @param {MultiLineString} geom MultiLineString geometry.\n * @return {string} Coordinates part of MultiLineString as WKT.\n */\nfunction encodeMultiLineStringGeometry(geom) {\n  const array = [];\n  const components = geom.getLineStrings();\n  for (let i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + encodeLineStringGeometry(components[i]) + ')');\n  }\n  return array.join(',');\n}\n\n/**\n * @param {Polygon} geom Polygon geometry.\n * @return {string} Coordinates part of Polygon as WKT.\n */\nfunction encodePolygonGeometry(geom) {\n  const array = [];\n  const rings = geom.getLinearRings();\n  for (let i = 0, ii = rings.length; i < ii; ++i) {\n    array.push('(' + encodeLineStringGeometry(rings[i]) + ')');\n  }\n  return array.join(',');\n}\n\n/**\n * @param {MultiPolygon} geom MultiPolygon geometry.\n * @return {string} Coordinates part of MultiPolygon as WKT.\n */\nfunction encodeMultiPolygonGeometry(geom) {\n  const array = [];\n  const components = geom.getPolygons();\n  for (let i = 0, ii = components.length; i < ii; ++i) {\n    array.push('(' + encodePolygonGeometry(components[i]) + ')');\n  }\n  return array.join(',');\n}\n\n/**\n * @param {import(\"../geom/SimpleGeometry.js\").default} geom SimpleGeometry geometry.\n * @return {string} Potential dimensional information for WKT type.\n */\nfunction encodeGeometryLayout(geom) {\n  const layout = geom.getLayout();\n  let dimInfo = '';\n  if (layout === 'XYZ' || layout === 'XYZM') {\n    dimInfo += Z;\n  }\n  if (layout === 'XYM' || layout === 'XYZM') {\n    dimInfo += M;\n  }\n  return dimInfo;\n}\n\n/**\n * @const\n * @type {Object<string, function(import(\"../geom/Geometry.js\").default): string>}\n */\nconst GeometryEncoder = {\n  'Point': encodePointGeometry,\n  'LineString': encodeLineStringGeometry,\n  'Polygon': encodePolygonGeometry,\n  'MultiPoint': encodeMultiPointGeometry,\n  'MultiLineString': encodeMultiLineStringGeometry,\n  'MultiPolygon': encodeMultiPolygonGeometry,\n  'GeometryCollection': encodeGeometryCollectionGeometry,\n};\n\n/**\n * Encode a geometry as WKT.\n * @param {import(\"../geom/Geometry.js\").default} geom The geometry to encode.\n * @return {string} WKT string for the geometry.\n */\nfunction encode(geom) {\n  const type = geom.getType();\n  const geometryEncoder = GeometryEncoder[type];\n  const enc = geometryEncoder(geom);\n  let wktType = wktTypeLookup[type];\n  if (typeof (/** @type {?} */ (geom).getFlatCoordinates) === 'function') {\n    const dimInfo = encodeGeometryLayout(\n      /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (geom)\n    );\n    if (dimInfo.length > 0) {\n      wktType += ' ' + dimInfo;\n    }\n  }\n  if (enc.length === 0) {\n    return wktType + ' ' + EMPTY;\n  }\n  return wktType + '(' + enc + ')';\n}\n\nexport default WKT;\n","import { useQuery } from \"@tanstack/react-query\";\nimport { FeatureCollection } from \"geojson\";\nimport WKT from \"ol/format/WKT.js\";\nimport { Geometry, Polygon } from \"ol/geom\";\nimport { Dataset, DatasetError, DatasetResponse } from \"./types\";\n\nconst baseURL = \"https://www.planning.data.gov.uk\";\n\nexport const fetchDataset = async (geometry: Geometry) => {\n  const format = new WKT();\n  const polygon = format.writeGeometry(geometry);\n\n  return await fetch(\n    `${baseURL}/entity.geojson?limit=100&geometry=${polygon}`,\n  ).then((Response) => {\n    return Response.json();\n  });\n};\n\nexport const useFetchDatasets = () =>\n  useQuery<DatasetResponse, DatasetError, Dataset[]>(\n    [\"datasets\"],\n    () => fetch(`${baseURL}/dataset.json`).then((response) => response.json()),\n    {\n      select: (data) =>\n        data.datasets.sort((a, b) => a.name.localeCompare(b.name)),\n    },\n  );\n\nconst fetchEntities: (\n  geometry?: Geometry,\n  dataset?: string,\n) => Promise<FeatureCollection> = async (geometry, dataset) => {\n  if (!geometry) {\n    return { features: [] };\n  }\n\n  const format = new WKT();\n  const polygon = format.writeGeometry(geometry);\n\n  let datasetQuery = dataset ? `&dataset=${dataset}` : \"\";\n\n  return await fetch(\n    `${baseURL}/entity.geojson?limit=100&geometry=${polygon}${datasetQuery}&geometry_relation=intersects`,\n  ).then((Response) => {\n    return Response.json();\n  });\n};\n\nexport const useFetchEntities = (\n  geometry: Geometry | undefined,\n  dataset?: string,\n) =>\n  useQuery([\"entities\", dataset, geometry], () =>\n    fetchEntities(geometry, dataset),\n  );\n","import { useMemo } from \"preact/compat\";\nimport { Dataset } from \"src/api/planningData/types\";\n\ninterface DatasetSelectProps {\n  item: Dataset;\n  selected: boolean;\n  onSelect: (item: string) => void;\n}\n\nconst DatasetSelect = ({ item, selected, onSelect }: DatasetSelectProps) => {\n  const id = useMemo(() => `${item.dataset}-checkbox`, [item]);\n\n  return (\n    <div key={item.dataset} className=\"flex items-center mb-4\">\n      <input\n        id={id}\n        className=\"h-5 w-5 flex-none cursor-pointer\"\n        type=\"checkbox\"\n        checked={selected}\n        onChange={() => onSelect(item.dataset)}\n      />\n      <label htmlFor={id} className=\"ml-2 font-semibold cursor-pointer\">\n        {item.name}\n      </label>\n    </div>\n  );\n};\n\nexport default DatasetSelect;\n","import { useCallback } from \"preact/hooks\";\nimport { Dataset } from \"src/api/planningData/types\";\nimport DatasetSelect from \"./DatasetSelect\";\n\ninterface DatasetListProps {\n  title?: string;\n  items: Dataset[];\n  selectedItems: ReadonlyArray<string>;\n  onSelect: (dataset: string) => void;\n  isLoading?: boolean;\n}\n\nconst DatasetList = ({\n  title = \"Data Layers\",\n  items,\n  selectedItems,\n  onSelect,\n  isLoading = false,\n}: DatasetListProps) => {\n  const isSelected = useCallback(\n    (dataset: string) => selectedItems.includes(dataset),\n    [selectedItems],\n  );\n\n  const datasets = items.map((item) => (\n    <DatasetSelect\n      key={item.dataset}\n      item={item}\n      selected={isSelected(item.dataset)}\n      onSelect={onSelect}\n    />\n  ));\n\n  return (\n    <div className=\"flex flex-col border h-full overflow-hidden\">\n      <div className=\"text-xl font-bold border-b p-2\">{title}</div>\n      <div className=\"pt-2 px-2 overflow-y-auto overscroll-none grow flex flex-col\">\n        {!isLoading ? (\n          datasets\n        ) : (\n          <div className=\"text-center flex flex-col justify-center grow\">\n            Loading...\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DatasetList;\n","import { useMemo } from \"preact/hooks\";\nimport { useFetchDatasets } from \"src/api/planningData/api\";\nimport DatasetList from \"src/components/datasets/DatasetList\";\n\ninterface DatasetControlProps {\n  selectedDatasets: ReadonlyArray<string>;\n  datasetFilterList?: ReadonlyArray<string>;\n  onSelectDataset: (dataset: string) => void;\n}\n\nconst DatasetControl = ({\n  selectedDatasets,\n  datasetFilterList,\n  onSelectDataset,\n}: DatasetControlProps) => {\n  const { data: datasets, isLoading } = useFetchDatasets();\n\n  const filteredDatasets = useMemo(() => {\n    if (!datasets) {\n      return [];\n    }\n\n    if (datasetFilterList && datasetFilterList.length) {\n      return datasets.filter((dataset) =>\n        datasetFilterList.includes(dataset.dataset),\n      );\n    }\n\n    return datasets;\n  }, [datasetFilterList, datasets]);\n\n  return (\n    <div className=\"dataset-control\">\n      <DatasetList\n        items={filteredDatasets}\n        selectedItems={selectedDatasets}\n        onSelect={onSelectDataset}\n        isLoading={isLoading}\n      />\n    </div>\n  );\n};\n\nexport default DatasetControl;\n","import { Geometry } from \"ol/geom\";\nimport { Options as FillOptions } from \"ol/style/Fill\";\nimport { Options as StrokeOptions } from \"ol/style/Stroke\";\nimport { useMemo } from \"preact/compat\";\nimport { useFetchEntities } from \"src/api/planningData/api\";\nimport { Dataset } from \"src/api/planningData/types\";\nimport MapLayer from \"./MapLayer\";\n\ninterface DatasetlayerProps {\n  area: Geometry;\n  dataset: Dataset;\n  zIndex?: number;\n}\n\nconst DatasetLayer = ({ area, dataset, zIndex = 1 }: DatasetlayerProps) => {\n  const { data, isLoading, isError } = useFetchEntities(area, dataset.dataset);\n\n  if (isLoading || isError) {\n    return null;\n  }\n\n  const stroke: StrokeOptions = useMemo(() => {\n    const color = dataset[\"paint-options\"]\n      ? dataset[\"paint-options\"].colour\n      : \"#003078\";\n    return { color, width: 2 };\n  }, [dataset]);\n\n  const fill: FillOptions = useMemo(() => {\n    const paintOptions = dataset[\"paint-options\"];\n    if (!paintOptions) {\n      return { color: \"rgba(0, 48, 120, 0.2)\" };\n    }\n\n    const { colour, opacity } = paintOptions;\n    const red = parseInt(colour.slice(1, 3), 16);\n    const green = parseInt(colour.slice(3, 5), 16);\n    const blue = parseInt(colour.slice(5, 7), 16);\n\n    return { color: `rgb(${red}, ${green}, ${blue}, ${opacity || 0.2})` };\n  }, [dataset]);\n\n  return (\n    <MapLayer features={data} stroke={stroke} fill={fill} zIndex={zIndex} />\n  );\n};\n\nexport default DatasetLayer;\n","import { fromExtent } from \"ol/geom/Polygon\";\nimport { useMemo } from \"preact/hooks\";\nimport { useFetchDatasets } from \"src/api/planningData/api\";\nimport { useMap } from \"src/contexts/mapContext\";\nimport DatasetLayer from \"./DatasetLayer\";\n\ninterface DatasetLayersProps {\n  selectedDatasets: ReadonlyArray<string>;\n}\n\nconst DatasetLayers = ({ selectedDatasets }: DatasetLayersProps) => {\n  const map = useMap();\n  const { data } = useFetchDatasets();\n\n  const datasets = useMemo(\n    () =>\n      data?.filter((dataset) => selectedDatasets.includes(dataset.dataset)) ??\n      [],\n    [selectedDatasets, data],\n  );\n\n  const area = fromExtent(map.getView().calculateExtent(map.getSize()));\n  const layers = datasets.map((dataset) => (\n    <DatasetLayer dataset={dataset} area={area} key={dataset.dataset} />\n  ));\n\n  return <>{layers}</>;\n};\n\nexport default DatasetLayers;\n","import { CSSProperties, useState } from \"preact/compat\";\nimport BaseMap from \"./components/BaseMap\";\nimport DatasetControl from \"./components/DatasetControl\";\nimport DatasetLayers from \"./components/DatasetLayers\";\nimport DrawingLayer from \"./components/DrawingLayer\";\nimport MapContainer from \"./components/MapContainer\";\nimport { Boundary } from \"./types\";\n\nimport \"./MapComponent.css\";\n\ninterface MapComponentProps {\n  baseMapProps?: BaseMapProps;\n  drawingMapProps?: DrawingMapProps;\n  showDatasets?: boolean;\n  datasetFilterList?: ReadonlyArray<string>;\n  id?: string;\n  className?: string;\n  style?: CSSProperties;\n  value?: Boundary;\n  onChange?: (boundary: Boundary) => void;\n}\n\ninterface BaseMapProps {\n  lat?: number;\n  lng?: number;\n  zoom?: number;\n  isDrawingMode?: boolean;\n}\n\ninterface DrawingMapProps {\n  strokeColor?: string;\n  fillColor?: string;\n  strokeWidth?: number;\n  vertexPoints?: number;\n  vertexRadius?: number;\n  pointerStrokeColor?: string;\n  pointerFillColor?: string;\n  pointerRadius?: number;\n}\n\nconst DrawingMapProperties = {\n  strokeColor: \"#DD6970\",\n  fillColor: \"rgba(221, 105, 112, 0.1)\",\n  strokeWidth: 2,\n  vertexPoints: 4,\n  vertexRadius: 5,\n  pointerStrokeColor: \"white\",\n  pointerFillColor: \"#DD6970\",\n  pointerRadius: 5,\n};\n\nconst BaseMapProperties = {\n  isDrawingMode: true,\n  lat: 54.97,\n  lng: -1.65,\n  zoom: 10,\n};\n\nconst MapComponent = ({\n  id,\n  className,\n  style = { height: \"700px\", width: \"100%\" },\n  showDatasets = true,\n  datasetFilterList,\n  value,\n  onChange,\n  baseMapProps,\n  drawingMapProps,\n}: MapComponentProps) => {\n  const customDrawingProperties = {\n    ...DrawingMapProperties,\n    ...drawingMapProps,\n  };\n\n  const customBaseMapProperties = {\n    ...BaseMapProperties,\n    ...baseMapProps,\n  };\n\n  const [datasets, setDatasets] = useState<ReadonlyArray<string>>([]);\n  const selectDataset = (dataset: string) => {\n    if (!datasets.includes(dataset)) {\n      setDatasets([...datasets, dataset]);\n    } else {\n      setDatasets(\n        datasets.filter((selectedDataset) => selectedDataset !== dataset),\n      );\n    }\n  };\n\n  const containerClassName = `map-container ${className}`;\n\n  return (\n    <MapContainer id={id} className={containerClassName} style={style}>\n      <BaseMap\n        lat={customBaseMapProperties.lat}\n        lng={customBaseMapProperties.lng}\n        zoom={customBaseMapProperties.zoom}\n        style={{ height: \"100%\", width: \"100%\" }}\n      />\n      <div className=\"map-controls\">\n        {showDatasets && (\n          <DatasetControl\n            selectedDatasets={datasets}\n            onSelectDataset={selectDataset}\n            datasetFilterList={datasetFilterList}\n          />\n        )}\n      </div>\n      {customBaseMapProperties.isDrawingMode && (\n        <DrawingLayer\n          {...customDrawingProperties}\n          value={value}\n          onChange={onChange}\n        />\n      )}\n      {showDatasets && <DatasetLayers selectedDatasets={datasets} />}\n    </MapContainer>\n  );\n};\n\nexport default MapComponent;\n"],"names":["Subscribable","listener","identity","isServer","noop","functionalUpdate","updater","input","isValidTimeout","value","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","parseFilterArgs","matchQuery","filters","query","type","exact","fetchStatus","predicate","queryKey","stale","hashQueryKeyByOptions","partialMatchKey","isActive","matchMutation","mutation","fetching","mutationKey","hashQueryKey","options","_","val","isPlainObject","result","key","a","b","partialDeepEqual","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","i","shallowEqualObjects","o","hasObjectPrototype","ctor","prot","sleep","timeout","resolve","scheduleMicrotask","callback","getAbortController","replaceData","prevData","data","FocusManager","onFocus","_this$cleanup","setup","_this$cleanup2","focused","focusManager","onlineEvents","OnlineManager","onOnline","event","online","onlineManager","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","isCancelledError","createRetryer","config","isRetryCancelled","isResolved","continueFn","promiseResolve","promiseReject","promise","outerResolve","outerReject","cancel","cancelOptions","reject","cancelRetry","continueRetry","shouldPause","pause","continueResolve","canContinue","run","promiseOrValue","error","_config$retry","_config$retryDelay","retry","retryDelay","delay","shouldRetry","createNotifyManager","queue","transactions","notifyFn","batchNotifyFn","batch","flush","schedule","batchCalls","args","originalQueue","fn","notifyManager","QueryObserver","client","shouldFetchOnMount","shouldFetchOn","notifyOptions","prevOptions","prevQuery","mounted","shouldFetchOptionally","nextRefetchInterval","shouldAssignObserverCurrentProperties","trackedResult","refetchPage","defaultedOptions","fetchOptions","_fetchOptions$cancelR","_this$options$refetch","nextInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","prevQueryResult","state","dataUpdatedAt","errorUpdatedAt","status","isPreviousData","isPlaceholderData","fetchOnMount","fetchOptionally","selectError","placeholderData","isFetching","isLoading","isError","isStale","nextResult","defaultNotifyOptions","shouldNotifyListeners","notifyOnChangeProps","notifyOnChangePropsValue","includedProps","typedKey","action","_this$options$onSucce","_this$options","_this$options$onSettl","_this$options2","_this$options$onError","_this$options3","_this$options$onSettl2","_this$options4","shouldLoadOnMount","field","observer","optimisticResult","e","require$$0","h","k","l","m","n","p","q","d","f","c","g","r","t","u","useSyncExternalStoreShim_production_min","shimModule","useSyncExternalStore","useSyncExternalStore$1","defaultContext","React.createContext","QueryClientSharingContext","getQueryClientContext","context","contextSharing","useQueryClient","queryClient","React.useContext","QueryClientProvider","children","React.useEffect","Context","React.createElement","IsRestoringContext","useIsRestoring","createValue","isReset","QueryErrorResetBoundaryContext","useQueryErrorResetBoundary","shouldThrowError","_useErrorBoundary","params","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","useErrorBoundary","ensureStaleTime","willFetch","isRestoring","shouldSuspend","fetchOptimistic","useBaseQuery","Observer","React.useState","React.useCallback","onStoreChange","unsubscribe","useQuery","parsedOptions","TextFeature","FeatureFormat","source","getText","text","abstract","feature","features","geometry","TextFeature$1","GeometryConstructor","Point","LineString","Polygon","MultiPoint","MultiLineString","MultiPolygon","EMPTY","Z","M","ZM","TokenType","wktTypeLookup","Lexer","wkt","decimal","position","index","scientificNotation","Parser","lexer","isMatch","layout","dimToken","dimInfo","geometries","coordinates","dimensions","token","isEmpty","geomType","GeometryCollection","WKT","geom","Feature","ii","transformGeometryWithOptions","collection","encode","encodePointGeometry","encodeMultiPointGeometry","components","encodeGeometryCollectionGeometry","geoms","encodeLineStringGeometry","encodeMultiLineStringGeometry","encodePolygonGeometry","rings","encodeMultiPolygonGeometry","encodeGeometryLayout","GeometryEncoder","geometryEncoder","enc","wktType","WKT$1","baseURL","useFetchDatasets","fetch","then","response","json","select","datasets","sort","name","localeCompare","fetchEntities","dataset","polygon","writeGeometry","datasetQuery","Response","useFetchEntities","DatasetSelect","item","selected","onSelect","id","useMemo","_jsxs","className","_jsx","checked","onChange","htmlFor","DatasetList","title","items","selectedItems","isSelected","useCallback","includes","map","DatasetControl","selectedDatasets","datasetFilterList","onSelectDataset","filteredDatasets","length","filter","DatasetLayer","area","zIndex","stroke","color","colour","width","fill","paintOptions","opacity","red","parseInt","slice","green","blue","MapLayer","DatasetLayers","useMap","fromExtent","getView","calculateExtent","getSize","layers","_Fragment","DrawingMapProperties","strokeColor","fillColor","strokeWidth","vertexPoints","vertexRadius","pointerStrokeColor","pointerFillColor","pointerRadius","BaseMapProperties","isDrawingMode","lat","lng","zoom","MapComponent","style","height","showDatasets","baseMapProps","drawingMapProps","customDrawingProperties","customBaseMapProperties","setDatasets","useState","selectDataset","selectedDataset","containerClassName","MapContainer","BaseMap","DrawingLayer"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]}