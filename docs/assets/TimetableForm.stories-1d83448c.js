import{h as D}from"./hooks.module-10a4f742.js";import{o as e}from"./jsxRuntime.module-8e7d8b33.js";import{T as u}from"./Textarea-a2b74182.js";/* empty css                    */import{N as d,P as i,D as S,I as E,F as w}from"./constants-6ab425e5.js";import{R as Y}from"./RadioButtons-900e0ac3.js";import"./preact.module-4f38c496.js";const m=({showDays:t=!0,value:a,onChange:n})=>e("div",{className:"flex mb-4",children:[t&&e("label",{className:"mr-2",children:[e("p",{children:"Day"}),e("input",{type:"text",value:a.day||"",onChange:o=>n({...a,day:o.currentTarget.value}),className:"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]}),e("label",{className:"mx-2",children:[e("p",{children:"Month"}),e("input",{type:"text",value:a.month||"",onChange:o=>n({...a,month:o.currentTarget.value}),className:"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]}),e("label",{className:"mx-2",children:[e("p",{children:"Year"}),e("input",{type:"text",value:a.year||"",onChange:o=>n({...a,year:o.currentTarget.value}),className:"border-2 border-black w-20 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]})]}),G=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Summary text"}),e("p",{className:"text-sm mb-2 text-gray-600",children:"Keep this specific to your own Local Plan"}),e(u,{value:t,onChange:a,maxLength:400})]}),b="landing",x="title",g="description",f="publishDate",r="scoping",s="gateway1",N="export",h={day:"",month:"",year:""},I={startDate:h,endDate:h,progress:d,additionalInformation:""},K={[x]:"",[g]:"",[f]:h,[r]:I,[s]:I},k=t=>{const a=B(t);return`data:text/json;charset=urf-8, ${encodeURIComponent(JSON.stringify(a))}`},B=t=>({title:t.title,description:t.description,publishDate:p(t.publishDate),stages:[P(r,"Scoping and early participation",t[r]),P(s,"Gateway 1. Check-point",t[s])]}),P=(t,a,n)=>({key:t,name:a,startDate:p(n.startDate),endDate:p(n.endDate),progress:n.progress,additionalInformation:n.additionalInformation}),p=t=>{const a=t.year?parseInt(t.year):new Date().getFullYear(),n=t.month?parseInt(t.month)-1:0,o=t.day?parseInt(t.day):1;return new Date(a,n,o)},J=({value:t})=>{const a=k(t);return e("div",{children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Export your timetable to JSON"}),e("p",{className:"w-2/3 mb-4",children:"When you have completed all the details, you can export your data into a JSON file that can generate the DLUHC TImetable Template on your website."}),e("p",{className:"text-blue-400 underline mb-4",children:"Read more about how to publish Timetable JSON data online"}),e("a",{role:"button",type:"button",className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",href:a,download:"timetabe.json",children:"Export Timetable JSON"})]})},U=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Timetable published date"}),e("p",{className:"w-1/2",children:"This is the date this version of your timetable will be published publicly online"}),e("p",{className:"text-sm mt-4 mb-2 text-gray-600",children:"For example, 21 3 2025"}),e(m,{value:t,onChange:a})]}),H=[{label:i[d],value:d},{label:i[S],value:S},{label:i[E],value:E},{label:i[w],value:w}],v=({stageName:t,value:a,onChange:n})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-2 text-4xl font-bold",children:t}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Start date"}),e("p",{children:"For example, 3 2025"}),e(m,{value:a.startDate,onChange:o=>n({...a,startDate:o}),showDays:!1})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"End date"}),e(m,{value:a.endDate,onChange:o=>n({...a,endDate:o}),showDays:!1})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Progress"}),e(Y,{options:H,value:a.progress,onChange:o=>n({...a,progress:o})})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Additional information (optional)"}),e(u,{value:a.additionalInformation,onChange:o=>n({...a,additionalInformation:o}),maxLength:100})]})]}),M=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Local Plan title"}),e("p",{className:"text-sm mb-2 text-gray-600",children:"Such as Birmingham City 2025-2040 Local Plan timetable"}),e(u,{value:t,onChange:a,maxLength:100})]}),W=({onContinueClick:t})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Local Plan Timetable Generation Form"}),e("p",{className:" mb-2 text-gray-600 w-6/12",children:"This form can support you in the creation and publishing of a Local Plan Timetable."}),e("p",{className:"text-blue-400 underline",children:"Read more about how to publish Timetable CSV data online"}),e("div",{children:e("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2 my-4",onClick:t,children:"Start a new timetable"})}),e("div",{children:e("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",children:"Upload and edit an exisiting timetable"})})]}),j=7,X=(t,a,n,o)=>{switch(t){case b:return e(W,{onContinueClick:()=>o()});case x:return e(M,{value:a[t],onChange:l=>n(t,l)});case g:return e(G,{value:a[t],onChange:l=>n(t,l)});case f:return e(U,{value:a[t],onChange:l=>n(t,l)});case r:return e(v,{stageName:"Scoping and early participation",value:a[t],onChange:l=>n(t,l)});case s:return e(v,{stageName:"Gateway 1. Check-point",value:a[t],onChange:l=>n(t,l)});case N:return e(J,{value:a});default:return null}},$=[b,x,g,f,r,s,N],q=()=>{const[t,a]=D(K),[n,o]=D(0),l=$[n],O=(R,F)=>{a({...t,[R]:F})},A=()=>{n!==0&&o(n-1)},y=()=>{n<j-1&&o(n+1)},T=X(l,t,O,y);return e("div",{children:l!==b?e("div",{children:[e("div",{children:["<",e("p",{className:"underline hover:decoration-2 py-1 px-2 inline-block cursor-pointer",onClick:A,children:"Back"})]}),e("div",{children:T}),l!==N&&e("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",onClick:y,children:"Continue"})]}):e("div",{children:T})})},z=q,oe={component:z,title:"SOW14/Timetable Form",tags:["autodocs"]},c={args:{}};var _,C,L;c.parameters={...c.parameters,docs:{...(_=c.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {}
}`,...(L=(C=c.parameters)==null?void 0:C.docs)==null?void 0:L.source}}};const le=["Default"];export{c as Default,le as __namedExportsOrder,oe as default};
//# sourceMappingURL=TimetableForm.stories-1d83448c.js.map
