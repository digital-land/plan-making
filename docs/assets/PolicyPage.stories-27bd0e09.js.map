{"version":3,"file":"PolicyPage.stories-27bd0e09.js","sources":["../../src/components/policyPage/PolicyPage.tsx"],"sourcesContent":["import { ReactNode, useEffect, useState } from \"react\";\nimport { loadJson } from \"src/utils\";\nimport { Policy } from \"../policyForm/types\";\nimport { INITIAL_POLICY_STATE, THEME_OPTIONS } from \"../policyForm/constants\";\nimport MapComponent from \"../maps/MapComponent\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\ninterface PolicyPageProps {\n  policyFilePath: string;\n}\n\nconst PolicyPage = ({ policyFilePath }: PolicyPageProps) => {\n  const [policyData, setPolicyData] = useState<Policy>(INITIAL_POLICY_STATE);\n\n  const loadData = async () => {\n    if (/.json$/.test(policyFilePath)) {\n      await loadJson(policyFilePath).then((data) => {\n        setPolicyData(data);\n      });\n    }\n  };\n\n  const baseMapProps = {\n    isDrawingMode: false,\n    lat: 54.97,\n    lng: -1.65,\n    zoom: 10,\n    style: { height: \"500px\", width: \"500px\" },\n  };\n\n  const queryClient = new QueryClient();\n\n  useEffect(() => {\n    loadData();\n  }, [setPolicyData, policyFilePath]);\n\n  return (\n    <div>\n      <div>\n        <h1 className=\"my-8 text-3xl font-bold\">\n          {policyData.reference} - {policyData.title}\n        </h1>\n        <p className=\"text-lg mb-8\">{policyData.description}</p>\n        <h2 className=\"mt-8  mb-4  text-xl font-bold\">\n          Themes this policy is linked to:\n        </h2>\n        <ul className=\"list-disc pl-8\">\n          {policyData.themes.map((theme) => (\n            <li key={theme} className=\"text-sm\">\n              {\n                THEME_OPTIONS.find((themeObject) => themeObject.key === theme)\n                  ?.label\n              }\n            </li>\n          ))}\n        </ul>\n        <h2 className=\"mt-8 mb-4 text-xl font-bold\">\n          Development should provide for the following:\n        </h2>\n        <ul className=\"list-disc pl-8\">\n          {policyData.requirements.map((requirement) => (\n            <li key={requirement} className=\"text-sm mb-2\">\n              {requirement}\n            </li>\n          ))}\n        </ul>\n        <p className=\"w-2/3 text-lg mb-8 mt-6\">\n          {policyData.supplementaryText}\n        </p>\n        <div>\n          <QueryClientProvider client={queryClient}>\n            {\n              (\n                <MapComponent\n                  baseMapProps={baseMapProps}\n                  showDatasets={false}\n                  boundaries={[policyData.boundary]}\n                />\n              ) as ReactNode\n            }\n          </QueryClientProvider>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PolicyPage;\n"],"names":["PolicyPage","policyFilePath","policyData","setPolicyData","useState","INITIAL_POLICY_STATE","loadData","test","loadJson","then","data","baseMapProps","isDrawingMode","lat","lng","zoom","style","height","width","queryClient","QueryClient","useEffect","_jsx","children","_jsxs","className","reference","title","description","themes","map","theme","THEME_OPTIONS","find","themeObject","key","label","requirements","requirement","supplementaryText","QueryClientProvider","client","MapComponent","showDatasets","boundaries","boundary","PolicyPage$1"],"mappings":"wZAUA,MAAMA,EAAaA,CAAC,CAAEC,eAAAA,CAAgC,IAAM,CAC1D,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAiBC,CAAoB,EAEnEC,EAAW,SAAY,CACvB,SAASC,KAAKN,CAAc,GAC9B,MAAMO,EAASP,CAAc,EAAEQ,KAAeC,GAAA,CAC5CP,EAAcO,CAAI,CAAA,CACnB,CACH,EAGIC,EAAe,CACnBC,cAAe,GACfC,IAAK,MACLC,IAAK,MACLC,KAAM,GACNC,MAAO,CAAEC,OAAQ,QAASC,MAAO,OAAQ,CAAA,EAGrCC,EAAc,IAAIC,EAExBC,OAAAA,EAAU,IAAM,CACLf,GAAA,EACR,CAACH,EAAeF,CAAc,CAAC,EAGhCqB,EAAA,MAAA,CAAAC,SACEC,EAAA,MAAA,CAAAD,UACEC,EAAA,KAAA,CAAIC,UAAU,0BAAyBF,SAAA,CACpCrB,EAAWwB,UAAU,MAAIxB,EAAWyB,KAAK,CAAA,CACxC,EACJL,EAAA,IAAA,CAAGG,UAAU,eAAcF,SAAErB,EAAW0B,WAAAA,CAAe,EACvDN,EAAA,KAAA,CAAIG,UAAU,gCAA+BF,SAAC,kCAAA,CAE1C,EACJD,EAAA,KAAA,CAAIG,UAAU,iBAAgBF,SAC3BrB,EAAW2B,OAAOC,IAAKC,GAAAA,OACtBT,OAAAA,EAAA,KAAA,CAAgBG,UAAU,UAASF,UAE/BS,EAAAA,EAAcC,QAAsBC,EAAYC,MAAQJ,CAAK,IAA7DC,YAAAA,EACII,KAAK,EAHJL,CAKL,EACL,CAAA,CACC,EACJT,EAAA,KAAA,CAAIG,UAAU,8BAA6BF,SAAC,+CAAA,CAExC,EACJD,EAAA,KAAA,CAAIG,UAAU,iBAAgBF,SAC3BrB,EAAWmC,aAAaP,IAAKQ,GAC5BhB,EAAA,KAAA,CAAsBG,UAAU,eAAcF,SAC3Ce,CAAW,EADLA,CAEL,CACL,CAAA,CACC,EACJhB,EAAA,IAAA,CAAGG,UAAU,0BAAyBF,SACnCrB,EAAWqC,iBAAAA,CACX,EACHjB,EAAA,MAAA,CAAAC,SACED,EAACkB,EAAmB,CAACC,OAAQtB,EAAYI,SAGnCD,EAACoB,EAAY,CACX/B,aAAAA,EACAgC,aAAc,GACdC,WAAY,CAAC1C,EAAW2C,QAAQ,CAAA,CACjC,CAAA,CAGc,CAAA,CAClB,CAAC,CAAA,CACH,CAAA,CACF,CAET,EAEAC,EAAe9C;;;;"}