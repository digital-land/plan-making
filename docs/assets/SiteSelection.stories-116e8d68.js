import{F as We,h as dt,p as dc}from"./hooks.module-10a4f742.js";import{l as hc}from"./utils-3cc51d2a.js";import{o as E}from"./jsxRuntime.module-8e7d8b33.js";import{I as Rs,M as pc}from"./MultiSelect-a009f75d.js";import{R as yc}from"./RadioButtons-900e0ac3.js";import{g as gc,a as Re}from"./_commonjsHelpers-de833af9.js";import{P as mc,u as bc,M as wc,Q as xc}from"./MapComponent-474b3c4f.js";import{A as Ps,c as _c,u as vc,g as Ec,f as Sc}from"./index-c8e80f7e.js";/* empty css                    */import{k as ca}from"./preact.module-4f38c496.js";import{Q as Ac}from"./queryClient-1997ea86.js";import"./compat.module-b1a3416f.js";const Cc=({value:t,onChange:e})=>E("div",{className:"flex items-center",children:E("label",{className:"font-semibold flex",children:E("input",{type:"checkbox",class:"checkbox mr-2",checked:t,onClick:()=>e(!t)})})});function Je(t){this._maxSize=t,this.clear()}Je.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Je.prototype.get=function(t){return this._values[t]};Je.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var Tc=/[^.^\]^[]+|(?=\[\]|\.\.)/g,la=/^\d+$/,Oc=/^\d/,Rc=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Pc=/^\s*(['"]?)(.*?)(\1)\s*$/,is=512,ks=new Je(is),Bs=new Je(is),Fs=new Je(is),Xe={Cache:Je,split:vn,normalizePath:Rr,setter:function(t){var e=Rr(t);return Bs.get(t)||Bs.set(t,function(n,s){for(var i=0,o=e.length,a=n;i<o-1;){var c=e[i];if(c==="__proto__"||c==="constructor"||c==="prototype")return n;a=a[e[i++]]}a[e[i]]=s})},getter:function(t,e){var r=Rr(t);return Fs.get(t)||Fs.set(t,function(s){for(var i=0,o=r.length;i<o;)if(s!=null||!e)s=s[r[i++]];else return;return s})},join:function(t){return t.reduce(function(e,r){return e+(os(r)||la.test(r)?"["+r+"]":(e?".":"")+r)},"")},forEach:function(t,e,r){kc(Array.isArray(t)?t:vn(t),e,r)}};function Rr(t){return ks.get(t)||ks.set(t,vn(t).map(function(e){return e.replace(Pc,"$2")}))}function vn(t){return t.match(Tc)||[""]}function kc(t,e,r){var n=t.length,s,i,o,a;for(i=0;i<n;i++)s=t[i],s&&($c(s)&&(s='"'+s+'"'),a=os(s),o=!a&&/^\d+$/.test(s),e.call(r,s,a,o,i,t))}function os(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Bc(t){return t.match(Oc)&&!t.match(la)}function Fc(t){return Rc.test(t)}function $c(t){return!os(t)&&(Bc(t)||Fc(t))}const Nc=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,xr=t=>t.match(Nc)||[],_r=t=>t[0].toUpperCase()+t.slice(1),as=(t,e)=>xr(t).join(e).toLowerCase(),fa=t=>xr(t).reduce((e,r)=>`${e}${e?r[0].toUpperCase()+r.slice(1).toLowerCase():r.toLowerCase()}`,""),Dc=t=>_r(fa(t)),Mc=t=>as(t,"_"),Ic=t=>as(t,"-"),Uc=t=>_r(as(t," ")),jc=t=>xr(t).map(_r).join(" ");var Pr={words:xr,upperFirst:_r,camelCase:fa,pascalCase:Dc,snakeCase:Mc,kebabCase:Ic,sentenceCase:Uc,titleCase:jc},us={exports:{}};us.exports=function(t){return da(Lc(t),t)};us.exports.array=da;function da(t,e){var r=t.length,n=new Array(r),s={},i=r,o=qc(e),a=Hc(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||c(t[i],i,new Set);return n;function c(u,l,d){if(d.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!s[l]){s[l]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),l=p.length){d.add(u);do{var g=p[--l];c(g,a.get(g),d)}while(l);d.delete(u)}n[--r]=u}}}function Lc(t){for(var e=new Set,r=0,n=t.length;r<n;r++){var s=t[r];e.add(s[0]),e.add(s[1])}return Array.from(e)}function qc(t){for(var e=new Map,r=0,n=t.length;r<n;r++){var s=t[r];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function Hc(t){for(var e=new Map,r=0,n=t.length;r<n;r++)e.set(t[r],r);return e}var zc=us.exports;const Vc=gc(zc),Gc=Object.prototype.toString,Wc=Error.prototype.toString,Kc=RegExp.prototype.toString,Zc=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Xc=/^Symbol\((.*)\)(.*)$/;function Yc(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $s(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const r=typeof t;if(r==="number")return Yc(t);if(r==="string")return e?`"${t}"`:t;if(r==="function")return"[Function "+(t.name||"anonymous")+"]";if(r==="symbol")return Zc.call(t).replace(Xc,"Symbol($1)");const n=Gc.call(t).slice(8,-1);return n==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):n==="Error"||t instanceof Error?"["+Wc.call(t)+"]":n==="RegExp"?Kc.call(t):null}function Ye(t,e){let r=$s(t,e);return r!==null?r:JSON.stringify(t,function(n,s){let i=$s(this[n],e);return i!==null?i:s},2)}function ha(t){return t==null?[]:[].concat(t)}let Qc=/\$\{\s*(\w+)\s*\}/g;class fe extends Error{static formatError(e,r){const n=r.label||r.path||"this";return n!==r.path&&(r=Object.assign({},r,{path:n})),typeof e=="string"?e.replace(Qc,(s,i)=>Ye(r[i])):typeof e=="function"?e(r):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,r,n,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=r,this.path=n,this.type=s,this.errors=[],this.inner=[],ha(e).forEach(i=>{fe.isError(i)?(this.errors.push(...i.errors),this.inner=this.inner.concat(i.inner.length?i.inner:i)):this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,fe)}}let Te={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:r,originalValue:n})=>{const s=n!=null&&n!==r?` (cast from the value \`${Ye(n,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Ye(r,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Ye(r,!0)}\``+s}},be={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Me={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},En={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Sn={isValue:"${path} field must be ${value}"},An={noUnknown:"${path} field has unspecified keys: ${unknown}"},ur={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Te,string:be,number:Me,date:En,object:An,array:ur,boolean:Sn});const vr=t=>t&&t.__isYupSchema__;class lr{static fromOptions(e,r){if(!r.then&&!r.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:s,otherwise:i}=r,o=typeof n=="function"?n:(...a)=>a.every(c=>c===n);return new lr(e,(a,c)=>{var u;let l=o(...a)?s:i;return(u=l==null?void 0:l(c))!=null?u:c})}constructor(e,r){this.fn=void 0,this.refs=e,this.refs=e,this.fn=r}resolve(e,r){let n=this.refs.map(i=>i.getValue(r==null?void 0:r.value,r==null?void 0:r.parent,r==null?void 0:r.context)),s=this.fn(n,e,r);if(s===void 0||s===e)return e;if(!vr(s))throw new TypeError("conditions must return a schema object");return s.resolve(r)}}const Qt={context:"$",value:"."};class et{constructor(e,r={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Qt.context,this.isValue=this.key[0]===Qt.value,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Qt.context:this.isValue?Qt.value:"";this.path=this.key.slice(n.length),this.getter=this.path&&Xe.getter(this.path,!0),this.map=r.map}getValue(e,r,n){let s=this.isContext?n:this.isValue?e:r;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,r){return this.getValue(e,r==null?void 0:r.parent,r==null?void 0:r.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}et.prototype.__isYupRef=!0;const xe=t=>t==null;function nt(t){function e({value:r,path:n="",options:s,originalValue:i,schema:o},a,c){const{name:u,test:l,params:d,message:f,skipAbsent:p}=t;let{parent:g,context:m,abortEarly:S=o.spec.abortEarly}=s;function H(z){return et.isRef(z)?z.getValue(r,g,m):z}function U(z={}){const rt=Object.assign({value:r,originalValue:i,label:o.spec.label,path:z.path||n,spec:o.spec},d,z.params);for(const Os of Object.keys(rt))rt[Os]=H(rt[Os]);const Ts=new fe(fe.formatError(z.message||f,rt),r,rt.path,z.type||u);return Ts.params=rt,Ts}const ge=S?a:c;let Ve={path:n,parent:g,type:u,from:s.from,createError:U,resolve:H,options:s,originalValue:i,schema:o};const Zt=z=>{fe.isError(z)?ge(z):z?c(null):ge(U())},Xt=z=>{fe.isError(z)?ge(z):a(z)},Ce=p&&xe(r);if(!s.sync){try{Promise.resolve(Ce?!0:l.call(Ve,r,Ve)).then(Zt,Xt)}catch(z){Xt(z)}return}let Ee;try{var Yt;if(Ee=Ce?!0:l.call(Ve,r,Ve),typeof((Yt=Ee)==null?void 0:Yt.then)=="function")throw new Error(`Validation test of type: "${Ve.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(z){Xt(z);return}Zt(Ee)}return e.OPTIONS=t,e}function Jc(t,e,r,n=r){let s,i,o;return e?(Xe.forEach(e,(a,c,u)=>{let l=c?a.slice(1,a.length-1):a;t=t.resolve({context:n,parent:s,value:r});let d=t.type==="tuple",f=u?parseInt(l,10):0;if(t.innerType||d){if(d&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(r&&f>=r.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);s=r,r=r&&r[f],t=d?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[l])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);s=r,r=r&&r[l],t=t.fields[l]}i=l,o=c?"["+a+"]":"."+a}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class fr extends Set{describe(){const e=[];for(const r of this.values())e.push(et.isRef(r)?r.describe():r);return e}resolveAll(e){let r=[];for(const n of this.values())r.push(e(n));return r}clone(){return new fr(this.values())}merge(e,r){const n=this.clone();return e.forEach(s=>n.add(s)),r.forEach(s=>n.delete(s)),n}}function it(t,e=new Map){if(vr(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let r;if(t instanceof Date)r=new Date(t.getTime()),e.set(t,r);else if(t instanceof RegExp)r=new RegExp(t),e.set(t,r);else if(Array.isArray(t)){r=new Array(t.length),e.set(t,r);for(let n=0;n<t.length;n++)r[n]=it(t[n],e)}else if(t instanceof Map){r=new Map,e.set(t,r);for(const[n,s]of t.entries())r.set(n,it(s,e))}else if(t instanceof Set){r=new Set,e.set(t,r);for(const n of t)r.add(it(n,e))}else if(t instanceof Object){r={},e.set(t,r);for(const[n,s]of Object.entries(t))r[n]=it(s,e)}else throw Error(`Unable to clone ${t}`);return r}class he{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new fr,this._blacklist=new fr,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Te.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(r=>{r.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const r=Object.create(Object.getPrototypeOf(this));return r.type=this.type,r._typeCheck=this._typeCheck,r._whitelist=this._whitelist.clone(),r._blacklist=this._blacklist.clone(),r.internalTests=Object.assign({},this.internalTests),r.exclusiveTests=Object.assign({},this.exclusiveTests),r.deps=[...this.deps],r.conditions=[...this.conditions],r.tests=[...this.tests],r.transforms=[...this.transforms],r.spec=it(Object.assign({},this.spec,e)),r}label(e){let r=this.clone();return r.spec.label=e,r}meta(...e){if(e.length===0)return this.spec.meta;let r=this.clone();return r.spec.meta=Object.assign(r.spec.meta||{},e[0]),r}withMutation(e){let r=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=r,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let r=this,n=e.clone();const s=Object.assign({},r.spec,n.spec);return n.spec=s,n.internalTests=Object.assign({},r.internalTests,n.internalTests),n._whitelist=r._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=r._blacklist.merge(e._blacklist,e._whitelist),n.tests=r.tests,n.exclusiveTests=r.exclusiveTests,n.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),n.transforms=[...r.transforms,...n.transforms],n}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let r=this;if(r.conditions.length){let n=r.conditions;r=r.clone(),r.conditions=[],r=n.reduce((s,i)=>i.resolve(s,e),r),r=r.resolve(e)}return r}resolveOptions(e){var r,n,s;return Object.assign({},e,{from:e.from||[],strict:(r=e.strict)!=null?r:this.spec.strict,abortEarly:(n=e.abortEarly)!=null?n:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive})}cast(e,r={}){let n=this.resolve(Object.assign({value:e},r)),s=r.assert==="ignore-optionality",i=n._cast(e,r);if(r.assert!==!1&&!n.isType(i)){if(s&&xe(i))return i;let o=Ye(e),a=Ye(i);throw new TypeError(`The value of ${r.path||"field"} could not be cast to a value that satisfies the schema type: "${n.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return i}_cast(e,r){let n=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return n===void 0&&(n=this.getDefault(r)),n}_validate(e,r={},n,s){let{path:i,originalValue:o=e,strict:a=this.spec.strict}=r,c=e;a||(c=this._cast(c,Object.assign({assert:!1},r)));let u=[];for(let l of Object.values(this.internalTests))l&&u.push(l);this.runTests({path:i,value:c,originalValue:o,options:r,tests:u},n,l=>{if(l.length)return s(l,c);this.runTests({path:i,value:c,originalValue:o,options:r,tests:this.tests},n,s)})}runTests(e,r,n){let s=!1,{tests:i,value:o,originalValue:a,path:c,options:u}=e,l=m=>{s||(s=!0,r(m,o))},d=m=>{s||(s=!0,n(m,o))},f=i.length,p=[];if(!f)return d([]);let g={value:o,originalValue:a,path:c,options:u,schema:this};for(let m=0;m<i.length;m++){const S=i[m];S(g,l,function(U){U&&(p=p.concat(U)),--f<=0&&d(p)})}}asNestedTest({key:e,index:r,parent:n,parentPath:s,originalParent:i,options:o}){const a=e??r;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const c=typeof a=="number";let u=n[a];const l=Object.assign({},o,{strict:!0,parent:n,value:u,originalValue:i[a],key:void 0,[c?"index":"key"]:a,path:c||a.includes(".")?`${s||""}[${u?a:`"${a}"`}]`:(s?`${s}.`:"")+e});return(d,f,p)=>this.resolve(l)._validate(u,l,f,p)}validate(e,r){let n=this.resolve(Object.assign({},r,{value:e}));return new Promise((s,i)=>n._validate(e,r,(o,a)=>{fe.isError(o)&&(o.value=a),i(o)},(o,a)=>{o.length?i(new fe(o,a)):s(a)}))}validateSync(e,r){let n=this.resolve(Object.assign({},r,{value:e})),s;return n._validate(e,Object.assign({},r,{sync:!0}),(i,o)=>{throw fe.isError(i)&&(i.value=o),i},(i,o)=>{if(i.length)throw new fe(i,e);s=o}),s}isValid(e,r){return this.validate(e,r).then(()=>!0,n=>{if(fe.isError(n))return!1;throw n})}isValidSync(e,r){try{return this.validateSync(e,r),!0}catch(n){if(fe.isError(n))return!1;throw n}}_getDefault(e){let r=this.spec.default;return r==null?r:typeof r=="function"?r.call(this,e):it(r)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,r){const n=this.clone({nullable:e});return n.internalTests.nullable=nt({message:r,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),n}optionality(e,r){const n=this.clone({optional:e});return n.internalTests.optionality=nt({message:r,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),n}optional(){return this.optionality(!0)}defined(e=Te.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Te.notNull){return this.nullability(!1,e)}required(e=Te.required){return this.clone().withMutation(r=>r.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let r=this.clone();return r.transforms.push(e),r}test(...e){let r;if(e.length===1?typeof e[0]=="function"?r={test:e[0]}:r=e[0]:e.length===2?r={name:e[0],test:e[1]}:r={name:e[0],message:e[1],test:e[2]},r.message===void 0&&(r.message=Te.default),typeof r.test!="function")throw new TypeError("`test` is a required parameters");let n=this.clone(),s=nt(r),i=r.exclusive||r.name&&n.exclusiveTests[r.name]===!0;if(r.exclusive&&!r.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return r.name&&(n.exclusiveTests[r.name]=!!r.exclusive),n.tests=n.tests.filter(o=>!(o.OPTIONS.name===r.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),n.tests.push(s),n}when(e,r){!Array.isArray(e)&&typeof e!="string"&&(r=e,e=".");let n=this.clone(),s=ha(e).map(i=>new et(i));return s.forEach(i=>{i.isSibling&&n.deps.push(i.key)}),n.conditions.push(typeof r=="function"?new lr(s,r):lr.fromOptions(s,r)),n}typeError(e){let r=this.clone();return r.internalTests.typeError=nt({message:e,name:"typeError",skipAbsent:!0,test(n){return this.schema._typeCheck(n)?!0:this.createError({params:{type:this.schema.type}})}}),r}oneOf(e,r=Te.oneOf){let n=this.clone();return e.forEach(s=>{n._whitelist.add(s),n._blacklist.delete(s)}),n.internalTests.whiteList=nt({message:r,name:"oneOf",skipAbsent:!0,test(s){let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:Array.from(i).join(", "),resolved:o}})}}),n}notOneOf(e,r=Te.notOneOf){let n=this.clone();return e.forEach(s=>{n._blacklist.add(s),n._whitelist.delete(s)}),n.internalTests.blacklist=nt({message:r,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:Array.from(i).join(", "),resolved:o}}):!0}}),n}strip(e=!0){let r=this.clone();return r.spec.strip=e,r}describe(e){const r=(e?this.resolve(e):this).clone(),{label:n,meta:s,optional:i,nullable:o}=r.spec;return{meta:s,label:n,optional:i,nullable:o,default:r.getDefault(e),type:r.type,oneOf:r._whitelist.describe(),notOneOf:r._blacklist.describe(),tests:r.tests.map(c=>({name:c.OPTIONS.name,params:c.OPTIONS.params})).filter((c,u,l)=>l.findIndex(d=>d.name===c.name)===u)}}}he.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])he.prototype[`${t}At`]=function(e,r,n={}){const{parent:s,parentPath:i,schema:o}=Jc(this,e,r,n.context);return o[t](s&&s[i],Object.assign({},n,{parent:s,path:e}))};for(const t of["equals","is"])he.prototype[t]=he.prototype.oneOf;for(const t of["not","nope"])he.prototype[t]=he.prototype.notOneOf;function pa(){return new ya}class ya extends he{constructor(){super({type:"boolean",check(e){return e instanceof Boolean&&(e=e.valueOf()),typeof e=="boolean"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(e=Sn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test(r){return xe(r)||r===!0}})}isFalse(e=Sn.isValue){return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test(r){return xe(r)||r===!1}})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}pa.prototype=ya.prototype;let el=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nl=t=>xe(t)||t===t.trim(),sl={}.toString();function ga(){return new ma}class ma extends he{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce||n.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===sl?e:s})})}required(e){return super.required(e).withMutation(r=>r.test({message:e||Te.required,name:"required",skipAbsent:!0,test:n=>!!n.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(r=>r.OPTIONS.name!=="required"),e))}length(e,r=be.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r=be.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r=be.max){return this.test({name:"max",exclusive:!0,message:r,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}matches(e,r){let n=!1,s,i;return r&&(typeof r=="object"?{excludeEmptyString:n=!1,message:s,name:i}=r:s=r),this.test({name:i||"matches",message:s||be.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&n||o.search(e)!==-1})}email(e=be.email){return this.matches(el,{name:"email",message:e,excludeEmptyString:!0})}url(e=be.url){return this.matches(tl,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=be.uuid){return this.matches(rl,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=be.trim){return this.transform(r=>r!=null?r.trim():r).test({message:e,name:"trim",test:nl})}lowercase(e=be.lowercase){return this.transform(r=>xe(r)?r:r.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>xe(r)||r===r.toLowerCase()})}uppercase(e=be.uppercase){return this.transform(r=>xe(r)?r:r.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:r=>xe(r)||r===r.toUpperCase()})}}ga.prototype=ma.prototype;let il=t=>t!=+t;function ba(){return new wa}class wa extends he{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!il(e)}}),this.withMutation(()=>{this.transform((e,r,n)=>{if(!n.spec.coerce)return e;let s=e;if(typeof s=="string"){if(s=s.replace(/\s/g,""),s==="")return NaN;s=+s}return n.isType(s)||s===null?s:parseFloat(s)})})}min(e,r=Me.min){return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n>=this.resolve(e)}})}max(e,r=Me.max){return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n<=this.resolve(e)}})}lessThan(e,r=Me.lessThan){return this.test({message:r,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(n){return n<this.resolve(e)}})}moreThan(e,r=Me.moreThan){return this.test({message:r,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(n){return n>this.resolve(e)}})}positive(e=Me.positive){return this.moreThan(0,e)}negative(e=Me.negative){return this.lessThan(0,e)}integer(e=Me.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:r=>Number.isInteger(r)})}truncate(){return this.transform(e=>xe(e)?e:e|0)}round(e){var r;let n=["ceil","floor","round","trunc"];if(e=((r=e)==null?void 0:r.toLowerCase())||"round",e==="trunc")return this.truncate();if(n.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(s=>xe(s)?s:Math[e](s))}}ba.prototype=wa.prototype;var ol=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function al(t){var e=[1,4,5,6,7,10,11],r=0,n,s;if(s=ol.exec(t)){for(var i=0,o;o=e[i];++i)s[o]=+s[o]||0;s[2]=(+s[2]||1)-1,s[3]=+s[3]||1,s[7]=s[7]?String(s[7]).substr(0,3):0,(s[8]===void 0||s[8]==="")&&(s[9]===void 0||s[9]==="")?n=+new Date(s[1],s[2],s[3],s[4],s[5],s[6],s[7]):(s[8]!=="Z"&&s[9]!==void 0&&(r=s[10]*60+s[11],s[9]==="+"&&(r=0-r)),n=Date.UTC(s[1],s[2],s[3],s[4],s[5]+r,s[6],s[7]))}else n=Date.parse?Date.parse(t):NaN;return n}let ul=new Date(""),cl=t=>Object.prototype.toString.call(t)==="[object Date]";class Er extends he{constructor(){super({type:"date",check(e){return cl(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,r,n)=>!n.spec.coerce||n.isType(e)||e===null?e:(e=al(e),isNaN(e)?Er.INVALID_DATE:new Date(e)))})}prepareParam(e,r){let n;if(et.isRef(e))n=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${r}\` must be a Date or a value that can be \`cast()\` to a Date`);n=s}return n}min(e,r=En.min){let n=this.prepareParam(e,"min");return this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(n)}})}max(e,r=En.max){let n=this.prepareParam(e,"max");return this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(n)}})}}Er.INVALID_DATE=ul;Er.prototype;function ll(t,e=[]){let r=[],n=new Set,s=new Set(e.map(([o,a])=>`${o}-${a}`));function i(o,a){let c=Xe.split(o)[0];n.add(c),s.has(`${a}-${c}`)||r.push([a,c])}for(const o of Object.keys(t)){let a=t[o];n.add(o),et.isRef(a)&&a.isSibling?i(a.path,o):vr(a)&&"deps"in a&&a.deps.forEach(c=>i(c,o))}return Vc.array(Array.from(n),r).reverse()}function Ns(t,e){let r=1/0;return t.some((n,s)=>{var i;if((i=e.path)!=null&&i.includes(n))return r=s,!0}),r}function xa(t){return(e,r)=>Ns(t,e)-Ns(t,r)}const _a=(t,e,r)=>{if(typeof t!="string")return t;let n=t;try{n=JSON.parse(t)}catch{}return r.isType(n)?n:t};function cr(t){if("fields"in t){const e={};for(const[r,n]of Object.entries(t.fields))e[r]=cr(n);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=cr(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(cr)}):"optional"in t?t.optional():t}const fl=(t,e)=>{const r=[...Xe.normalizePath(e)];if(r.length===1)return r[0]in t;let n=r.pop(),s=Xe.getter(Xe.join(r),!0)(t);return!!(s&&n in s)};let Ds=t=>Object.prototype.toString.call(t)==="[object Object]";function dl(t,e){let r=Object.keys(t.fields);return Object.keys(e).filter(n=>r.indexOf(n)===-1)}const hl=xa([]);function Cn(t){return new va(t)}class va extends he{constructor(e){super({type:"object",check(r){return Ds(r)||typeof r=="function"}}),this.fields=Object.create(null),this._sortErrors=hl,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,r={}){var n;let s=super._cast(e,r);if(s===void 0)return this.getDefault(r);if(!this._typeCheck(s))return s;let i=this.fields,o=(n=r.stripUnknown)!=null?n:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),c={},u=Object.assign({},r,{parent:c,__validating:r.__validating||!1}),l=!1;for(const d of a){let f=i[d],p=d in s;if(f){let g,m=s[d];u.path=(r.path?`${r.path}.`:"")+d,f=f.resolve({value:m,context:r.context,parent:c});let S=f instanceof he?f.spec:void 0,H=S==null?void 0:S.strict;if(S!=null&&S.strip){l=l||d in s;continue}g=!r.__validating||!H?f.cast(s[d],u):s[d],g!==void 0&&(c[d]=g)}else p&&!o&&(c[d]=s[d]);(p!==d in c||c[d]!==s[d])&&(l=!0)}return l?c:s}_validate(e,r={},n,s){let{from:i=[],originalValue:o=e,recursive:a=this.spec.recursive}=r;r.from=[{schema:this,value:o},...i],r.__validating=!0,r.originalValue=o,super._validate(e,r,n,(c,u)=>{if(!a||!Ds(u)){s(c,u);return}o=o||u;let l=[];for(let d of this._nodes){let f=this.fields[d];!f||et.isRef(f)||l.push(f.asNestedTest({options:r,key:d,parent:u,parentPath:r.path,originalParent:o}))}this.runTests({tests:l,value:u,originalValue:o,options:r},n,d=>{s(d.sort(this._sortErrors).concat(c),u)})})}clone(e){const r=super.clone(e);return r.fields=Object.assign({},this.fields),r._nodes=this._nodes,r._excludedEdges=this._excludedEdges,r._sortErrors=this._sortErrors,r}concat(e){let r=super.concat(e),n=r.fields;for(let[s,i]of Object.entries(this.fields)){const o=n[s];n[s]=o===void 0?i:o}return r.withMutation(s=>s.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let r={};return this._nodes.forEach(n=>{var s;const i=this.fields[n];let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[n]})),r[n]=i&&"getDefault"in i?i.getDefault(o):void 0}),r}setFields(e,r){let n=this.clone();return n.fields=e,n._nodes=ll(e,r),n._sortErrors=xa(Object.keys(e)),r&&(n._excludedEdges=r),n}shape(e,r=[]){return this.clone().withMutation(n=>{let s=n._excludedEdges;return r.length&&(Array.isArray(r[0])||(r=[r]),s=[...n._excludedEdges,...r]),n.setFields(Object.assign(n.fields,e),s)})}partial(){const e={};for(const[r,n]of Object.entries(this.fields))e[r]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return cr(this)}pick(e){const r={};for(const n of e)this.fields[n]&&(r[n]=this.fields[n]);return this.setFields(r)}omit(e){const r=Object.assign({},this.fields);for(const n of e)delete r[n];return this.setFields(r)}from(e,r,n){let s=Xe.getter(e,!0);return this.transform(i=>{if(!i)return i;let o=i;return fl(i,e)&&(o=Object.assign({},i),n||delete o[e],o[r]=s(i)),o})}json(){return this.transform(_a)}noUnknown(e=!0,r=An.noUnknown){typeof e!="boolean"&&(r=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:r,test(s){if(s==null)return!0;const i=dl(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,r=An.noUnknown){return this.noUnknown(!e,r)}transformKeys(e){return this.transform(r=>{if(!r)return r;const n={};for(const s of Object.keys(r))n[e(s)]=r[s];return n})}camelCase(){return this.transformKeys(Pr.camelCase)}snakeCase(){return this.transformKeys(Pr.snakeCase)}constantCase(){return this.transformKeys(e=>Pr.snakeCase(e).toUpperCase())}describe(e){let r=super.describe(e);r.fields={};for(const[s,i]of Object.entries(this.fields)){var n;let o=e;(n=o)!=null&&n.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[s]})),r.fields[s]=i.describe(o)}return r}}Cn.prototype=va.prototype;function Ea(t){return new Sa(t)}class Sa extends he{constructor(e){super({type:"array",spec:{types:e},check(r){return Array.isArray(r)}}),this.innerType=void 0,this.innerType=e}_cast(e,r){const n=super._cast(e,r);if(!this._typeCheck(n)||!this.innerType)return n;let s=!1;const i=n.map((o,a)=>{const c=this.innerType.cast(o,Object.assign({},r,{path:`${r.path||""}[${a}]`}));return c!==o&&(s=!0),c});return s?i:n}_validate(e,r={},n,s){var i;let o=this.innerType,a=(i=r.recursive)!=null?i:this.spec.recursive;r.originalValue!=null&&r.originalValue,super._validate(e,r,n,(c,u)=>{var l;if(!a||!o||!this._typeCheck(u)){s(c,u);return}let d=new Array(u.length);for(let p=0;p<u.length;p++){var f;d[p]=o.asNestedTest({options:r,index:p,parent:u,parentPath:r.path,originalParent:(f=r.originalValue)!=null?f:e})}this.runTests({value:u,tests:d,originalValue:(l=r.originalValue)!=null?l:e,options:r},n,p=>s(p.concat(c),u))})}clone(e){const r=super.clone(e);return r.innerType=this.innerType,r}json(){return this.transform(_a)}concat(e){let r=super.concat(e);return r.innerType=this.innerType,e.innerType&&(r.innerType=r.innerType?r.innerType.concat(e.innerType):e.innerType),r}of(e){let r=this.clone();if(!vr(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ye(e));return r.innerType=e,r.spec=Object.assign({},r.spec,{types:e}),r}length(e,r=ur.length){return this.test({message:r,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(n){return n.length===this.resolve(e)}})}min(e,r){return r=r||ur.min,this.test({message:r,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(n){return n.length>=this.resolve(e)}})}max(e,r){return r=r||ur.max,this.test({message:r,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(n){return n.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,r)=>this._typeCheck(e)?e:r==null?[]:[].concat(r))}compact(e){let r=e?(n,s,i)=>!e(n,s,i):n=>!!n;return this.transform(n=>n!=null?n.filter(r):n)}describe(e){let r=super.describe(e);if(this.innerType){var n;let s=e;(n=s)!=null&&n.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[0]})),r.innerType=this.innerType.describe(s)}return r}}Ea.prototype=Sa.prototype;const pl=t=>{var e;return t.type==="boolean"?[{label:"Yes",value:!0},{label:"No",value:!1}]:t.type==="string"&&((e=t==null?void 0:t.enum)!=null&&e.length)?t.enum.map(r=>({label:r,value:r})):[]},yl=(t,e)=>(t==null?void 0:t.type)==="array",Ms="This field is required.",Aa=t=>{switch(t==null?void 0:t.type){case"number":return ba();case"boolean":return pa();case"array":return Ea().of(Aa(t.items));case"string":default:return ga()}},gl=(t,e)=>{var s,i;let r;const n=(s=e.properties)==null?void 0:s[t];return n?(r=Aa(n),r&&((i=e.required)!=null&&i.includes(t))&&(yl(n)&&(r=r.min(1,Ms)),r=r.required(Ms)),Cn({[t]:r})):Cn({})};const ml=({className:t})=>E("div",{className:t,children:E("span",{class:"loading-spinner"})}),Ca="green-belt",Ta="ancient-woodland",Is=[Ca,Ta],bl={[Ca]:"Green belt",[Ta]:"Ancient woodland"},wl=t=>t.map(e=>E("li",{children:bl[e]})),xl=({value:t,onChange:e})=>{const r=We(()=>t?new mc(t):void 0,[t]),{data:n,isLoading:s}=bc(r),i=We(()=>n==null?void 0:n.features.reduce((a,c)=>{var l;const u=(l=c.properties)==null?void 0:l.dataset;return!a.includes(u)&&Is.includes(u)?[...a,u]:a},[]),[n]),o=t&&!s&&!!(i!=null&&i.length);return E("div",{className:"flex flex-col mb-4",children:[E("div",{className:"my-4",children:"Draw the boundaries of your suggested site using the polygon icon on the right of the map. You can edit the boundaries with the pencil icon."}),E(wc,{className:"my-4",style:{height:"470px",width:"100%"},datasetFilterList:Is,value:t,onChange:e}),E(Ps,{text:"Help drawing a site boundary",children:[E("p",{className:"mb-2",children:"To draw the boundaries of your suggested site:"}),E("ul",{className:"list-disc pl-8",children:[E("li",{children:"Type in a road name or postcode into the search bar at the top of the map"}),E("li",{children:"Once you've found the area your site is in, use the polygon icon on the right of the map to start drawing a boundary"}),E("li",{children:"Select the edges of the site until the whole site is within the blue shape"}),E("li",{children:"Double-click to finish the shape"})]})]}),E(Ps,{text:"Change or delete a site boundary",children:[E("p",{className:"mb-2",children:"If you want to make any changes to the site boundary once you've finished, select the pencil icon on the right of the map to do so."}),E("p",{className:"mb-2",children:"If you're not happy with the boundary you've drawn, select the delete icon on the right of the map and start again."}),E("p",{className:"mb-2",children:"If you want to change the map view - such as switching to aerial pictures - select the gallary icon on the right of the map."})]}),E("h2",{className:"my-4 text-3xl font-bold",children:"After you've drawn your boundary"}),E("p",{className:"my-2",children:"It's helpful for us if you draw a boundary that's as accurate as possible - but there's no need to do it over and over to get it exactly right."}),E("p",{className:"my-2",children:"We'll ask for your contact details later in the form, and we'll get in touch if we have any questions about where the boundary line is intended to be."}),s&&E(ml,{className:"my-4"}),o&&E(ca,{children:[E("h2",{className:"my-4 text-3xl font-bold",children:"Your site has flagged some risks"}),E("p",{className:"my-2",children:"Planning data shows that some or all of your site is located in a restricted area."}),E("p",{className:"my-2",children:"You can:"}),E("ul",{className:"list-disc pl-8",children:[E("li",{children:"Tell us how to mitigate the risks on the next screens"}),E("li",{children:"Change the site boundary on the map"})]}),E("p",{className:"my-2",children:"Identified risks:"}),E("ul",{className:"list-disc pl-8",children:wl(i)})]})]})},_l={string:0,number:1,array:3,boolean:4,object:6},vl={radio:2,map:5},El=(t,e)=>e?vl[e]:_l[t],Sl=({id:t,formPageSchema:e,uiSchema:r,value:n,onFormValueChange:s})=>{let i=null;const o=a=>{s(t,a)};switch(El(e.type,r==null?void 0:r["ui:widget"])){case 3:i=E(pc,{options:e.enum,values:n,onChange:o});break;case 0:i=E(Rs,{type:e.type,value:n??"",onChange:o});break;case 1:i=E(Rs,{type:e.type,value:n,step:e.step,min:e.min,max:e.max,onChange:o});break;case 2:i=E(yc,{options:pl(e),value:n,onChange:o});break;case 4:i=E(Cc,{value:n,onChange:o});break;case 5:i=E(xl,{value:n,onChange:o});break}return E("form",{children:i})},Al=({children:t,title:e,subtitle:r,onBackClicked:n,onContinueClicked:s})=>E("div",{children:[E("div",{className:"form-page-header mb-4",children:[E("h1",{className:"my-2 text-4xl font-bold",children:e}),r&&E("p",{children:r})]}),E("div",{className:"form-page-body my-4",children:t}),E("div",{className:"form-page-footer mt-10 flex space-x-6",children:[E("button",{className:"bg-gray-200 hover:bg-gray-300 text-black py-1 px-2",onClick:n,children:"Back"}),E("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",onClick:s,children:"Save and Continue"})]})]}),Us=_c(),Cl=[Us.accessor("question",{cell:t=>E("span",{className:"font-bold",children:t.getValue()})}),Us.accessor("answer",{cell:t=>{const e=t.getValue();return Array.isArray(e)&&e.length>0?e.join(", "):e}})],Tl=(t,e)=>Object.keys(t).map(r=>({question:t[r].title,answer:e[r]})),Ol=({formSchema:t,formData:e,onBackClicked:r,onSubmitClicked:n})=>{const s=We(()=>t.properties?Tl(t.properties,e):[],[t,e]),i=vc({data:s,columns:Cl,getCoreRowModel:Ec()});return E("div",{children:[E("div",{className:"form-page-header mb-4",children:E("h1",{className:"my-2 text-4xl font-bold",children:"Check your answers"})}),E("table",{className:"w-full text-sm text-left px-4",children:E("tbody",{children:i.getRowModel().rows.map(o=>E(ca,{children:[E("tr",{className:"bg-white",children:o.getVisibleCells().map(a=>E("td",{className:"pt-3",children:Sc(a.column.columnDef.cell,a.getContext())},a.id))},o.id),E("tr",{className:"border-b"})]}))})}),E("div",{className:"form-page-footer mt-10 flex space-x-6",children:[E("button",{className:"bg-gray-200 hover:bg-gray-300 text-black py-1 px-2",onClick:r,children:"Back"}),E("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",onClick:n,children:"Submit"})]})]})};var js;(function(t){t.HEADER="header",t.QUERY="query"})(js||(js={}));var Ut;(function(t){t.HTTP="http",t.HTTPS="https"})(Ut||(Ut={}));var dr;(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(dr||(dr={}));var Ls;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Ls||(Ls={}));var qs;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(qs||(qs={}));let Pe=class Oa{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new Oa({...this,headers:{...this.headers}});return e.query&&(e.query=Rl(e.query)),e}};function Rl(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}let Pl=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function kl(t){return e=>async r=>{const{request:n}=r;return Pe.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}const Bl={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},Fl=t=>({applyToStack:e=>{e.add(kl(t),Bl)}});const $l=t=>e=>async r=>{if(!Pe.isInstance(r.request))return e(r);const{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let i=n.hostname;n.port!=null&&(i+=`:${n.port}`),n.headers.host=i}return e(r)},Nl={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Dl=t=>({applyToStack:e=>{e.add($l(t),Nl)}}),Ml=()=>(t,e)=>async r=>{var n,s;try{const i=await t(r),{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=u,f=l??e.inputFilterSensitiveLog,p=d??e.outputFilterSensitiveLog,{$metadata:g,...m}=i.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:o,commandName:a,input:f(r.input),output:p(m),metadata:g}),i}catch(i){const{clientName:o,commandName:a,logger:c,dynamoDbDocumentClientOptions:u={}}=e,{overrideInputFilterSensitiveLog:l}=u,d=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:o,commandName:a,input:d(r.input),error:i,metadata:i.$metadata}),i}},Il={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ul=t=>({applyToStack:e=>{e.add(Ml(),Il)}}),Hs="X-Amzn-Trace-Id",jl="AWS_LAMBDA_FUNCTION_NAME",Ll="_X_AMZN_TRACE_ID",ql=t=>e=>async r=>{const{request:n}=r;if(!Pe.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(Hs))return e(r);const s=process.env[jl],i=process.env[Ll],o=a=>typeof a=="string"&&a.length>0;return o(s)&&o(i)&&(n.headers[Hs]=i),e({...r,request:n})},Hl={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},zl=t=>({applyToStack:e=>{e.add(ql(t),Hl)}}),Vl="content-length";function Gl(){return(t,e)=>async r=>{var s;const{request:n}=r;if(Pe.isInstance(n)&&!n.headers[Vl]){const i="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"?e.logger.warn(i):console.warn(i)}return t({...r})}}const Wl={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},Kl=t=>({applyToStack:e=>{e.add(Gl(),Wl)}}),Zl=t=>({...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1}),Xl=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function Yl(){return t=>async e=>{const{input:{Bucket:r}}=e;if(typeof r=="string"&&!Xl(r)&&r.indexOf("/")>=0){const n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return t({...e})}}const Ql={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Jl=t=>({applyToStack:e=>{e.add(Yl(),Ql)}}),Ra=(t,e,r)=>{let n,s,i,o=!1;const a=async()=>{s||(s=t());try{n=await s,i=!0,o=!1}finally{s=void 0}return n};return e===void 0?async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!i||c!=null&&c.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))};var kr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tn=function(t,e){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Tn(t,e)};function ef(t,e){Tn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var On=function(){return On=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},On.apply(this,arguments)};function tf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function rf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function nf(t,e){return function(r,n){e(r,n,t)}}function sf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function of(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function af(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function uf(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function cf(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Rn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pa(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function lf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pa(arguments[e]));return t}function ff(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function jt(t){return this instanceof jt?(this.v=t,this):new jt(t)}function df(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof jt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function hf(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:jt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function pf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Rn=="function"?Rn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function yf(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function gf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function mf(t){return t&&t.__esModule?t:{default:t}}function bf(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function wf(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const xf=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return On},__asyncDelegator:hf,__asyncGenerator:df,__asyncValues:pf,__await:jt,__awaiter:of,__classPrivateFieldGet:bf,__classPrivateFieldSet:wf,__createBinding:uf,__decorate:rf,__exportStar:cf,__extends:ef,__generator:af,__importDefault:mf,__importStar:gf,__makeTemplateObject:yf,__metadata:sf,__param:nf,__read:Pa,__rest:tf,__spread:lf,__spreadArrays:ff,__values:Rn},Symbol.toStringTag,{value:"Module"})),ka=Re(xf);var Br={},ht={};const _f=t=>{const e=[];for(let r=0,n=t.length;r<n;r++){const s=t.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(r+1<t.length&&(s&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){const i=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},vf=t=>{let e="";for(let r=0,n=t.length;r<n;r++){const s=t[r];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){const i=t[++r];e+=String.fromCharCode((s&31)<<6|i&63)}else if(240<=s&&s<365){const o="%"+[s,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(o)}else e+=String.fromCharCode((s&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};function Ef(t){return new TextEncoder().encode(t)}function Sf(t){return new TextDecoder("utf-8").decode(t)}const Af=t=>typeof TextEncoder=="function"?Ef(t):_f(t),Cf=t=>typeof TextDecoder=="function"?Sf(t):vf(t),Tf=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Af,toUtf8:Cf},Symbol.toStringTag,{value:"Module"})),Sr=Re(Tf);var zs;function Of(){if(zs)return ht;zs=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.convertToBuffer=void 0;var t=Sr,e=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:t.fromUtf8;function r(n){return n instanceof Uint8Array?n:typeof n=="string"?e(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}return ht.convertToBuffer=r,ht}var pt={},Vs;function Rf(){if(Vs)return pt;Vs=1,Object.defineProperty(pt,"__esModule",{value:!0}),pt.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return pt.isEmptyData=t,pt}var yt={},Gs;function Pf(){if(Gs)return yt;Gs=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.numToUint8=void 0;function t(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return yt.numToUint8=t,yt}var gt={},Ws;function kf(){if(Ws)return gt;Ws=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.uint32ArrayFrom=void 0;function t(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),n=0;n<e.length;)r[n]=e[n],n+=1;return r}return Uint32Array.from(e)}return gt.uint32ArrayFrom=t,gt}var Ks;function qe(){return Ks||(Ks=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var e=Of();Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var r=Rf();Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var n=Pf();Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return n.numToUint8}});var s=kf();Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})}(Br)),Br}var mt={},Zs;function Bf(){if(Zs)return mt;Zs=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.AwsCrc32=void 0;var t=ka,e=qe(),r=Ba(),n=function(){function s(){this.crc32=new r.Crc32}return s.prototype.update=function(i){(0,e.isEmptyData)(i)||this.crc32.update((0,e.convertToBuffer)(i))},s.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(i){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},s.prototype.reset=function(){this.crc32=new r.Crc32},s}();return mt.AwsCrc32=n,mt}var Xs;function Ba(){return Xs||(Xs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var e=ka,r=qe();function n(c){return new s().update(c).digest()}t.crc32=n;var s=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var l,d;try{for(var f=e.__values(u),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(m){l={error:m}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();t.Crc32=s;var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=(0,r.uint32ArrayFrom)(i),a=Bf();Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return a.AwsCrc32}})}(kr)),kr}var cs=Ba();const Fa={},Pn={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Fa[t]=e,Pn[e]=t}function Ff(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){const n=t.slice(r,r+2).toLowerCase();if(n in Pn)e[r/2]=Pn[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function de(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Fa[t[r]];return e}class Dt{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&Ys(r),new Dt(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Ys(e),parseInt(de(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Ys(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class $a{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const i of Object.keys(e)){const o=this.fromUtf8(i);r.push(Uint8Array.from([o.byteLength]),o,this.formatHeaderValue(e[i]))}const n=new Uint8Array(r.reduce((i,o)=>i+o.byteLength,0));let s=0;for(const i of r)n.set(i,s),s+=i.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":const s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":const i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);const o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":const a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);const u=new Uint8Array(c.buffer);return u.set(a,3),u;case"timestamp":const l=new Uint8Array(9);return l[0]=8,l.set(Dt.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!qf.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const d=new Uint8Array(17);return d[0]=9,d.set(Ff(e.value.replace(/\-/g,"")),1),d}}parse(e){const r={};let n=0;for(;n<e.byteLength;){const s=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[i]={type:Js,value:!0};break;case 1:r[i]={type:Js,value:!1};break;case 2:r[i]={type:$f,value:e.getInt8(n++)};break;case 3:r[i]={type:Nf,value:e.getInt16(n,!1)},n+=2;break;case 4:r[i]={type:Df,value:e.getInt32(n,!1)},n+=4;break;case 5:r[i]={type:Mf,value:new Dt(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:const o=e.getUint16(n,!1);n+=2,r[i]={type:If,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:const a=e.getUint16(n,!1);n+=2,r[i]={type:Uf,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[i]={type:jf,value:new Date(new Dt(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:const c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[i]={type:Lf,value:`${de(c.subarray(0,4))}-${de(c.subarray(4,6))}-${de(c.subarray(6,8))}-${de(c.subarray(8,10))}-${de(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Qs;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Qs||(Qs={}));const Js="boolean",$f="byte",Nf="short",Df="integer",Mf="long",If="binary",Uf="string",jf="timestamp",Lf="uuid",qf=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Na=4,Ie=Na*2,Ge=4,Hf=Ie+Ge*2;function zf({byteLength:t,byteOffset:e,buffer:r}){if(t<Hf)throw new Error("Provided message too short to accommodate event stream message overhead");const n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");const i=n.getUint32(Na,!1),o=n.getUint32(Ie,!1),a=n.getUint32(t-Ge,!1),c=new cs.Crc32().update(new Uint8Array(r,e,Ie));if(o!==c.digest())throw new Error(`The prelude checksum specified in the message (${o}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+Ie,t-(Ie+Ge))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+Ie+Ge,i),body:new Uint8Array(r,e+Ie+Ge+i,s-i-(Ie+Ge+Ge))}}class Vf{constructor(e,r){this.headerMarshaller=new $a(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){const e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return r}}}getAvailableMessages(){const e=this.messageBuffer;this.messageBuffer=[];const r=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return r}}}encode({headers:e,body:r}){const n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,i=new Uint8Array(s),o=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new cs.Crc32;return o.setUint32(0,s,!1),o.setUint32(4,n.byteLength,!1),o.setUint32(8,a.update(i.subarray(0,8)).digest(),!1),i.set(n,12),i.set(r,n.byteLength+12),o.setUint32(s-4,a.update(i.subarray(8,s-4)).digest(),!1),i}decode(e){const{headers:r,body:n}=zf(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Gf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.decoder.decode(e)}}class Wf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Kf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.messageStream){const r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class Zf{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(const e of this.options.inputStream)yield this.options.serializer(e)}}const ve=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},Kt=t=>new TextEncoder().encode(t),ot=t=>typeof t=="string"?Kt(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),Ar=t=>new TextDecoder("utf-8").decode(t),Xf="X-Amz-Algorithm",Yf="X-Amz-Credential",Da="X-Amz-Date",Qf="X-Amz-SignedHeaders",Jf="X-Amz-Expires",Ma="X-Amz-Signature",Ia="X-Amz-Security-Token",Ua="authorization",ja=Da.toLowerCase(),ed="date",td=[Ua,ja,ed],rd=Ma.toLowerCase(),kn="x-amz-content-sha256",nd=Ia.toLowerCase(),sd={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},id=/^proxy-/,od=/^sec-/,Fr="AWS4-HMAC-SHA256",ad="AWS4-HMAC-SHA256-PAYLOAD",ud="UNSIGNED-PAYLOAD",cd=50,La="aws4_request",ld=60*60*24*7,Jt={},$r=[],Nr=(t,e,r)=>`${t}/${e}/${r}/${La}`,fd=async(t,e,r,n,s)=>{const i=await ei(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${s}:${de(i)}:${e.sessionToken}`;if(o in Jt)return Jt[o];for($r.push(o);$r.length>cd;)delete Jt[$r.shift()];let a=`AWS4${e.secretAccessKey}`;for(const c of[r,n,s,La])a=await ei(t,a,c);return Jt[o]=a},ei=(t,e,r)=>{const n=new t(e);return n.update(ot(r)),n.digest()},ti=({headers:t},e,r)=>{const n={};for(const s of Object.keys(t).sort()){if(t[s]==null)continue;const i=s.toLowerCase();(i in sd||e!=null&&e.has(i)||id.test(i)||od.test(i))&&(!r||r&&!r.has(i))||(n[i]=t[s].trim().replace(/\s+/g," "))}return n},Ke=t=>encodeURIComponent(t).replace(/[!'()*]/g,dd),dd=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,hd=({query:t={}})=>{const e=[],r={};for(const n of Object.keys(t).sort()){if(n.toLowerCase()===rd)continue;e.push(n);const s=t[n];typeof s=="string"?r[n]=`${Ke(n)}=${Ke(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).reduce((i,o)=>i.concat([`${Ke(n)}=${Ke(o)}`]),[]).sort().join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")},qa=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Dr=async({headers:t,body:e},r)=>{for(const n of Object.keys(t))if(n.toLowerCase()===kn)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||qa(e)){const n=new r;return n.update(ot(e)),de(await n.digest())}return ud},pd=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},Ha=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?yd(e):void 0}),yd=t=>Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{}),gd=(t,e={})=>{var s;const{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():Ha(t);for(const i of Object.keys(r)){const o=i.toLowerCase();o.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(o))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}},ri=t=>{t=typeof t.clone=="function"?t.clone():Ha(t);for(const e of Object.keys(t.headers))td.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},md=t=>bd(t).toISOString().replace(/\.\d{3}Z$/,"Z"),bd=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Bn{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:i,uriEscapePath:o=!0}){this.headerMarshaller=new $a(Ar,Kt),this.service=s,this.sha256=i,this.uriEscapePath=o,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=ve(n),this.credentialProvider=ve(r)}async presign(e,r={}){const{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:i,unhoistableHeaders:o,signableHeaders:a,signingRegion:c,signingService:u}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);const d=c??await this.regionProvider(),{longDate:f,shortDate:p}=er(n);if(s>ld)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const g=Nr(p,d,u??this.service),m=gd(ri(e),{unhoistableHeaders:o});l.sessionToken&&(m.query[Ia]=l.sessionToken),m.query[Xf]=Fr,m.query[Yf]=`${l.accessKeyId}/${g}`,m.query[Da]=f,m.query[Jf]=s.toString(10);const S=ti(m,i,a);return m.query[Qf]=ni(S),m.query[Ma]=await this.getSignature(f,g,this.getSigningKey(l,d,p,u),this.createCanonicalRequest(m,S,await Dr(e,this.sha256))),m}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:i,signingService:o}){const a=i??await this.regionProvider(),{shortDate:c,longDate:u}=er(n),l=Nr(c,a,o??this.service),d=await Dr({headers:{},body:r},this.sha256),f=new this.sha256;f.update(e);const p=de(await f.digest()),g=[ad,u,l,s,p,d].join(`
`);return this.signString(g,{signingDate:n,signingRegion:a,signingService:o})}async signMessage(e,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:e.priorSignature}).then(o=>({message:e.message,signature:o}))}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){const i=await this.credentialProvider();this.validateResolvedCredentials(i);const o=n??await this.regionProvider(),{shortDate:a}=er(r),c=new this.sha256(await this.getSigningKey(i,o,a,s));return c.update(ot(e)),de(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:i,signingService:o}={}){const a=await this.credentialProvider();this.validateResolvedCredentials(a);const c=i??await this.regionProvider(),u=ri(e),{longDate:l,shortDate:d}=er(r),f=Nr(d,c,o??this.service);u.headers[ja]=l,a.sessionToken&&(u.headers[nd]=a.sessionToken);const p=await Dr(u,this.sha256);!pd(kn,u.headers)&&this.applyChecksum&&(u.headers[kn]=p);const g=ti(u,s,n),m=await this.getSignature(l,f,this.getSigningKey(a,c,d,o),this.createCanonicalRequest(u,g,p));return u.headers[Ua]=`${Fr} Credential=${a.accessKeyId}/${f}, SignedHeaders=${ni(g)}, Signature=${m}`,u}createCanonicalRequest(e,r,n){const s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${hd(e)}
${s.map(i=>`${i}:${r[i]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){const s=new this.sha256;s.update(ot(n));const i=await s.digest();return`${Fr}
${e}
${r}
${de(i)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const i of e.split("/"))(i==null?void 0:i.length)!==0&&i!=="."&&(i===".."?r.pop():r.push(i));const n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){const i=await this.createStringToSign(e,r,s),o=new this.sha256(await n);return o.update(ot(i)),de(await o.digest())}getSigningKey(e,r,n,s){return fd(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const er=t=>{const e=md(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},ni=t=>Object.keys(t).sort().join(";"),wd=3e5,xd=t=>{const e=t.credentials?_d(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t;let i;return t.signer?i=ve(t.signer):t.regionInfoProvider?i=()=>ve(t.region)().then(async o=>[await t.regionInfoProvider(o,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},o]).then(([o,a])=>{const{signingRegion:c,signingService:u}=o;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||u||t.serviceId;const l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},d=t.signerConstructor||Bn;return new d(l)}):i=async o=>{o=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await ve(t.region)(),properties:{}},o);const a=o.signingRegion,c=o.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;const u={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||Bn;return new l(u)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:i}},_d=t=>typeof t=="function"?Ra(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<wd,e=>e.expiration!==void 0):ve(t),za=t=>new Date(Date.now()+t),vd=(t,e)=>Math.abs(za(e).getTime()-t)>=3e5,si=(t,e)=>{const r=Date.parse(t);return vd(r,e)?r-Date.now():e},Ed=t=>(e,r)=>async function(n){var u,l,d,f;if(!Pe.isInstance(n.request))return e(n);const s=(d=(l=(u=r.endpointV2)==null?void 0:u.properties)==null?void 0:l.authSchemes)==null?void 0:d[0],i=(s==null?void 0:s.name)==="sigv4a"?(f=s==null?void 0:s.signingRegionSet)==null?void 0:f.join(","):void 0,o=await t.signer(s),a=await e({...n,request:await o.sign(n.request,{signingDate:za(t.systemClockOffset),signingRegion:i||r.signing_region,signingService:r.signing_service})}).catch(p=>{const g=p.ServerTime??ii(p.$response);throw g&&(t.systemClockOffset=si(g,t.systemClockOffset)),p}),c=ii(a.response);return c&&(t.systemClockOffset=si(c,t.systemClockOffset)),a},ii=t=>{var e,r;return Pl.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},Sd={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Ad=t=>({applyToStack:e=>{e.addRelativeTo(Ed(t),Sd)}});function Cd(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const Td=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],Od="1.1",Va={partitions:Td,version:Od};let Ga=Va,Wa="";const Rd=t=>{const{partitions:e}=Ga;for(const n of e){const{regions:s,outputs:i}=n;for(const[o,a]of Object.entries(s))if(o===t)return{...i,...a}}for(const n of e){const{regionRegex:s,outputs:i}=n;if(new RegExp(s).test(t))return{...i}}const r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Ka=(t,e="")=>{Ga=t,Wa=e},Pd=()=>{Ka(Va,"")},Za=()=>Wa,kd=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Xa=t=>kd.test(t)||t.startsWith("[")&&t.endsWith("]"),Lt="endpoints";function je(t){return typeof t!="object"||t==null?t:"ref"in t?`$${je(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(je).join(", ")})`:JSON.stringify(t,null,2)}class pe extends Error{constructor(e){super(e),this.name="EndpointError"}}const Bd=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),ls=(t,e=!1)=>{if(!e)return Bd.test(t);const r=t.split(".");for(const n of r)if(!ls(n))return!1;return!0},Ya=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!Ya(r))return!1;return!0}return!(!ls(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Xa(t))},Fd=t=>{const e=t.split(":");if(e.length<6)return null;const[r,n,s,i,o,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:i,accountId:o,resourceId:a[0].includes("/")?a[0].split("/"):a}},$d=Object.freeze(Object.defineProperty({__proto__:null,getUserAgentPrefix:Za,isVirtualHostableS3Bucket:Ya,parseArn:Fd,partition:Rd,setPartitionInfo:Ka,useDefaultPartitionInfo:Pd},Symbol.toStringTag,{value:"Module"})),Nd=(t,e)=>t===e,Dd=t=>{const e=t.split("."),r=[];for(const n of e){const s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new pe(`Path: '${t}' does not end with ']'`);const i=n.slice(s+1,-1);if(Number.isNaN(parseInt(i)))throw new pe(`Invalid array index: '${i}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(i)}else r.push(n)}return r},Qa=(t,e)=>Dd(e).reduce((r,n)=>{if(typeof r!="object")throw new pe(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),Md=t=>t!=null,Id=t=>!t;var oi;(function(t){t.AAAA="AAAA",t.A="A"})(oi||(oi={}));const Mr={[Ut.HTTP]:80,[Ut.HTTPS]:443},Ud=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:f,port:p,protocol:g="",path:m="",query:S={}}=t,H=new URL(`${g}//${f}${p?`:${p}`:""}${m}`);return H.search=Object.entries(S).map(([U,ge])=>`${U}=${ge}`).join("&"),H}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:n,hostname:s,pathname:i,protocol:o,search:a}=e;if(a)return null;const c=o.slice(0,-1);if(!Object.values(Ut).includes(c))return null;const u=Xa(s),l=r.includes(`${n}:${Mr[c]}`)||typeof t=="string"&&t.includes(`${n}:${Mr[c]}`),d=`${n}${l?`:${Mr[c]}`:""}`;return{scheme:c,authority:d,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:u}},jd=(t,e)=>t===e,Ld=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),qd=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Hd=Object.freeze(Object.defineProperty({__proto__:null,aws:$d,booleanEquals:Nd,getAttr:Qa,isSet:Md,isValidHostLabel:ls,not:Id,parseURL:Ud,stringEquals:jd,substring:Ld,uriEncode:qd},Symbol.toStringTag,{value:"Module"})),Ja=(t,e)=>{const r=[],n={...e.endpointParams,...e.referenceRecord};let s=0;for(;s<t.length;){const i=t.indexOf("{",s);if(i===-1){r.push(t.slice(s));break}r.push(t.slice(s,i));const o=t.indexOf("}",i);if(o===-1){r.push(t.slice(i));break}t[i+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(i+1,o)),s=o+2);const a=t.substring(i+1,o);if(a.includes("#")){const[c,u]=a.split("#");r.push(Qa(n[c],u))}else r.push(n[a]);s=o+1}return r.join("")},zd=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Cr=(t,e,r)=>{if(typeof t=="string")return Ja(t,r);if(t.fn)return eu(t,r);if(t.ref)return zd(t,r);throw new pe(`'${e}': ${String(t)} is not a string, function or reference.`)},eu=({fn:t,argv:e},r)=>{const n=e.map(s=>["boolean","number"].includes(typeof s)?s:Cr(s,"arg",r));return t.split(".").reduce((s,i)=>s[i],Hd)(...n)},Vd=({assign:t,...e},r)=>{var s,i;if(t&&t in r.referenceRecord)throw new pe(`'${t}' is already defined in Reference Record.`);const n=eu(e,r);return(i=(s=r.logger)==null?void 0:s.debug)==null||i.call(s,Lt,`evaluateCondition: ${je(e)} = ${je(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},fs=(t=[],e)=>{var n,s;const r={};for(const i of t){const{result:o,toAssign:a}=Vd(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!o)return{result:o};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,Lt,`assign: ${a.name} := ${je(a.value)}`))}return{result:!0,referenceRecord:r}},Gd=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(i=>{const o=Cr(i,"Header value entry",e);if(typeof o!="string")throw new pe(`Header '${n}' value '${o}' is not a string`);return o})}),{}),tu=(t,e)=>{if(Array.isArray(t))return t.map(r=>tu(r,e));switch(typeof t){case"string":return Ja(t,e);case"object":if(t===null)throw new pe(`Unexpected endpoint property: ${t}`);return ru(t,e);case"boolean":return t;default:throw new pe(`Unexpected endpoint property type: ${typeof t}`)}},ru=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:tu(s,e)}),{}),Wd=(t,e)=>{const r=Cr(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new pe(`Endpoint URL must be a string, got ${typeof r}`)},Kd=(t,e)=>{var l,d;const{conditions:r,endpoint:n}=t,{result:s,referenceRecord:i}=fs(r,e);if(!s)return;const o={...e,referenceRecord:{...e.referenceRecord,...i}},{url:a,properties:c,headers:u}=n;return(d=(l=e.logger)==null?void 0:l.debug)==null||d.call(l,Lt,`Resolving endpoint from template: ${je(n)}`),{...u!=null&&{headers:Gd(u,o)},...c!=null&&{properties:ru(c,o)},url:Wd(a,o)}},Zd=(t,e)=>{const{conditions:r,error:n}=t,{result:s,referenceRecord:i}=fs(r,e);if(s)throw new pe(Cr(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...i}}))},Xd=(t,e)=>{const{conditions:r,rules:n}=t,{result:s,referenceRecord:i}=fs(r,e);if(s)return nu(n,{...e,referenceRecord:{...e.referenceRecord,...i}})},nu=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const n=Kd(r,e);if(n)return n}else if(r.type==="error")Zd(r,e);else if(r.type==="tree"){const n=Xd(r,e);if(n)return n}else throw new pe(`Unknown endpoint rule: ${r}`);throw new pe("Rules evaluation failed")},Yd=(t,e)=>{var u,l,d,f,p;const{endpointParams:r,logger:n}=e,{parameters:s,rules:i}=t;(l=(u=e.logger)==null?void 0:u.debug)==null||l.call(u,`${Lt} Initial EndpointParams: ${je(r)}`);const o=Object.entries(s).filter(([,g])=>g.default!=null).map(([g,m])=>[g,m.default]);if(o.length>0)for(const[g,m]of o)r[g]=r[g]??m;const a=Object.entries(s).filter(([,g])=>g.required).map(([g])=>g);for(const g of a)if(r[g]==null)throw new pe(`Missing required parameter: '${g}'`);const c=nu(i,{endpointParams:r,logger:n,referenceRecord:{}});if((d=e.endpointParams)!=null&&d.Endpoint)try{const g=new URL(e.endpointParams.Endpoint),{protocol:m,port:S}=g;c.url.protocol=m,c.url.port=S}catch{}return(p=(f=e.logger)==null?void 0:f.debug)==null||p.call(f,`${Lt} Resolved endpoint: ${je(c)}`),c},ai="user-agent",Ir="x-amz-user-agent",ui=" ",Ur="/",Qd=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Jd=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ci="-",eh=t=>(e,r)=>async n=>{var f,p;const{request:s}=n;if(!Pe.isInstance(s))return e(n);const{headers:i}=s,o=((f=r==null?void 0:r.userAgent)==null?void 0:f.map(jr))||[],a=(await t.defaultUserAgentProvider()).map(jr),c=((p=t==null?void 0:t.customUserAgent)==null?void 0:p.map(jr))||[],u=Za(),l=(u?[u]:[]).concat([...a,...o,...c]).join(ui),d=[...a.filter(g=>g.startsWith("aws-sdk-")),...c].join(ui);return t.runtime!=="browser"?(d&&(i[Ir]=i[Ir]?`${i[ai]} ${d}`:d),i[ai]=l):i[Ir]=l,e({...n,request:s})},jr=t=>{var o;const e=t[0].split(Ur).map(a=>a.replace(Qd,ci)).join(Ur),r=(o=t[1])==null?void 0:o.replace(Jd,ci),n=e.indexOf(Ur),s=e.substring(0,n);let i=e.substring(n+1);return s==="api"&&(i=i.toLowerCase()),[s,i,r].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},th={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},rh=t=>({applyToStack:e=>{e.add(eh(t),th)}});var li;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(li||(li={}));const nh=!1,sh=!1,su=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),fi=t=>su(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,ih=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return fi(e);const n=await e();return fi(n)},useFipsEndpoint:async()=>{const n=typeof e=="string"?e:await e();return su(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},oh=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)});let ah=class iu{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new iu({...this,headers:{...this.headers}});return e.query&&(e.query=uh(e.query)),e}};function uh(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}const di="content-length";function ch(t){return e=>async r=>{const n=r.request;if(ah.isInstance(n)){const{body:s,headers:i}=n;if(s&&Object.keys(i).map(o=>o.toLowerCase()).indexOf(di)===-1)try{const o=t(s);n.headers={...n.headers,[di]:String(o)}}catch{}}return e({...r,request:n})}}const lh={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},fh=t=>({applyToStack:e=>{e.add(ch(t.bodyLengthChecker),lh)}}),dh=async t=>{const e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),mh(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!gh(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},hh=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ph=/(\d+\.){3}\d+/,yh=/\.\./,gh=t=>hh.test(t)&&!ph.test(t)&&!yh.test(t),mh=t=>{const[e,r,n,s,i,o]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,c=[e,r,n,i,o].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!i&&!!o},bh=(t,e,r)=>{const n=async()=>{const s=r[t]??r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{const s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){const{protocol:i,hostname:o,port:a,path:c}=s;return`${i}//${o}${a?":"+a:""}${c}`}}return s}:n},wh=async(t,e,r,n)=>{const s=await xh(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},xh=async(t,e,r)=>{var i;const n={},s=((i=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:i.call(e))||{};for(const[o,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[o]=a.value;break;case"contextParams":n[o]=t[a.name];break;case"clientContextParams":case"builtInParams":n[o]=await bh(a.name,o,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await dh(n),n};function _h(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}const hr=t=>{if(typeof t=="string")return hr(new URL(t));const{hostname:e,pathname:r,port:n,protocol:s,search:i}=t;let o;return i&&(o=_h(i)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:o}},vh=t=>typeof t=="object"?"url"in t?hr(t.url):t:hr(t),Eh=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c;const i=await wh(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=i,n.authSchemes=(a=i.properties)==null?void 0:a.authSchemes;const o=(c=n.authSchemes)==null?void 0:c[0];return o&&(n.signing_region=o.signingRegion,n.signing_service=o.signingName),r({...s})},Sh=(t,e)=>(r,n)=>async s=>{const{response:i}=await r(s);try{const o=await e(i,t);return{response:i,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:i}),!("$metadata"in o)){const a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";o.message+=`
  `+a}throw o}},Ah=(t,e)=>(r,n)=>async s=>{var a;const i=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!i)throw new Error("No valid endpoint provider available.");const o=await e(s.input,{...t,endpoint:i});return r({...s,request:o})},Ch={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ou={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Th(t,e,r){return{applyToStack:n=>{n.add(Sh(t,r),Ch),n.add(Ah(t,e),ou)}}}const Oh={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:ou.name},Rh=(t,e)=>({applyToStack:r=>{r.addRelativeTo(Eh({config:t,instructions:e}),Oh)}}),Ph=t=>{const e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>vh(await ve(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:ve(t.useDualstackEndpoint??!1),useFipsEndpoint:ve(t.useFipsEndpoint??!1)}};var ut;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ut||(ut={}));const pr=3,kh=ut.STANDARD,Bh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Fh=["TimeoutError","RequestTimeout","RequestTimeoutException"],$h=[500,502,503,504],Nh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],au=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||Bh.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},uu=t=>{var e;return Fh.includes(t.name)||Nh.includes((t==null?void 0:t.code)||"")||$h.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},Dh=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){const r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!uu(t)}return!1};class Mh{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),au(e)){const s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const Fn=100,cu=20*1e3,Ih=500,hi=500,Uh=5,jh=10,Lh=1,qh="amz-sdk-invocation-id",Hh="amz-sdk-request",zh=()=>{let t=Fn;return{computeNextBackoffDelay:n=>Math.floor(Math.min(cu,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}},pi=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(cu,t),getRetryCost:()=>r});class lu{constructor(e){this.maxAttempts=e,this.mode=ut.STANDARD,this.capacity=hi,this.retryBackoffStrategy=zh(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return pi({retryDelay:Fn,retryCount:0})}async refreshRetryTokenForRetry(e,r){const n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n)){const s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?Ih:Fn);const i=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),o=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,i):i,a=this.getCapacityCost(s);return this.capacity-=a,pi({retryDelay:o,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(hi,this.capacity+(e.getRetryCost()??Lh))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${pr}`),pr}}shouldRetry(e,r,n){return e.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?jh:Uh}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class Vh{constructor(e,r){this.maxAttemptsProvider=e,this.mode=ut.ADAPTIVE;const{rateLimiter:n}=r??{};this.rateLimiter=n??new Mh,this.standardRetryStrategy=new lu(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}class yr{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){const e=new yr({...this,headers:{...this.headers}});return e.query&&(e.query=Gh(e.query)),e}}function Gh(t){return Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}let Wh=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};var tr,Kh=new Uint8Array(16);function Zh(){if(!tr&&(tr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tr(Kh)}const Xh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yh(t){return typeof t=="string"&&Xh.test(t)}var Q=[];for(var Lr=0;Lr<256;++Lr)Q.push((Lr+256).toString(16).substr(1));function Qh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Q[t[e+0]]+Q[t[e+1]]+Q[t[e+2]]+Q[t[e+3]]+"-"+Q[t[e+4]]+Q[t[e+5]]+"-"+Q[t[e+6]]+Q[t[e+7]]+"-"+Q[t[e+8]]+Q[t[e+9]]+"-"+Q[t[e+10]]+Q[t[e+11]]+Q[t[e+12]]+Q[t[e+13]]+Q[t[e+14]]+Q[t[e+15]]).toLowerCase();if(!Yh(r))throw TypeError("Stringified UUID is invalid");return r}function Jh(t,e,r){t=t||{};var n=t.random||(t.rng||Zh)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var s=0;s<16;++s)e[r+s]=n[s];return e}return Qh(n)}const ep=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),tp=t=>{const{retryStrategy:e}=t,r=ve(t.maxAttempts??pr);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await ve(t.retryMode)()===ut.ADAPTIVE?new Vh(r):new lu(r))}},rp=t=>(e,r)=>async n=>{let s=await t.retryStrategy();const i=await t.maxAttempts();if(np(s)){s=s;let o=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,u=0;const{request:l}=n;for(yr.isInstance(l)&&(l.headers[qh]=Jh());;)try{yr.isInstance(l)&&(l.headers[Hh]=`attempt=${c+1}; max=${i}`);const{response:d,output:f}=await e(n);return s.recordSuccess(o),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=u,{response:d,output:f}}catch(d){const f=sp(d);a=ep(d);try{o=await s.refreshRetryTokenForRetry(o,f)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,a}c=o.getRetryCount();const p=o.getRetryDelay();u+=p,await new Promise(g=>setTimeout(g,p))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},np=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",sp=t=>{const e={errorType:ip(t)},r=up(t.$response);return r&&(e.retryAfterHint=r),e},ip=t=>au(t)?"THROTTLING":uu(t)?"TRANSIENT":Dh(t)?"SERVER_ERROR":"CLIENT_ERROR",op={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ap=t=>({applyToStack:e=>{e.add(rp(t),op)}}),up=t=>{if(!Wh.isInstance(t))return;const e=Object.keys(t.headers).find(i=>i.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};class cp{trace(){}debug(){}info(){}warn(){}error(){}}const gr=()=>{let t=[],e=[];const r=new Set,n=l=>l.sort((d,f)=>yi[f.step]-yi[d.step]||gi[f.priority||"normal"]-gi[d.priority||"normal"]),s=l=>{let d=!1;const f=p=>p.name&&p.name===l?(d=!0,r.delete(l),!1):!0;return t=t.filter(f),e=e.filter(f),d},i=l=>{let d=!1;const f=p=>p.middleware===l?(d=!0,p.name&&r.delete(p.name),!1):!0;return t=t.filter(f),e=e.filter(f),d},o=l=>(t.forEach(d=>{l.add(d.middleware,{...d})}),e.forEach(d=>{l.addRelativeTo(d.middleware,{...d})}),l),a=l=>{const d=[];return l.before.forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...a(f))}),d.push(l),l.after.reverse().forEach(f=>{f.before.length===0&&f.after.length===0?d.push(f):d.push(...a(f))}),d},c=(l=!1)=>{const d=[],f=[],p={};return t.forEach(m=>{const S={...m,before:[],after:[]};S.name&&(p[S.name]=S),d.push(S)}),e.forEach(m=>{const S={...m,before:[],after:[]};S.name&&(p[S.name]=S),f.push(S)}),f.forEach(m=>{if(m.toMiddleware){const S=p[m.toMiddleware];if(S===void 0){if(l)return;throw new Error(`${m.toMiddleware} is not found when adding ${m.name||"anonymous"} middleware ${m.relation} ${m.toMiddleware}`)}m.relation==="after"&&S.after.push(m),m.relation==="before"&&S.before.push(m)}}),n(d).map(a).reduce((m,S)=>(m.push(...S),m),[])},u={add:(l,d={})=>{const{name:f,override:p}=d,g={step:"initialize",priority:"normal",middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);const m=t.findIndex(H=>H.name===f),S=t[m];if(S.step!==g.step||S.priority!==g.priority)throw new Error(`"${f}" middleware with ${S.priority} priority in ${S.step} step cannot be overridden by same-name middleware with ${g.priority} priority in ${g.step} step.`);t.splice(m,1)}r.add(f)}t.push(g)},addRelativeTo:(l,d)=>{const{name:f,override:p}=d,g={middleware:l,...d};if(f){if(r.has(f)){if(!p)throw new Error(`Duplicate middleware name '${f}'`);const m=e.findIndex(H=>H.name===f),S=e[m];if(S.toMiddleware!==g.toMiddleware||S.relation!==g.relation)throw new Error(`"${f}" middleware ${S.relation} "${S.toMiddleware}" middleware cannot be overridden by same-name middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(m,1)}r.add(f)}e.push(g)},clone:()=>o(gr()),use:l=>{l.applyToStack(u)},remove:l=>typeof l=="string"?s(l):i(l),removeByTag:l=>{let d=!1;const f=p=>{const{tags:g,name:m}=p;return g&&g.includes(l)?(m&&r.delete(m),d=!0,!1):!0};return t=t.filter(f),e=e.filter(f),d},concat:l=>{const d=o(gr());return d.use(l),d},applyToStack:o,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,d)=>{for(const f of c().map(p=>p.middleware).reverse())l=f(l,d);return l}};return u},yi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},gi={high:3,normal:2,low:1};class lp{constructor(e){this.middlewareStack=gr(),this.config=e}send(e,r,n){const s=typeof r!="function"?r:void 0,i=typeof r=="function"?r:n,o=e.resolveMiddleware(this.middlewareStack,this.config,s);if(i)o(e).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const Le={},lt=new Array(64);for(let t=0,e="A".charCodeAt(0),r="Z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e);Le[n]=t,lt[t]=n}for(let t=0,e="a".charCodeAt(0),r="z".charCodeAt(0);t+e<=r;t++){const n=String.fromCharCode(t+e),s=t+26;Le[n]=s,lt[s]=n}for(let t=0;t<10;t++){Le[t.toString(10)]=t+52;const e=t.toString(10),r=t+52;Le[e]=r,lt[r]=e}Le["+"]=62;lt[62]="+";Le["/"]=63;lt[63]="/";const at=6,Mt=8,fp=63,ds=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;const r=new ArrayBuffer(e),n=new DataView(r);for(let s=0;s<t.length;s+=4){let i=0,o=0;for(let u=s,l=s+3;u<=l;u++)if(t[u]!=="="){if(!(t[u]in Le))throw new TypeError(`Invalid character ${t[u]} in base64 string.`);i|=Le[t[u]]<<(l-u)*at,o+=at}else i>>=at;const a=s/4*3;i>>=o%Mt;const c=Math.floor(o/Mt);for(let u=0;u<c;u++){const l=(c-u-1)*Mt;n.setUint8(a+u,(i&255<<l)>>l)}}return new Uint8Array(r)};function hs(t){let e="";for(let r=0;r<t.length;r+=3){let n=0,s=0;for(let o=r,a=Math.min(r+3,t.length);o<a;o++)n|=t[o]<<(a-o-1)*Mt,s+=Mt;const i=Math.ceil(s/at);n<<=i*at-s;for(let o=1;o<=i;o++){const a=(i-o)*at;e+=lt[(n&fp<<a)>>a]}e+="==".slice(0,4-i)}return e}function dp(t,e="utf-8"){return e==="base64"?hs(t):Ar(t)}function hp(t,e){return e==="base64"?Qe.mutate(ds(t)):Qe.mutate(Kt(t))}class Qe extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return hp(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,Qe.prototype),e}transformToString(e="utf-8"){return dp(this,e)}}const pp=(t,e)=>{const{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:i,streamHasher:o}=e,a=r!==void 0&&n!==void 0&&s!==void 0&&i!==void 0&&o!==void 0,c=a?o(s,t):void 0,u=t.getReader();return new ReadableStream({async pull(l){const{value:d,done:f}=await u.read();if(f){if(l.enqueue(`0\r
`),a){const p=r(await c);l.enqueue(`${i}:${p}\r
`),l.enqueue(`\r
`)}l.close()}else l.enqueue(`${(n(d)||0).toString(16)}\r
${d}\r
`)}})};class mi{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}}function yp(t){const e=[];for(let r of Object.keys(t).sort()){const n=t[r];if(r=Ke(r),Array.isArray(n))for(let s=0,i=n.length;s<i;s++)e.push(`${r}=${Ke(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Ke(n)}`),e.push(s)}}return e.join("&")}function gp(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{const n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}class mp{constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);const n=this.config.requestTimeout;if(r!=null&&r.aborted){const g=new Error("Request aborted");return g.name="AbortError",Promise.reject(g)}let s=e.path;const i=yp(e.query||{});i&&(s+=`?${i}`),e.fragment&&(s+=`#${e.fragment}`);let o="";if(e.username!=null||e.password!=null){const g=e.username??"",m=e.password??"";o=`${g}:${m}@`}const{port:a,method:c}=e,u=`${e.protocol}//${o}${e.hostname}${a?`:${a}`:""}${s}`,d={body:c==="GET"||c==="HEAD"?void 0:e.body,headers:new Headers(e.headers),method:c};typeof AbortController<"u"&&(d.signal=r);const f=new Request(u,d),p=[fetch(f).then(g=>{const m=g.headers,S={};for(const U of m.entries())S[U[0]]=U[1];return g.body!=null?{response:new mi({headers:S,reason:g.statusText,statusCode:g.status,body:g.body})}:g.blob().then(U=>({response:new mi({headers:S,reason:g.statusText,statusCode:g.status,body:U})}))}),gp(n)];return r&&p.push(new Promise((g,m)=>{r.onabort=()=>{const S=new Error("Request aborted");S.name="AbortError",m(S)}})),Promise.race(p)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}}const fu=t=>typeof Blob=="function"&&t instanceof Blob?bp(t):wp(t);async function bp(t){const e=await xp(t),r=ds(e);return new Uint8Array(r)}async function wp(t){let e=new Uint8Array(0);const r=t.getReader();let n=!1;for(;!n;){const{done:s,value:i}=await r.read();if(i){const o=e;e=new Uint8Array(o.length+i.length),e.set(o),e.set(i,o.length)}n=s}return e}function xp(t){return new Promise((e,r)=>{const n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));const s=n.result??"",i=s.indexOf(","),o=i>-1?i+1:s.length;e(s.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}const bi="The stream has already been transformed.",_p=t=>{var s,i;if(!wi(t)&&!xi(t)){const o=((i=(s=t==null?void 0:t.__proto__)==null?void 0:s.constructor)==null?void 0:i.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let e=!1;const r=async()=>{if(e)throw new Error(bi);return e=!0,await fu(t)},n=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{const a=await r();if(o==="base64")return hs(a);if(o==="hex")return de(a);if(o===void 0||o==="utf8"||o==="utf-8")return Ar(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw new Error(bi);if(e=!0,wi(t))return n(t);if(xi(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})},wi=t=>typeof Blob=="function"&&t instanceof Blob,xi=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,du=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return Qe.mutate(t);if(!t)return Qe.mutate(new Uint8Array);const r=e.streamCollector(t);return Qe.mutate(await r)};class vp{constructor(){this.middlewareStack=gr()}}const It="***SensitiveInformation***",Ep=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},Sp=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ap=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Cp(t){const e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),i=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,u=i<10?`0${i}`:`${i}`,l=o<10?`0${o}`:`${o}`,d=a<10?`0${a}`:`${a}`;return`${Sp[n]}, ${c} ${Ap[r]} ${e} ${u}:${l}:${d} GMT`}class ps extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,ps.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const Tp=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},Op=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{const s=Pp(t),i=s.httpStatusCode?s.httpStatusCode+"":void 0,o=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||i||"UnknownError",$fault:"client",$metadata:s});throw Tp(o,e)},Rp=t=>({output:e,parsedBody:r,errorCode:n})=>{Op({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},Pp=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),kp=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Bp=t=>{const e=[];for(const r in dr){const n=dr[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Fp=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},$p=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},Np=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},Dp=t=>({...Bp(t),...$p(t)}),Mp=t=>({...Fp(t),...Np(t)});function _i(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const hu=t=>{const e="#text";for(const r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=hu(t[r]));return t},$n=function(){const t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};$n.prototype=Object.create(String.prototype,{constructor:{value:$n,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf($n,String);function mr(t,e,r){let n,s,i;if(typeof e>"u"&&typeof r>"u")n={},i=t;else{if(n=t,typeof e=="function")return s=e,i=r,Ip(n,s,i);i=e}for(const o of Object.keys(i)){if(!Array.isArray(i[o])){n[o]=i[o];continue}Up(n,null,i,o)}return n}const Ip=(t,e,r)=>mr(t,Object.entries(r).reduce((n,[s,i])=>(Array.isArray(i)?n[s]=i:typeof i=="function"?n[s]=[e,i()]:n[s]=[e,i],n),{})),Up=(t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);const[a=jp,c=Lp,u=n]=o;(typeof a=="function"&&a(e[u])||typeof a!="function"&&a)&&(t[n]=c(e[u]));return}let[s,i]=r[n];if(typeof i=="function"){let o;const a=s===void 0&&(o=i())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=o:c&&(t[n]=i())}else{const o=s===void 0&&i!=null,a=typeof s=="function"&&!!s(i)||typeof s!="function"&&!!s;(o||a)&&(t[n]=i)}},jp=t=>t!=null,Lp=t=>t,vi=(t,e,r,n,s,i)=>{if(e!=null&&e[r]!==void 0){const o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,i?o.split("/").map(a=>_i(a)).join("/"):_i(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t},qp=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),Hp="@aws-sdk/client-s3",zp="AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",Vp="3.405.0",Gp={build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},Wp="./dist-cjs/index.js",Kp="./dist-types/index.d.ts",Zp="./dist-es/index.js",Xp=!1,Yp={"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.405.0","@aws-sdk/credential-provider-node":"3.405.0","@aws-sdk/middleware-bucket-endpoint":"3.405.0","@aws-sdk/middleware-expect-continue":"3.398.0","@aws-sdk/middleware-flexible-checksums":"3.400.0","@aws-sdk/middleware-host-header":"3.398.0","@aws-sdk/middleware-location-constraint":"3.398.0","@aws-sdk/middleware-logger":"3.398.0","@aws-sdk/middleware-recursion-detection":"3.398.0","@aws-sdk/middleware-sdk-s3":"3.398.0","@aws-sdk/middleware-signing":"3.398.0","@aws-sdk/middleware-ssec":"3.398.0","@aws-sdk/middleware-user-agent":"3.398.0","@aws-sdk/signature-v4-multi-region":"3.398.0","@aws-sdk/types":"3.398.0","@aws-sdk/util-endpoints":"3.398.0","@aws-sdk/util-user-agent-browser":"3.398.0","@aws-sdk/util-user-agent-node":"3.405.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.5","@smithy/eventstream-serde-browser":"^2.0.5","@smithy/eventstream-serde-config-resolver":"^2.0.5","@smithy/eventstream-serde-node":"^2.0.5","@smithy/fetch-http-handler":"^2.0.5","@smithy/hash-blob-browser":"^2.0.5","@smithy/hash-node":"^2.0.5","@smithy/hash-stream-node":"^2.0.5","@smithy/invalid-dependency":"^2.0.5","@smithy/md5-js":"^2.0.5","@smithy/middleware-content-length":"^2.0.5","@smithy/middleware-endpoint":"^2.0.5","@smithy/middleware-retry":"^2.0.5","@smithy/middleware-serde":"^2.0.5","@smithy/middleware-stack":"^2.0.0","@smithy/node-config-provider":"^2.0.6","@smithy/node-http-handler":"^2.0.5","@smithy/protocol-http":"^2.0.5","@smithy/smithy-client":"^2.0.5","@smithy/types":"^2.2.2","@smithy/url-parser":"^2.0.5","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.6","@smithy/util-defaults-mode-node":"^2.0.6","@smithy/util-retry":"^2.0.0","@smithy/util-stream":"^2.0.5","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.5","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},Qp={"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},Jp={node:">=14.0.0"},e0={"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},t0=["dist-*/**"],r0={name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},n0="Apache-2.0",s0={"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},i0="https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",o0={type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"},a0={name:Hp,description:zp,version:Vp,scripts:Gp,main:Wp,types:Kp,module:Zp,sideEffects:Xp,dependencies:Yp,devDependencies:Qp,engines:Jp,typesVersions:e0,files:t0,author:r0,license:n0,browser:s0,"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:i0,repository:o0};var pu={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nn=function(t,e){return Nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Nn(t,e)};function u0(t,e){Nn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dn=function(){return Dn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Dn.apply(this,arguments)};function c0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function l0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function f0(t,e){return function(r,n){e(r,n,t)}}function d0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function h0(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function p0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function y0(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function g0(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Mn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function yu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function m0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(yu(arguments[e]));return t}function b0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function w0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof qt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function x0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:qt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function _0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Mn=="function"?Mn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function v0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S0(t){return t&&t.__esModule?t:{default:t}}function A0(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function C0(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const T0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Dn},__asyncDelegator:x0,__asyncGenerator:w0,__asyncValues:_0,__await:qt,__awaiter:h0,__classPrivateFieldGet:A0,__classPrivateFieldSet:C0,__createBinding:y0,__decorate:l0,__exportStar:g0,__extends:u0,__generator:p0,__importDefault:S0,__importStar:E0,__makeTemplateObject:v0,__metadata:d0,__param:f0,__read:yu,__rest:c0,__spread:m0,__spreadArrays:b0,__values:Mn},Symbol.toStringTag,{value:"Module"})),O0=Re(T0);var bt={},wt={},xt={},Ei;function gu(){if(Ei)return xt;Ei=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return xt.isEmptyData=t,xt}var qr={},Si;function mu(){return Si||(Si=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_1=t.SHA_1_HMAC_ALGO=t.SHA_1_HASH=void 0,t.SHA_1_HASH={name:"SHA-1"},t.SHA_1_HMAC_ALGO={name:"HMAC",hash:t.SHA_1_HASH},t.EMPTY_DATA_SHA_1=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9])}(qr)),qr}const R0={};function P0(){return typeof window<"u"?window:typeof self<"u"?self:R0}const k0=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:P0},Symbol.toStringTag,{value:"Module"})),ft=Re(k0);var Ai;function bu(){if(Ai)return wt;Ai=1,Object.defineProperty(wt,"__esModule",{value:!0}),wt.Sha1=void 0;var t=gu(),e=mu(),r=Sr,n=ft,s=function(){function a(c){this.secret=c,this.reset()}return a.prototype.update=function(c){var u=this;(0,t.isEmptyData)(c)||(this.operation=this.operation.then(function(l){return l.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(c)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(c){return new Promise(function(u,l){c.onerror=function(){l(new Error("Error encountered finalizing hash"))},c.oncomplete=function(){c.result&&u(new Uint8Array(c.result)),l(new Error("Error encountered finalizing hash"))},c.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=i(this.secret).then(function(c){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_1_HMAC_ALGO,c)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-1"))},a}();wt.Sha1=s;function i(a){return new Promise(function(c,u){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_1_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&c(l.result),u(new Error("ImportKey completed without importing key."))},l.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return wt}var _t={},Ci;function wu(){if(Ci)return _t;Ci=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.Sha1=void 0;var t=Sr,e=gu(),r=mu(),n=ft,s=function(){function o(a){this.toHash=new Uint8Array(0),a!==void 0&&(this.key=new Promise(function(c,u){(0,n.locateWindow)().crypto.subtle.importKey("raw",i(a),r.SHA_1_HMAC_ALGO,!1,["sign"]).then(c,u)}),this.key.catch(function(){}))}return o.prototype.update=function(a){if(!(0,e.isEmptyData)(a)){var c=i(a),u=new Uint8Array(this.toHash.byteLength+c.byteLength);u.set(this.toHash,0),u.set(c,this.toHash.byteLength),this.toHash=u}},o.prototype.digest=function(){var a=this;return this.key?this.key.then(function(c){return(0,n.locateWindow)().crypto.subtle.sign(r.SHA_1_HMAC_ALGO,c,a.toHash).then(function(u){return new Uint8Array(u)})}):(0,e.isEmptyData)(this.toHash)?Promise.resolve(r.EMPTY_DATA_SHA_1):Promise.resolve().then(function(){return(0,n.locateWindow)().crypto.subtle.digest(r.SHA_1_HASH,a.toHash)}).then(function(c){return Promise.resolve(new Uint8Array(c))})},o.prototype.reset=function(){this.toHash=new Uint8Array(0)},o}();_t.Sha1=s;function i(o){return typeof o=="string"?(0,t.fromUtf8)(o):ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(o)}return _t}var Hr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var In=function(t,e){return In=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},In(t,e)};function B0(t,e){In(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Un=function(){return Un=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Un.apply(this,arguments)};function F0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function $0(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function N0(t,e){return function(r,n){e(r,n,t)}}function D0(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M0(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function I0(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function U0(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function j0(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function jn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function L0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xu(arguments[e]));return t}function q0(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Ht(t){return this instanceof Ht?(this.v=t,this):new Ht(t)}function H0(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Ht?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function z0(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Ht(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function V0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jn=="function"?jn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function G0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function W0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function K0(t){return t&&t.__esModule?t:{default:t}}function Z0(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function X0(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Y0=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Un},__asyncDelegator:z0,__asyncGenerator:H0,__asyncValues:V0,__await:Ht,__awaiter:M0,__classPrivateFieldGet:Z0,__classPrivateFieldSet:X0,__createBinding:U0,__decorate:$0,__exportStar:j0,__extends:B0,__generator:I0,__importDefault:K0,__importStar:W0,__makeTemplateObject:G0,__metadata:D0,__param:N0,__read:xu,__rest:F0,__spread:L0,__spreadArrays:q0,__values:jn},Symbol.toStringTag,{value:"Module"})),_u=Re(Y0);var me={},Ti;function Q0(){if(Ti)return me;Ti=1,Object.defineProperty(me,"__esModule",{value:!0}),me.supportsZeroByteGCM=me.supportsSubtleCrypto=me.supportsSecureRandom=me.supportsWebCrypto=void 0;var t=_u,e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(o){if(n(o)&&typeof o.crypto.subtle=="object"){var a=o.crypto.subtle;return s(a)}return!1}me.supportsWebCrypto=r;function n(o){if(typeof o=="object"&&typeof o.crypto=="object"){var a=o.crypto.getRandomValues;return typeof a=="function"}return!1}me.supportsSecureRandom=n;function s(o){return o&&e.every(function(a){return typeof o[a]=="function"})}me.supportsSubtleCrypto=s;function i(o){return t.__awaiter(this,void 0,void 0,function(){var a,c;return t.__generator(this,function(u){switch(u.label){case 0:if(!s(o))return[2,!1];u.label=1;case 1:return u.trys.push([1,4,,5]),[4,o.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return a=u.sent(),[4,o.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},a,new Uint8Array(0))];case 3:return c=u.sent(),[2,c.byteLength===16];case 4:return u.sent(),[2,!1];case 5:return[2]}})})}return me.supportsZeroByteGCM=i,me}var Oi;function vu(){return Oi||(Oi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=_u;e.__exportStar(Q0(),t)}(Hr)),Hr}var zr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ln=function(t,e){return Ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Ln(t,e)};function J0(t,e){Ln(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var qn=function(){return qn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},qn.apply(this,arguments)};function ey(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ty(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function ry(t,e){return function(r,n){e(r,n,t)}}function ny(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function sy(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function iy(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oy(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function ay(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Hn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function uy(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Eu(arguments[e]));return t}function cy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function zt(t){return this instanceof zt?(this.v=t,this):new zt(t)}function ly(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof zt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function fy(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:zt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function dy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Hn=="function"?Hn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function hy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function py(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function yy(t){return t&&t.__esModule?t:{default:t}}function gy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function my(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const by=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return qn},__asyncDelegator:fy,__asyncGenerator:ly,__asyncValues:dy,__await:zt,__awaiter:sy,__classPrivateFieldGet:gy,__classPrivateFieldSet:my,__createBinding:oy,__decorate:ty,__exportStar:ay,__extends:J0,__generator:iy,__importDefault:yy,__importStar:py,__makeTemplateObject:hy,__metadata:ny,__param:ry,__read:Eu,__rest:ey,__spread:uy,__spreadArrays:cy,__values:Hn},Symbol.toStringTag,{value:"Module"})),wy=Re(by);var Vr={},Ri;function xy(){return Ri||(Ri=1,Object.defineProperty(Vr,"__esModule",{value:!0})),Vr}var Gr={},Pi;function _y(){return Pi||(Pi=1,Object.defineProperty(Gr,"__esModule",{value:!0})),Gr}var Wr={},ki;function vy(){return ki||(ki=1,Object.defineProperty(Wr,"__esModule",{value:!0})),Wr}var Kr={},Bi;function Ey(){return Bi||(Bi=1,Object.defineProperty(Kr,"__esModule",{value:!0})),Kr}var vt={},Fi;function Sy(){if(Fi)return vt;Fi=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(n){return"MSInputMethodContext"in n&&"msCrypto"in n}function r(n){if(e(n)&&n.msCrypto.subtle!==void 0){var s=n.msCrypto,i=s.getRandomValues,o=s.subtle;return t.map(function(a){return o[a]}).concat(i).every(function(a){return typeof a=="function"})}return!1}return vt.isMsWindow=r,vt}var $i;function Su(){return $i||($i=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=wy;e.__exportStar(xy(),t),e.__exportStar(_y(),t),e.__exportStar(vy(),t),e.__exportStar(Ey(),t),e.__exportStar(Sy(),t)}(zr)),zr}var Ni;function Ay(){if(Ni)return bt;Ni=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.Sha1=void 0;var t=bu(),e=wu(),r=vu(),n=Su(),s=ft,i=qe(),o=function(){function a(c){if((0,r.supportsWebCrypto)((0,s.locateWindow)()))this.hash=new e.Sha1(c);else if((0,n.isMsWindow)((0,s.locateWindow)()))this.hash=new t.Sha1(c);else throw new Error("SHA1 not supported")}return a.prototype.update=function(c,u){this.hash.update((0,i.convertToBuffer)(c))},a.prototype.digest=function(){return this.hash.digest()},a.prototype.reset=function(){this.hash.reset()},a}();return bt.Sha1=o,bt}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha1=t.Ie11Sha1=void 0;var e=O0;e.__exportStar(Ay(),t);var r=bu();Object.defineProperty(t,"Ie11Sha1",{enumerable:!0,get:function(){return r.Sha1}});var n=wu();Object.defineProperty(t,"WebCryptoSha1",{enumerable:!0,get:function(){return n.Sha1}})})(pu);var Au={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var zn=function(t,e){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},zn(t,e)};function Cy(t,e){zn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vn=function(){return Vn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Vn.apply(this,arguments)};function Ty(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Oy(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Ry(t,e){return function(r,n){e(r,n,t)}}function Py(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ky(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function By(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Fy(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function $y(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Gn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Ny(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Cu(arguments[e]));return t}function Dy(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Vt(t){return this instanceof Vt?(this.v=t,this):new Vt(t)}function My(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Vt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Iy(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Vt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Uy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Gn=="function"?Gn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function jy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Ly(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function qy(t){return t&&t.__esModule?t:{default:t}}function Hy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function zy(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const Vy=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Vn},__asyncDelegator:Iy,__asyncGenerator:My,__asyncValues:Uy,__await:Vt,__awaiter:ky,__classPrivateFieldGet:Hy,__classPrivateFieldSet:zy,__createBinding:Fy,__decorate:Oy,__exportStar:$y,__extends:Cy,__generator:By,__importDefault:qy,__importStar:Ly,__makeTemplateObject:jy,__metadata:Py,__param:Ry,__read:Cu,__rest:Ty,__spread:Ny,__spreadArrays:Dy,__values:Gn},Symbol.toStringTag,{value:"Module"})),Gy=Re(Vy);var Et={},St={},At={},Di;function Wy(){if(Di)return At;Di=1,Object.defineProperty(At,"__esModule",{value:!0}),At.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return At.isEmptyData=t,At}var Zr={},Mi;function Tu(){return Mi||(Mi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Zr)),Zr}var Ii;function Ou(){if(Ii)return St;Ii=1,Object.defineProperty(St,"__esModule",{value:!0}),St.Sha256=void 0;var t=Wy(),e=Tu(),r=Sr,n=ft,s=function(){function a(c){this.secret=c,this.reset()}return a.prototype.update=function(c){var u=this;(0,t.isEmptyData)(c)||(this.operation=this.operation.then(function(l){return l.onerror=function(){u.operation=Promise.reject(new Error("Error encountered updating hash"))},l.process(o(c)),l}),this.operation.catch(function(){}))},a.prototype.digest=function(){return this.operation.then(function(c){return new Promise(function(u,l){c.onerror=function(){l(new Error("Error encountered finalizing hash"))},c.oncomplete=function(){c.result&&u(new Uint8Array(c.result)),l(new Error("Error encountered finalizing hash"))},c.finish()})})},a.prototype.reset=function(){this.secret?(this.operation=i(this.secret).then(function(c){return(0,n.locateWindow)().msCrypto.subtle.sign(e.SHA_256_HMAC_ALGO,c)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,n.locateWindow)().msCrypto.subtle.digest("SHA-256"))},a}();St.Sha256=s;function i(a){return new Promise(function(c,u){var l=(0,n.locateWindow)().msCrypto.subtle.importKey("raw",o(a),e.SHA_256_HMAC_ALGO,!1,["sign"]);l.oncomplete=function(){l.result&&c(l.result),u(new Error("ImportKey completed without importing key."))},l.onerror=function(){u(new Error("ImportKey failed to import key."))}})}function o(a){return typeof a=="string"?(0,r.fromUtf8)(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}return St}var Ct={},Ui;function Ru(){if(Ui)return Ct;Ui=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Sha256=void 0;var t=qe(),e=Tu(),r=ft,n=function(){function s(i){this.toHash=new Uint8Array(0),this.secret=i,this.reset()}return s.prototype.update=function(i){if(!(0,t.isEmptyData)(i)){var o=(0,t.convertToBuffer)(i),a=new Uint8Array(this.toHash.byteLength+o.byteLength);a.set(this.toHash,0),a.set(o,this.toHash.byteLength),this.toHash=a}},s.prototype.digest=function(){var i=this;return this.key?this.key.then(function(o){return(0,r.locateWindow)().crypto.subtle.sign(e.SHA_256_HMAC_ALGO,o,i.toHash).then(function(a){return new Uint8Array(a)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(e.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(e.SHA_256_HASH,i.toHash)}).then(function(o){return Promise.resolve(new Uint8Array(o))})},s.prototype.reset=function(){var i=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(o,a){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,t.convertToBuffer)(i.secret),e.SHA_256_HMAC_ALGO,!1,["sign"]).then(o,a)}),this.key.catch(function(){}))},s}();return Ct.Sha256=n,Ct}var Xr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wn=function(t,e){return Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Wn(t,e)};function Ky(t,e){Wn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kn=function(){return Kn=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Kn.apply(this,arguments)};function Zy(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Xy(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Yy(t,e){return function(r,n){e(r,n,t)}}function Qy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Jy(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function eg(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function tg(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function rg(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Zn(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function ng(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Pu(arguments[e]));return t}function sg(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Gt(t){return this instanceof Gt?(this.v=t,this):new Gt(t)}function ig(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Gt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function og(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Gt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function ag(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Zn=="function"?Zn(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function ug(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function cg(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function lg(t){return t&&t.__esModule?t:{default:t}}function fg(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function dg(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const hg=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Kn},__asyncDelegator:og,__asyncGenerator:ig,__asyncValues:ag,__await:Gt,__awaiter:Jy,__classPrivateFieldGet:fg,__classPrivateFieldSet:dg,__createBinding:tg,__decorate:Xy,__exportStar:rg,__extends:Ky,__generator:eg,__importDefault:lg,__importStar:cg,__makeTemplateObject:ug,__metadata:Qy,__param:Yy,__read:Pu,__rest:Zy,__spread:ng,__spreadArrays:sg,__values:Zn},Symbol.toStringTag,{value:"Module"})),ku=Re(hg);var Tt={},le={},ji;function Bu(){return ji||(ji=1,Object.defineProperty(le,"__esModule",{value:!0}),le.MAX_HASHABLE_LENGTH=le.INIT=le.KEY=le.DIGEST_LENGTH=le.BLOCK_SIZE=void 0,le.BLOCK_SIZE=64,le.DIGEST_LENGTH=32,le.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),le.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],le.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),le}var Ot={},Li;function pg(){if(Li)return Ot;Li=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.RawSha256=void 0;var t=Bu(),e=function(){function r(){this.state=Int32Array.from(t.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var s=0,i=n.byteLength;if(this.bytesHashed+=i,this.bytesHashed*8>t.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=n[s++],i--,this.bufferLength===t.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var n=this.bytesHashed*8,s=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(s.setUint8(this.bufferLength++,128),i%t.BLOCK_SIZE>=t.BLOCK_SIZE-8){for(var o=this.bufferLength;o<t.BLOCK_SIZE;o++)s.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(var o=this.bufferLength;o<t.BLOCK_SIZE-8;o++)s.setUint8(o,0);s.setUint32(t.BLOCK_SIZE-8,Math.floor(n/4294967296),!0),s.setUint32(t.BLOCK_SIZE-4,n),this.hashBuffer(),this.finished=!0}for(var a=new Uint8Array(t.DIGEST_LENGTH),o=0;o<8;o++)a[o*4]=this.state[o]>>>24&255,a[o*4+1]=this.state[o]>>>16&255,a[o*4+2]=this.state[o]>>>8&255,a[o*4+3]=this.state[o]>>>0&255;return a},r.prototype.hashBuffer=function(){for(var n=this,s=n.buffer,i=n.state,o=i[0],a=i[1],c=i[2],u=i[3],l=i[4],d=i[5],f=i[6],p=i[7],g=0;g<t.BLOCK_SIZE;g++){if(g<16)this.temp[g]=(s[g*4]&255)<<24|(s[g*4+1]&255)<<16|(s[g*4+2]&255)<<8|s[g*4+3]&255;else{var m=this.temp[g-2],S=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10;m=this.temp[g-15];var H=(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[g]=(S+this.temp[g-7]|0)+(H+this.temp[g-16]|0)}var U=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&d^~l&f)|0)+(p+(t.KEY[g]+this.temp[g]|0)|0)|0,ge=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&c^a&c)|0;p=f,f=d,d=l,l=u+U|0,u=c,c=a,a=o,o=U+ge|0}i[0]+=o,i[1]+=a,i[2]+=c,i[3]+=u,i[4]+=l,i[5]+=d,i[6]+=f,i[7]+=p},r}();return Ot.RawSha256=e,Ot}var qi;function yg(){if(qi)return Tt;qi=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.Sha256=void 0;var t=ku,e=Bu(),r=pg(),n=qe(),s=function(){function o(a){this.secret=a,this.hash=new r.RawSha256,this.reset()}return o.prototype.update=function(a){if(!((0,n.isEmptyData)(a)||this.error))try{this.hash.update((0,n.convertToBuffer)(a))}catch(c){this.error=c}},o.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},o.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(a){return[2,this.digestSync()]})})},o.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var a=i(this.secret),c=new Uint8Array(e.BLOCK_SIZE);c.set(a);for(var u=0;u<e.BLOCK_SIZE;u++)a[u]^=54,c[u]^=92;this.hash.update(a),this.outer.update(c);for(var u=0;u<a.byteLength;u++)a[u]=0}},o}();Tt.Sha256=s;function i(o){var a=(0,n.convertToBuffer)(o);if(a.byteLength>e.BLOCK_SIZE){var c=new r.RawSha256;c.update(a),a=c.digest()}var u=new Uint8Array(e.BLOCK_SIZE);return u.set(a),u}return Tt}var Hi;function gg(){return Hi||(Hi=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=ku;e.__exportStar(yg(),t)}(Xr)),Xr}var zi;function mg(){if(zi)return Et;zi=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.Sha256=void 0;var t=Ou(),e=Ru(),r=gg(),n=vu(),s=Su(),i=ft,o=qe(),a=function(){function c(u){(0,n.supportsWebCrypto)((0,i.locateWindow)())?this.hash=new e.Sha256(u):(0,s.isMsWindow)((0,i.locateWindow)())?this.hash=new t.Sha256(u):this.hash=new r.Sha256(u)}return c.prototype.update=function(u,l){this.hash.update((0,o.convertToBuffer)(u))},c.prototype.digest=function(){return this.hash.digest()},c.prototype.reset=function(){this.hash.reset()},c}();return Et.Sha256=a,Et}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var e=Gy;e.__exportStar(mg(),t);var r=Ou();Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var n=Ru();Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return n.Sha256}})})(Au);const bg={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Fu={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},j={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},oe={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ue={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class b{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const s=b.getVersionPrecision(e),i=b.getVersionPrecision(r);let o=Math.max(s,i),a=0;const c=b.map([e,r],u=>{const l=o-b.getVersionPrecision(u),d=u+new Array(l+1).join(".0");return b.map(d.split("."),f=>new Array(20-f.length).join("0")+f).reverse()});for(n&&(a=o-Math.min(s,i)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let s;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(s=0;s<e.length;s+=1)n.push(r(e[s]));return n}static find(e,r){let n,s;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,s=e.length;n<s;n+=1){const i=e[n];if(r(i,n))return i}}static assign(e,...r){const n=e;let s,i;if(Object.assign)return Object.assign(e,...r);for(s=0,i=r.length;s<i;s+=1){const o=r[s];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return bg[e]}static getBrowserTypeByAlias(e){return Fu[e]||""}}const N=/version\/(\d+(\.?_?\d+)+)/i,wg=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=b.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=b.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=b.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=b.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=b.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=b.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=b.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=b.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=b.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=b.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=b.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=b.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=b.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=b.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=b.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=b.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=b.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=b.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=b.getFirstMatch(N,t)||b.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=b.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=b.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=b.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=b.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=b.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=b.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=b.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=b.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=b.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=b.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,s=t.search("\\(")!==-1?r:e;return{name:b.getFirstMatch(s,t),version:b.getSecondMatch(s,t)}}}],xg=[{test:[/Roku\/DVP/],describe(t){const e=b.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:oe.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=b.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:oe.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=b.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=b.getWindowsVersionName(e);return{name:oe.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:oe.iOS},r=b.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=b.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=b.getMacOSVersionName(e),n={name:oe.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=b.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:oe.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=b.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=b.getAndroidVersionName(e),n={name:oe.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=b.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:oe.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=b.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||b.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||b.getFirstMatch(/\bbb(\d+)/i,t);return{name:oe.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=b.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:oe.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=b.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:oe.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:oe.Linux}}},{test:[/CrOS/],describe(){return{name:oe.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=b.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:oe.PlayStation4,version:e}}}],_g=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=b.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:j.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:j.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:j.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:j.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:j.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=b.getFirstMatch(/(ipod|iphone)/i,t);return{type:j.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:j.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:j.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:j.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:j.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:j.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:j.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:j.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:j.tv}}}],vg=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Ue.Blink};const r=b.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Ue.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Ue.Trident},r=b.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Ue.Presto},r=b.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Ue.Gecko},r=b.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Ue.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Ue.WebKit},r=b.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class Vi{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=b.find(wg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=b.find(xg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=b.find(_g,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=b.find(vg,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return b.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const s={};let i=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(s[a]=c,i+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=b.find(a,l=>this.isOS(l));if(c){const l=this.satisfies(r[c]);if(l!==void 0)return l}const u=b.find(a,l=>this.isPlatform(l));if(u){const l=this.satisfies(r[u]);if(l!==void 0)return l}}if(i>0){const a=Object.keys(s),c=b.find(a,u=>this.isBrowser(u,!0));if(c!==void 0)return this.compareVersion(s[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let s=e.toLowerCase();const i=b.getBrowserTypeByAlias(s);return r&&i&&(s=i.toLowerCase()),s===n}compareVersion(e){let r=[0],n=e,s=!1;const i=this.getBrowserVersion();if(typeof i=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(s=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(s=!0,n=e.substr(1)),r.indexOf(b.compareVersions(i,n,s))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class $u{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new Vi(e,r)}static parse(e){return new Vi(e).getResult()}static get BROWSER_MAP(){return Fu}static get ENGINE_MAP(){return Ue}static get OS_MAP(){return oe}static get PLATFORMS_MAP(){return j}}const Eg=({serviceId:t,clientVersion:e})=>async()=>{var s,i,o,a,c;const r=typeof window<"u"&&((s=window==null?void 0:window.navigator)!=null&&s.userAgent)?$u.parse(window.navigator.userAgent):void 0,n=[["aws-sdk-js",e],["ua","2.0"],[`os/${((i=r==null?void 0:r.os)==null?void 0:i.name)||"other"}`,(o=r==null?void 0:r.os)==null?void 0:o.version],["lang/js"],["md/browser",`${((a=r==null?void 0:r.browser)==null?void 0:a.name)??"unknown"}_${((c=r==null?void 0:r.browser)==null?void 0:c.version)??"unknown"}`]];return t&&n.push([`api/${t}`,e]),n};function Sg(t){let e=0,r=0,n=null,s=null;const i=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},o=async function*(){const a=t[Symbol.asyncIterator]();for(;;){const{value:c,done:u}=await a.next();if(u){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}const l=c.length;let d=0;for(;d<l;){if(!n){const p=l-d;s||(s=new Uint8Array(4));const g=Math.min(4-r,p);if(s.set(c.slice(d,d+g),r),r+=g,d+=g,r<4)break;i(new DataView(s.buffer).getUint32(0,!1)),s=null}const f=Math.min(e-r,l-d);n.set(c.slice(d,d+f),r),r+=f,d+=f,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:o}}function Ag(t,e){return async function(r){const{value:n}=r.headers[":message-type"];if(n==="error"){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}else if(n==="exception"){const s=r.headers[":exception-type"].value,i={[s]:r},o=await t(i);if(o.$unknown){const a=new Error(e(r.body));throw a.name=s,a}throw o[s]}else if(n==="event"){const s={[r.headers[":event-type"].value]:r},i=await t(s);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}let Cg=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new Vf(e,r),this.utfEncoder=e}deserialize(e,r){const n=Sg(e);return new Kf({messageStream:new Gf({inputStream:n,decoder:this.eventStreamCodec}),deserializer:Ag(r,this.utfEncoder)})}serialize(e,r){return new Wf({messageStream:new Zf({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}};const Tg=t=>({[Symbol.asyncIterator]:async function*(){const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)return;yield n}}finally{e.releaseLock()}}}),Og=t=>{const e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){const{done:n,value:s}=await e.next();if(n)return r.close();r.enqueue(s)}})};class Rg{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new Cg({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){const n=Pg(e)?Tg(e):e;return this.universalMarshaller.deserialize(n,r)}serialize(e,r){const n=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?Og(n):n}}const Pg=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,kg=t=>new Rg(t);function Bg(t,e,r=1024*1024){return new Promise((n,s)=>{const i=new FileReader;i.addEventListener("error",s),i.addEventListener("abort",s);const o=t.size;let a=0;function c(){if(a>=o){n();return}i.readAsArrayBuffer(t.slice(a,Math.min(o,a+r)))}i.addEventListener("load",u=>{const l=u.target.result;e(new Uint8Array(l)),a+=l.byteLength,c()}),c()})}const Fg=async function(e,r){const n=new e;return await Bg(r,s=>{n.update(s)}),n.digest()},$g=t=>()=>Promise.reject(t),$e=64,Ng=16,Dg=[1732584193,4023233417,2562383102,271733878];class Mg{constructor(){this.reset()}update(e){if(Ig(e))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const r=Ug(e);let n=0,{byteLength:s}=r;for(this.bytesHashed+=s;s>0;)this.buffer.setUint8(this.bufferLength++,r[n++]),s--,this.bufferLength===$e&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){const{buffer:r,bufferLength:n,bytesHashed:s}=this,i=s*8;if(r.setUint8(this.bufferLength++,128),n%$e>=$e-8){for(let o=this.bufferLength;o<$e;o++)r.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(let o=this.bufferLength;o<$e-8;o++)r.setUint8(o,0);r.setUint32($e-8,i>>>0,!0),r.setUint32($e-4,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}const e=new DataView(new ArrayBuffer(Ng));for(let r=0;r<4;r++)e.setUint32(r*4,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){const{buffer:e,state:r}=this;let n=r[0],s=r[1],i=r[2],o=r[3];n=te(n,s,i,o,e.getUint32(0,!0),7,3614090360),o=te(o,n,s,i,e.getUint32(4,!0),12,3905402710),i=te(i,o,n,s,e.getUint32(8,!0),17,606105819),s=te(s,i,o,n,e.getUint32(12,!0),22,3250441966),n=te(n,s,i,o,e.getUint32(16,!0),7,4118548399),o=te(o,n,s,i,e.getUint32(20,!0),12,1200080426),i=te(i,o,n,s,e.getUint32(24,!0),17,2821735955),s=te(s,i,o,n,e.getUint32(28,!0),22,4249261313),n=te(n,s,i,o,e.getUint32(32,!0),7,1770035416),o=te(o,n,s,i,e.getUint32(36,!0),12,2336552879),i=te(i,o,n,s,e.getUint32(40,!0),17,4294925233),s=te(s,i,o,n,e.getUint32(44,!0),22,2304563134),n=te(n,s,i,o,e.getUint32(48,!0),7,1804603682),o=te(o,n,s,i,e.getUint32(52,!0),12,4254626195),i=te(i,o,n,s,e.getUint32(56,!0),17,2792965006),s=te(s,i,o,n,e.getUint32(60,!0),22,1236535329),n=re(n,s,i,o,e.getUint32(4,!0),5,4129170786),o=re(o,n,s,i,e.getUint32(24,!0),9,3225465664),i=re(i,o,n,s,e.getUint32(44,!0),14,643717713),s=re(s,i,o,n,e.getUint32(0,!0),20,3921069994),n=re(n,s,i,o,e.getUint32(20,!0),5,3593408605),o=re(o,n,s,i,e.getUint32(40,!0),9,38016083),i=re(i,o,n,s,e.getUint32(60,!0),14,3634488961),s=re(s,i,o,n,e.getUint32(16,!0),20,3889429448),n=re(n,s,i,o,e.getUint32(36,!0),5,568446438),o=re(o,n,s,i,e.getUint32(56,!0),9,3275163606),i=re(i,o,n,s,e.getUint32(12,!0),14,4107603335),s=re(s,i,o,n,e.getUint32(32,!0),20,1163531501),n=re(n,s,i,o,e.getUint32(52,!0),5,2850285829),o=re(o,n,s,i,e.getUint32(8,!0),9,4243563512),i=re(i,o,n,s,e.getUint32(28,!0),14,1735328473),s=re(s,i,o,n,e.getUint32(48,!0),20,2368359562),n=ne(n,s,i,o,e.getUint32(20,!0),4,4294588738),o=ne(o,n,s,i,e.getUint32(32,!0),11,2272392833),i=ne(i,o,n,s,e.getUint32(44,!0),16,1839030562),s=ne(s,i,o,n,e.getUint32(56,!0),23,4259657740),n=ne(n,s,i,o,e.getUint32(4,!0),4,2763975236),o=ne(o,n,s,i,e.getUint32(16,!0),11,1272893353),i=ne(i,o,n,s,e.getUint32(28,!0),16,4139469664),s=ne(s,i,o,n,e.getUint32(40,!0),23,3200236656),n=ne(n,s,i,o,e.getUint32(52,!0),4,681279174),o=ne(o,n,s,i,e.getUint32(0,!0),11,3936430074),i=ne(i,o,n,s,e.getUint32(12,!0),16,3572445317),s=ne(s,i,o,n,e.getUint32(24,!0),23,76029189),n=ne(n,s,i,o,e.getUint32(36,!0),4,3654602809),o=ne(o,n,s,i,e.getUint32(48,!0),11,3873151461),i=ne(i,o,n,s,e.getUint32(60,!0),16,530742520),s=ne(s,i,o,n,e.getUint32(8,!0),23,3299628645),n=se(n,s,i,o,e.getUint32(0,!0),6,4096336452),o=se(o,n,s,i,e.getUint32(28,!0),10,1126891415),i=se(i,o,n,s,e.getUint32(56,!0),15,2878612391),s=se(s,i,o,n,e.getUint32(20,!0),21,4237533241),n=se(n,s,i,o,e.getUint32(48,!0),6,1700485571),o=se(o,n,s,i,e.getUint32(12,!0),10,2399980690),i=se(i,o,n,s,e.getUint32(40,!0),15,4293915773),s=se(s,i,o,n,e.getUint32(4,!0),21,2240044497),n=se(n,s,i,o,e.getUint32(32,!0),6,1873313359),o=se(o,n,s,i,e.getUint32(60,!0),10,4264355552),i=se(i,o,n,s,e.getUint32(24,!0),15,2734768916),s=se(s,i,o,n,e.getUint32(52,!0),21,1309151649),n=se(n,s,i,o,e.getUint32(16,!0),6,4149444226),o=se(o,n,s,i,e.getUint32(44,!0),10,3174756917),i=se(i,o,n,s,e.getUint32(8,!0),15,718787259),s=se(s,i,o,n,e.getUint32(36,!0),21,3951481745),r[0]=n+r[0]&4294967295,r[1]=s+r[1]&4294967295,r[2]=i+r[2]&4294967295,r[3]=o+r[3]&4294967295}reset(){this.state=Uint32Array.from(Dg),this.buffer=new DataView(new ArrayBuffer($e)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Tr(t,e,r,n,s,i){return e=(e+t&4294967295)+(n+i&4294967295)&4294967295,(e<<s|e>>>32-s)+r&4294967295}function te(t,e,r,n,s,i,o){return Tr(e&r|~e&n,t,e,s,i,o)}function re(t,e,r,n,s,i,o){return Tr(e&n|r&~n,t,e,s,i,o)}function ne(t,e,r,n,s,i,o){return Tr(e^r^n,t,e,s,i,o)}function se(t,e,r,n,s,i,o){return Tr(r^(e|~n),t,e,s,i,o)}function Ig(t){return typeof t=="string"?t.length===0:t.byteLength===0}function Ug(t){return typeof t=="string"?Kt(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}const jg=t=>{if(typeof t=="string"){let e=t.length;for(let r=e-1;r>=0;r--){const n=t.charCodeAt(r);n>127&&n<=2047?e++:n>2047&&n<=65535&&(e+=2),n>=56320&&n<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)};class Lg{constructor(e){this.sigv4Signer=new Bn(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const ys="required",h="type",y="conditions",w="fn",x="argv",P="ref",J="assign",C="url",T="properties",ke="authSchemes",Be="disableDoubleEncoding",Fe="signingName",He="signingRegion",O="headers",Gi=!1,Se=!0,Ae="isSet",_="tree",ie="booleanEquals",A="error",br="aws.partition",I="stringEquals",q="getAttr",ye="name",Rt="substring",Nu="hardwareType",Du="regionPrefix",Wi="bucketAliasSuffix",Xn="outpostId",tt="isValidHostLabel",_e="not",Mu="parseURL",gs="s3-outposts",v="endpoint",Ki="aws.isVirtualHostableS3Bucket",ct="s3",Iu="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Uu="{url#scheme}://{Bucket}.{url#authority}{url#path}",ju="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Zi="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Lu="aws.parseArn",qu="bucketArn",Hu="arnType",wr="",ms="s3-object-lambda",zu="accesspoint",bs="accessPointName",Xi="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Yi="mrapPartition",Qi="outpostType",Ji="arnPrefix",Vu="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",eo="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Yn="{url#scheme}://{url#authority}{url#path}",to="https://s3.{partitionResult#dnsSuffix}",Yr={[ys]:!1,[h]:"String"},st={[ys]:!0,default:!1,[h]:"Boolean"},Qr={[ys]:!1,[h]:"Boolean"},we={[w]:ie,[x]:[{[P]:"Accelerate"},!0]},M={[w]:ie,[x]:[{[P]:"UseFIPS"},!0]},D={[w]:ie,[x]:[{[P]:"UseDualStack"},!0]},L={[w]:Ae,[x]:[{[P]:"Endpoint"}]},Gu={[w]:br,[x]:[{[P]:"Region"}],[J]:"partitionResult"},ro={[w]:I,[x]:[{[w]:q,[x]:[{[P]:"partitionResult"},ye]},"aws-cn"]},Wu={[w]:Ae,[x]:[{[P]:"Bucket"}]},Oe={[P]:"Bucket"},no={[P]:Nu},so={[y]:[{[w]:_e,[x]:[L]}],[A]:"Expected a endpoint to be specified but no endpoint was found",[h]:A},R={[w]:_e,[x]:[L]},ae={[w]:Mu,[x]:[{[P]:"Endpoint"}],[J]:"url"},rr={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:gs,[He]:"{Region}"}]},B={},Jr={[w]:ie,[x]:[{[P]:"ForcePathStyle"},!1]},qg={[P]:"ForcePathStyle"},V={[w]:ie,[x]:[{[P]:"Accelerate"},!1]},K={[w]:I,[x]:[{[P]:"Region"},"aws-global"]},Z={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ct,[He]:"us-east-1"}]},$={[w]:_e,[x]:[K]},X={[w]:ie,[x]:[{[P]:"UseGlobalEndpoint"},!0]},io={[C]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[T]:{[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ct,[He]:"{Region}"}]},[O]:{}},W={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ct,[He]:"{Region}"}]},Y={[w]:ie,[x]:[{[P]:"UseGlobalEndpoint"},!1]},F={[w]:ie,[x]:[{[P]:"UseDualStack"},!1]},oo={[C]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},k={[w]:ie,[x]:[{[P]:"UseFIPS"},!1]},ao={[C]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},uo={[C]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},en={[w]:ie,[x]:[{[w]:q,[x]:[{[P]:"url"},"isIp"]},!0]},Ku={[P]:"url"},tn={[w]:ie,[x]:[{[w]:q,[x]:[Ku,"isIp"]},!1]},rn={[C]:Iu,[T]:W,[O]:{}},Qn={[C]:Uu,[T]:W,[O]:{}},co={[v]:Qn,[h]:v},nn={[C]:ju,[T]:W,[O]:{}},lo={[C]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},nr={[A]:"Invalid region: region was not a valid DNS name.",[h]:A},ce={[P]:qu},Zu={[P]:Hu},sn={[w]:q,[x]:[ce,"service"]},ws={[P]:bs},fo={[y]:[D],[A]:"S3 Object Lambda does not support Dual-stack",[h]:A},ho={[y]:[we],[A]:"S3 Object Lambda does not support S3 Accelerate",[h]:A},po={[y]:[{[w]:Ae,[x]:[{[P]:"DisableAccessPoints"}]},{[w]:ie,[x]:[{[P]:"DisableAccessPoints"},!0]}],[A]:"Access points are not supported for this operation",[h]:A},on={[y]:[{[w]:Ae,[x]:[{[P]:"UseArnRegion"}]},{[w]:ie,[x]:[{[P]:"UseArnRegion"},!1]},{[w]:_e,[x]:[{[w]:I,[x]:[{[w]:q,[x]:[ce,"region"]},"{Region}"]}]}],[A]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:A},Xu={[w]:q,[x]:[{[P]:"bucketPartition"},ye]},Yu={[w]:q,[x]:[ce,"accountId"]},an={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ms,[He]:"{bucketArn#region}"}]},yo={[A]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:A},un={[A]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:A},cn={[A]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:A},ln={[A]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:A},go={[A]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:A},mo={[A]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:A},Pt={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ct,[He]:"{bucketArn#region}"}]},bo={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:gs,[He]:"{bucketArn#region}"}]},wo={[w]:Lu,[x]:[Oe]},xo={[C]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:W,[O]:{}},_o={[C]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:W,[O]:{}},vo={[C]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:W,[O]:{}},fn={[C]:Vu,[T]:W,[O]:{}},Eo={[C]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:W,[O]:{}},So={[P]:"UseObjectLambdaEndpoint"},dn={[ke]:[{[Be]:!0,[ye]:"sigv4",[Fe]:ms,[He]:"{Region}"}]},Ao={[C]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},Co={[C]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},To={[C]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},hn={[C]:Yn,[T]:W,[O]:{}},Oo={[C]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[T]:W,[O]:{}},pn=[{[P]:"Region"}],Hg=[{[P]:"Endpoint"}],Ro=[Oe],Po=[{[w]:tt,[x]:[{[P]:Xn},!1]}],ko=[{[w]:I,[x]:[{[P]:Du},"beta"]}],kt=[L,ae],Bo=[Wu],Ne=[Gu],Fo=[{[w]:tt,[x]:[{[P]:"Region"},!1]}],De=[{[w]:I,[x]:[{[P]:"Region"},"us-east-1"]}],yn=[{[w]:I,[x]:[Zu,zu]}],$o=[{[w]:q,[x]:[ce,"resourceId[1]"],[J]:bs},{[w]:_e,[x]:[{[w]:I,[x]:[ws,wr]}]}],zg=[ce,"resourceId[1]"],No=[D],gn=[we],mn=[{[w]:_e,[x]:[{[w]:I,[x]:[{[w]:q,[x]:[ce,"region"]},wr]}]}],Do=[{[w]:_e,[x]:[{[w]:Ae,[x]:[{[w]:q,[x]:[ce,"resourceId[2]"]}]}]}],Vg=[ce,"resourceId[2]"],bn=[{[w]:br,[x]:[{[w]:q,[x]:[ce,"region"]}],[J]:"bucketPartition"}],Mo=[{[w]:I,[x]:[Xu,{[w]:q,[x]:[{[P]:"partitionResult"},ye]}]}],wn=[{[w]:tt,[x]:[{[w]:q,[x]:[ce,"region"]},!0]}],xn=[{[w]:tt,[x]:[Yu,!1]}],Io=[{[w]:tt,[x]:[ws,!1]}],sr=[M],Uo=[{[w]:tt,[x]:[{[P]:"Region"},!0]}],Gg={version:"1.0",parameters:{Bucket:Yr,Region:Yr,UseFIPS:st,UseDualStack:st,Endpoint:Yr,ForcePathStyle:st,Accelerate:st,UseGlobalEndpoint:st,UseObjectLambdaEndpoint:Qr,DisableAccessPoints:Qr,DisableMultiRegionAccessPoints:st,UseArnRegion:Qr},rules:[{[y]:[{[w]:Ae,[x]:pn}],[h]:_,rules:[{[y]:[we,M],error:"Accelerate cannot be used with FIPS",[h]:A},{[y]:[D,L],error:"Cannot set dual-stack in combination with a custom endpoint.",[h]:A},{[y]:[L,M],error:"A custom endpoint cannot be combined with FIPS",[h]:A},{[y]:[L,we],error:"A custom endpoint cannot be combined with S3 Accelerate",[h]:A},{[y]:[M,Gu,ro],error:"Partition does not support FIPS",[h]:A},{[y]:[Wu,{[w]:Rt,[x]:[Oe,49,50,Se],[J]:Nu},{[w]:Rt,[x]:[Oe,8,12,Se],[J]:Du},{[w]:Rt,[x]:[Oe,0,7,Se],[J]:Wi},{[w]:Rt,[x]:[Oe,32,49,Se],[J]:Xn},{[w]:br,[x]:pn,[J]:"regionPartition"},{[w]:I,[x]:[{[P]:Wi},"--op-s3"]}],[h]:_,rules:[{[y]:Po,[h]:_,rules:[{[y]:[{[w]:I,[x]:[no,"e"]}],[h]:_,rules:[{[y]:ko,[h]:_,rules:[so,{[y]:kt,endpoint:{[C]:"https://{Bucket}.ec2.{url#authority}",[T]:rr,[O]:B},[h]:v}]},{endpoint:{[C]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[T]:rr,[O]:B},[h]:v}]},{[y]:[{[w]:I,[x]:[no,"o"]}],[h]:_,rules:[{[y]:ko,[h]:_,rules:[so,{[y]:kt,endpoint:{[C]:"https://{Bucket}.op-{outpostId}.{url#authority}",[T]:rr,[O]:B},[h]:v}]},{endpoint:{[C]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[T]:rr,[O]:B},[h]:v}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:A}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:A}]},{[y]:Bo,[h]:_,rules:[{[y]:[L,{[w]:_e,[x]:[{[w]:Ae,[x]:[{[w]:Mu,[x]:Hg}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:A},{[y]:[Jr,{[w]:Ki,[x]:[Oe,Gi]}],[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Fo,[h]:_,rules:[{[y]:[we,ro],error:"S3 Accelerate cannot be used in this region",[h]:A},{[y]:[D,M,V,R,K],endpoint:{[C]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[D,M,V,R,$,X],[h]:_,rules:[{endpoint:io,[h]:v}]},{[y]:[D,M,V,R,$,Y],endpoint:io,[h]:v},{[y]:[F,M,V,R,K],endpoint:{[C]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[F,M,V,R,$,X],[h]:_,rules:[{endpoint:oo,[h]:v}]},{[y]:[F,M,V,R,$,Y],endpoint:oo,[h]:v},{[y]:[D,k,we,R,K],endpoint:{[C]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[D,k,we,R,$,X],[h]:_,rules:[{endpoint:ao,[h]:v}]},{[y]:[D,k,we,R,$,Y],endpoint:ao,[h]:v},{[y]:[D,k,V,R,K],endpoint:{[C]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[D,k,V,R,$,X],[h]:_,rules:[{endpoint:uo,[h]:v}]},{[y]:[D,k,V,R,$,Y],endpoint:uo,[h]:v},{[y]:[F,k,V,L,ae,en,K],endpoint:{[C]:Iu,[T]:Z,[O]:B},[h]:v},{[y]:[F,k,V,L,ae,tn,K],endpoint:{[C]:Uu,[T]:Z,[O]:B},[h]:v},{[y]:[F,k,V,L,ae,en,$,X],[h]:_,rules:[{[y]:De,endpoint:rn,[h]:v},{endpoint:rn,[h]:v}]},{[y]:[F,k,V,L,ae,tn,$,X],[h]:_,rules:[{[y]:De,endpoint:Qn,[h]:v},co]},{[y]:[F,k,V,L,ae,en,$,Y],endpoint:rn,[h]:v},{[y]:[F,k,V,L,ae,tn,$,Y],endpoint:Qn,[h]:v},{[y]:[F,k,we,R,K],endpoint:{[C]:ju,[T]:Z,[O]:B},[h]:v},{[y]:[F,k,we,R,$,X],[h]:_,rules:[{[y]:De,endpoint:nn,[h]:v},{endpoint:nn,[h]:v}]},{[y]:[F,k,we,R,$,Y],endpoint:nn,[h]:v},{[y]:[F,k,V,R,K],endpoint:{[C]:Zi,[T]:Z,[O]:B},[h]:v},{[y]:[F,k,V,R,$,X],[h]:_,rules:[{[y]:De,endpoint:{[C]:Zi,[T]:W,[O]:B},[h]:v},{endpoint:lo,[h]:v}]},{[y]:[F,k,V,R,$,Y],endpoint:lo,[h]:v}]},nr]}]},{[y]:[L,ae,{[w]:I,[x]:[{[w]:q,[x]:[Ku,"scheme"]},"http"]},{[w]:Ki,[x]:[Oe,Se]},Jr,k,F,V],[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Fo,[h]:_,rules:[co]},nr]}]},{[y]:[Jr,{[w]:Lu,[x]:Ro,[J]:qu}],[h]:_,rules:[{[y]:[{[w]:q,[x]:[ce,"resourceId[0]"],[J]:Hu},{[w]:_e,[x]:[{[w]:I,[x]:[Zu,wr]}]}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[sn,ms]}],[h]:_,rules:[{[y]:yn,[h]:_,rules:[{[y]:$o,[h]:_,rules:[fo,ho,{[y]:mn,[h]:_,rules:[po,{[y]:Do,[h]:_,rules:[on,{[y]:bn,[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Mo,[h]:_,rules:[{[y]:wn,[h]:_,rules:[{[y]:[{[w]:I,[x]:[Yu,wr]}],error:"Invalid ARN: Missing account id",[h]:A},{[y]:xn,[h]:_,rules:[{[y]:Io,[h]:_,rules:[{[y]:kt,endpoint:{[C]:Xi,[T]:an,[O]:B},[h]:v},{[y]:sr,endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:an,[O]:B},[h]:v},{endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:an,[O]:B},[h]:v}]},yo]},un]},cn]},ln]}]}]},go]},{error:"Invalid ARN: bucket ARN is missing a region",[h]:A}]},mo]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:A}]},{[y]:yn,[h]:_,rules:[{[y]:$o,[h]:_,rules:[{[y]:mn,[h]:_,rules:[{[y]:yn,[h]:_,rules:[{[y]:mn,[h]:_,rules:[po,{[y]:Do,[h]:_,rules:[on,{[y]:bn,[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:[{[w]:I,[x]:[Xu,"{partitionResult#name}"]}],[h]:_,rules:[{[y]:wn,[h]:_,rules:[{[y]:[{[w]:I,[x]:[sn,ct]}],[h]:_,rules:[{[y]:xn,[h]:_,rules:[{[y]:Io,[h]:_,rules:[{[y]:gn,error:"Access Points do not support S3 Accelerate",[h]:A},{[y]:[M,D],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:Pt,[O]:B},[h]:v},{[y]:[M,F],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:Pt,[O]:B},[h]:v},{[y]:[k,D],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:Pt,[O]:B},[h]:v},{[y]:[k,F,L,ae],endpoint:{[C]:Xi,[T]:Pt,[O]:B},[h]:v},{[y]:[k,F],endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:Pt,[O]:B},[h]:v}]},yo]},un]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:A}]},cn]},ln]}]}]},go]}]}]},{[y]:[{[w]:tt,[x]:[ws,Se]}],[h]:_,rules:[{[y]:No,error:"S3 MRAP does not support dual-stack",[h]:A},{[y]:sr,error:"S3 MRAP does not support FIPS",[h]:A},{[y]:gn,error:"S3 MRAP does not support S3 Accelerate",[h]:A},{[y]:[{[w]:ie,[x]:[{[P]:"DisableMultiRegionAccessPoints"},Se]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:A},{[y]:[{[w]:br,[x]:pn,[J]:Yi}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[{[w]:q,[x]:[{[P]:Yi},ye]},{[w]:q,[x]:[ce,"partition"]}]}],[h]:_,rules:[{endpoint:{[C]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[T]:{[ke]:[{[Be]:Se,name:"sigv4a",[Fe]:ct,signingRegionSet:["*"]}]},[O]:B},[h]:v}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:A}]}]},{error:"Invalid Access Point Name",[h]:A}]},mo]},{[y]:[{[w]:I,[x]:[sn,gs]}],[h]:_,rules:[{[y]:No,error:"S3 Outposts does not support Dual-stack",[h]:A},{[y]:sr,error:"S3 Outposts does not support FIPS",[h]:A},{[y]:gn,error:"S3 Outposts does not support S3 Accelerate",[h]:A},{[y]:[{[w]:Ae,[x]:[{[w]:q,[x]:[ce,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:A},{[y]:[{[w]:q,[x]:zg,[J]:Xn}],[h]:_,rules:[{[y]:Po,[h]:_,rules:[on,{[y]:bn,[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Mo,[h]:_,rules:[{[y]:wn,[h]:_,rules:[{[y]:xn,[h]:_,rules:[{[y]:[{[w]:q,[x]:Vg,[J]:Qi}],[h]:_,rules:[{[y]:[{[w]:q,[x]:[ce,"resourceId[3]"],[J]:bs}],[h]:_,rules:[{[y]:[{[w]:I,[x]:[{[P]:Qi},zu]}],[h]:_,rules:[{[y]:kt,endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[T]:bo,[O]:B},[h]:v},{endpoint:{[C]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[T]:bo,[O]:B},[h]:v}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:A}]},{error:"Invalid ARN: expected an access point name",[h]:A}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:A}]},un]},cn]},ln]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:A}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:A}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:A}]},{error:"Invalid ARN: No ARN type specified",[h]:A}]},{[y]:[{[w]:Rt,[x]:[Oe,0,4,Gi],[J]:Ji},{[w]:I,[x]:[{[P]:Ji},"arn:"]},{[w]:_e,[x]:[{[w]:Ae,[x]:[wo]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:A},{[y]:[{[w]:ie,[x]:[qg,Se]},wo],error:"Path-style addressing cannot be used with ARN buckets",[h]:A},{[y]:[{[w]:"uriEncode",[x]:Ro,[J]:"uri_encoded_bucket"}],[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:[V],[h]:_,rules:[{[y]:[D,R,M,K],endpoint:{[C]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:Z,[O]:B},[h]:v},{[y]:[D,R,M,$,X],[h]:_,rules:[{endpoint:xo,[h]:v}]},{[y]:[D,R,M,$,Y],endpoint:xo,[h]:v},{[y]:[F,R,M,K],endpoint:{[C]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:Z,[O]:B},[h]:v},{[y]:[F,R,M,$,X],[h]:_,rules:[{endpoint:_o,[h]:v}]},{[y]:[F,R,M,$,Y],endpoint:_o,[h]:v},{[y]:[D,R,k,K],endpoint:{[C]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[T]:Z,[O]:B},[h]:v},{[y]:[D,R,k,$,X],[h]:_,rules:[{endpoint:vo,[h]:v}]},{[y]:[D,R,k,$,Y],endpoint:vo,[h]:v},{[y]:[F,L,ae,k,K],endpoint:{[C]:Vu,[T]:Z,[O]:B},[h]:v},{[y]:[F,L,ae,k,$,X],[h]:_,rules:[{[y]:De,endpoint:fn,[h]:v},{endpoint:fn,[h]:v}]},{[y]:[F,L,ae,k,$,Y],endpoint:fn,[h]:v},{[y]:[F,R,k,K],endpoint:{[C]:eo,[T]:Z,[O]:B},[h]:v},{[y]:[F,R,k,$,X],[h]:_,rules:[{[y]:De,endpoint:{[C]:eo,[T]:W,[O]:B},[h]:v},{endpoint:Eo,[h]:v}]},{[y]:[F,R,k,$,Y],endpoint:Eo,[h]:v}]},{error:"Path-style addressing cannot be used with S3 Accelerate",[h]:A}]}]}]},{[y]:[{[w]:Ae,[x]:[So]},{[w]:ie,[x]:[So,Se]}],[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Uo,[h]:_,rules:[fo,ho,{[y]:kt,endpoint:{[C]:Yn,[T]:dn,[O]:B},[h]:v},{[y]:sr,endpoint:{[C]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[T]:dn,[O]:B},[h]:v},{endpoint:{[C]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[T]:dn,[O]:B},[h]:v}]},nr]}]},{[y]:[{[w]:_e,[x]:Bo}],[h]:_,rules:[{[y]:Ne,[h]:_,rules:[{[y]:Uo,[h]:_,rules:[{[y]:[M,D,R,K],endpoint:{[C]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[M,D,R,$,X],[h]:_,rules:[{endpoint:Ao,[h]:v}]},{[y]:[M,D,R,$,Y],endpoint:Ao,[h]:v},{[y]:[M,F,R,K],endpoint:{[C]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[M,F,R,$,X],[h]:_,rules:[{endpoint:Co,[h]:v}]},{[y]:[M,F,R,$,Y],endpoint:Co,[h]:v},{[y]:[k,D,R,K],endpoint:{[C]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[T]:Z,[O]:B},[h]:v},{[y]:[k,D,R,$,X],[h]:_,rules:[{endpoint:To,[h]:v}]},{[y]:[k,D,R,$,Y],endpoint:To,[h]:v},{[y]:[k,F,L,ae,K],endpoint:{[C]:Yn,[T]:Z,[O]:B},[h]:v},{[y]:[k,F,L,ae,$,X],[h]:_,rules:[{[y]:De,endpoint:hn,[h]:v},{endpoint:hn,[h]:v}]},{[y]:[k,F,L,ae,$,Y],endpoint:hn,[h]:v},{[y]:[k,F,R,K],endpoint:{[C]:to,[T]:Z,[O]:B},[h]:v},{[y]:[k,F,R,$,X],[h]:_,rules:[{[y]:De,endpoint:{[C]:to,[T]:W,[O]:B},[h]:v},{endpoint:Oo,[h]:v}]},{[y]:[k,F,R,$,Y],endpoint:Oo,[h]:v}]},nr]}]}]},{error:"A region must be set when sending requests to S3.",[h]:A}]},Wg=Gg,Kg=(t,e={})=>Yd(Wg,{endpointParams:t,logger:e.logger}),Zg=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??ds,base64Encoder:(t==null?void 0:t.base64Encoder)??hs,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??Kg,extensions:(t==null?void 0:t.extensions)??[],getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??pp,logger:(t==null?void 0:t.logger)??new cp,sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??_p,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??Lg,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??hr,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??Kt,utf8Encoder:(t==null?void 0:t.utf8Encoder)??Ar}),Xg=["in-region","cross-region","mobile","standard","legacy"],Yg=({defaultsMode:t}={})=>Ra(async()=>{const e=typeof t=="function"?await t():t;switch(e==null?void 0:e.toLowerCase()){case"auto":return Promise.resolve(Qg()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e==null?void 0:e.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Xg.join(", ")}, got ${e}`)}}),Qg=()=>{var r,n;const t=typeof window<"u"&&((r=window==null?void 0:window.navigator)!=null&&r.userAgent)?$u.parse(window.navigator.userAgent):void 0,e=(n=t==null?void 0:t.platform)==null?void 0:n.type;return e==="tablet"||e==="mobile"},Jg=t=>{const e=Yg(t),r=()=>e().then(kp),n=Zg(t);return{...n,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??jg,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??(s=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??Eg({serviceId:n.serviceId,clientVersion:a0.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??kg,maxAttempts:(t==null?void 0:t.maxAttempts)??pr,md5:(t==null?void 0:t.md5)??Mg,region:(t==null?void 0:t.region)??$g("Region is missing"),requestHandler:(t==null?void 0:t.requestHandler)??new mp(r),retryMode:(t==null?void 0:t.retryMode)??(async()=>(await r()).retryMode||kh),sha1:(t==null?void 0:t.sha1)??pu.Sha1,sha256:(t==null?void 0:t.sha256)??Au.Sha256,streamCollector:(t==null?void 0:t.streamCollector)??fu,streamHasher:(t==null?void 0:t.streamHasher)??Fg,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??(()=>Promise.resolve(nh)),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??(()=>Promise.resolve(sh))}},em=t=>t,tm=(t,e)=>{const r={...em(Dp(t))};return e.forEach(n=>n.configure(r)),{...t,...Mp(r)}};class rm extends lp{constructor(...[e]){const r=Jg(e||{}),n=qp(r),s=ih(n),i=Ph(s),o=tp(i),a=o,c=xd(a),u=Zl(c),l=Cd(u),d=oh(l),f=tm(d,(e==null?void 0:e.extensions)||[]);super(f),this.config=f,this.middlewareStack.use(ap(this.config)),this.middlewareStack.use(fh(this.config)),this.middlewareStack.use(Dl(this.config)),this.middlewareStack.use(Ul(this.config)),this.middlewareStack.use(zl(this.config)),this.middlewareStack.use(Ad(this.config)),this.middlewareStack.use(Jl(this.config)),this.middlewareStack.use(Fl(this.config)),this.middlewareStack.use(rh(this.config))}destroy(){super.destroy()}}var xs={},Or={};(function(t){const e=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=e+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",n="["+e+"]["+r+"]*",s=new RegExp("^"+n+"$"),i=function(a,c){const u=[];let l=c.exec(a);for(;l;){const d=[];d.startIndex=c.lastIndex-l[0].length;const f=l.length;for(let p=0;p<f;p++)d.push(l[p]);u.push(d),l=c.exec(a)}return u},o=function(a){const c=s.exec(a);return!(c===null||typeof c>"u")};t.isExist=function(a){return typeof a<"u"},t.isEmptyObject=function(a){return Object.keys(a).length===0},t.merge=function(a,c,u){if(c){const l=Object.keys(c),d=l.length;for(let f=0;f<d;f++)u==="strict"?a[l[f]]=[c[l[f]]]:a[l[f]]=c[l[f]]}},t.getValue=function(a){return t.isExist(a)?a:""},t.isName=o,t.getAllMatches=i,t.nameRegexp=n})(Or);const _s=Or,nm={allowBooleanAttributes:!1,unpairedTags:[]};xs.validate=function(t,e){e=Object.assign({},nm,e);const r=[];let n=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let i=0;i<t.length;i++)if(t[i]==="<"&&t[i+1]==="?"){if(i+=2,i=Lo(t,i),i.err)return i}else if(t[i]==="<"){let o=i;if(i++,t[i]==="!"){i=qo(t,i);continue}else{let a=!1;t[i]==="/"&&(a=!0,i++);let c="";for(;i<t.length&&t[i]!==">"&&t[i]!==" "&&t[i]!=="	"&&t[i]!==`
`&&t[i]!=="\r";i++)c+=t[i];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),i--),!fm(c)){let d;return c.trim().length===0?d="Invalid space after '<'.":d="Tag '"+c+"' is an invalid name.",G("InvalidTag",d,ue(t,i))}const u=om(t,i);if(u===!1)return G("InvalidAttr","Attributes for '"+c+"' have open quote.",ue(t,i));let l=u.value;if(i=u.index,l[l.length-1]==="/"){const d=i-l.length;l=l.substring(0,l.length-1);const f=Ho(l,e);if(f===!0)n=!0;else return G(f.err.code,f.err.msg,ue(t,d+f.err.line))}else if(a)if(u.tagClosed){if(l.trim().length>0)return G("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",ue(t,o));{const d=r.pop();if(c!==d.tagName){let f=ue(t,d.tagStartPos);return G("InvalidTag","Expected closing tag '"+d.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",ue(t,o))}r.length==0&&(s=!0)}}else return G("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",ue(t,i));else{const d=Ho(l,e);if(d!==!0)return G(d.err.code,d.err.msg,ue(t,i-l.length+d.err.line));if(s===!0)return G("InvalidXml","Multiple possible root nodes found.",ue(t,i));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(i++;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="!"){i++,i=qo(t,i);continue}else if(t[i+1]==="?"){if(i=Lo(t,++i),i.err)return i}else break;else if(t[i]==="&"){const d=cm(t,i);if(d==-1)return G("InvalidChar","char '&' is not expected.",ue(t,i));i=d}else if(s===!0&&!jo(t[i]))return G("InvalidXml","Extra text at the end",ue(t,i));t[i]==="<"&&i--}}else{if(jo(t[i]))continue;return G("InvalidChar","char '"+t[i]+"' is not expected.",ue(t,i))}if(n){if(r.length==1)return G("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",ue(t,r[0].tagStartPos));if(r.length>0)return G("InvalidXml","Invalid '"+JSON.stringify(r.map(i=>i.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return G("InvalidXml","Start tag expected.",1);return!0};function jo(t){return t===" "||t==="	"||t===`
`||t==="\r"}function Lo(t,e){const r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){const n=t.substr(r,e-r);if(e>5&&n==="xml")return G("InvalidXml","XML declaration allowed only at the start of the document.",ue(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function qo(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}const sm='"',im="'";function om(t,e){let r="",n="",s=!1;for(;e<t.length;e++){if(t[e]===sm||t[e]===im)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){s=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:s}}const am=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Ho(t,e){const r=_s.getAllMatches(t,am),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return G("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",Bt(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return G("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",Bt(r[s]));if(r[s][3]===void 0&&!e.allowBooleanAttributes)return G("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",Bt(r[s]));const i=r[s][2];if(!lm(i))return G("InvalidAttr","Attribute '"+i+"' is an invalid name.",Bt(r[s]));if(!n.hasOwnProperty(i))n[i]=1;else return G("InvalidAttr","Attribute '"+i+"' is repeated.",Bt(r[s]))}return!0}function um(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function cm(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,um(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function G(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function lm(t){return _s.isName(t)}function fm(t){return _s.isName(t)}function ue(t,e){const r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Bt(t){return t.startIndex+t[1].length}var vs={};const Qu={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},dm=function(t){return Object.assign({},Qu,t)};vs.buildOptions=dm;vs.defaultOptions=Qu;class hm{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}var pm=hm;const ym=Or;function gm(t,e){const r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,s=!1,i=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&wm(t,e))e+=7,[entityName,val,e]=mm(t,e+1),val.indexOf("&")===-1&&(r[Em(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(s&&xm(t,e))e+=8;else if(s&&_m(t,e))e+=8;else if(s&&vm(t,e))e+=9;else if(bm)i=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):n--,n===0)break}else t[e]==="["?s=!0:o+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function mm(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");const n=t[e++];let s="";for(;e<t.length&&t[e]!==n;e++)s+=t[e];return[r,s,e]}function bm(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function wm(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function xm(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function _m(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function vm(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function Em(t){if(ym.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}var Sm=gm;const Am=/^[-+]?0x[a-fA-F0-9]+$/,Cm=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Tm={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Om(t,e={}){if(e=Object.assign({},Tm,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&Am.test(r))return Number.parseInt(r,16);{const n=Cm.exec(r);if(n){const s=n[1],i=n[2];let o=Rm(n[3]);const a=n[4]||n[6];if(!e.leadingZeros&&i.length>0&&s&&r[2]!==".")return t;if(!e.leadingZeros&&i.length>0&&!s&&r[1]!==".")return t;{const c=Number(r),u=""+c;return u.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?u==="0"&&o===""||u===o||s&&u==="-"+o?c:t:i?o===u||s+o===u?c:t:r===u||r===s+u?c:t}}else return t}}function Rm(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}var Pm=Om;const Es=Or,Ft=pm,km=Sm,Bm=Pm;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Es.nameRegexp);let Fm=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=$m,this.parseXml=Um,this.parseTextData=Nm,this.resolveNameSpace=Dm,this.buildAttributesMap=Im,this.isItStopNode=Hm,this.replaceEntitiesValue=Lm,this.readStopNodeData=Vm,this.saveTextToParentTag=qm,this.addChild=jm}};function $m(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function Nm(t,e,r,n,s,i,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));const a=this.options.tagValueProcessor(e,t,r,s,i);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?es(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?es(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function Dm(t){if(this.options.removeNSPrefix){const e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}const Mm=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Im(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){const n=Es.getAllMatches(t,Mm),s=n.length,i={};for(let o=0;o<s;o++){const a=this.resolveNameSpace(n[o][1]);let c=n[o][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const l=this.options.attributeValueProcessor(a,c,e);l==null?i[u]=c:typeof l!=typeof c||l!==c?i[u]=l:i[u]=es(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(i[u]=!0)}if(!Object.keys(i).length)return;if(this.options.attributesGroupName){const o={};return o[this.options.attributesGroupName]=i,o}return i}}const Um=function(t){t=t.replace(/\r\n?/g,`
`);const e=new Ft("!xml");let r=e,n="",s="";for(let i=0;i<t.length;i++)if(t[i]==="<")if(t[i+1]==="/"){const a=Ze(t,">",i,"Closing Tag is not closed.");let c=t.substring(i+2,a).trim();if(this.options.removeNSPrefix){const d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s));const u=s.substring(s.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let l=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(l=s.lastIndexOf(".",s.lastIndexOf(".")-1),this.tagsNodeStack.pop()):l=s.lastIndexOf("."),s=s.substring(0,l),r=this.tagsNodeStack.pop(),n="",i=a}else if(t[i+1]==="?"){let a=Jn(t,i,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const c=new Ft(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s,a.tagName)),this.addChild(r,c,s)}i=a.closeIndex+1}else if(t.substr(i+1,3)==="!--"){const a=Ze(t,"-->",i+4,"Comment is not closed.");if(this.options.commentPropName){const c=t.substring(i+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}i=a}else if(t.substr(i+1,2)==="!D"){const a=km(t,i);this.docTypeEntities=a.entities,i=a.i}else if(t.substr(i+1,2)==="!["){const a=Ze(t,"]]>",i,"CDATA is not closed.")-2,c=t.substring(i+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let u=this.parseTextData(c,r.tagname,s,!0,!1,!0);u==null&&(u=""),r.add(this.options.textNodeName,u)}i=a+2}else{let a=Jn(t,i,this.options.removeNSPrefix),c=a.tagName,u=a.tagExp,l=a.attrExpPresent,d=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1));const f=r;if(f&&this.options.unpairedTags.indexOf(f.tagname)!==-1&&(r=this.tagsNodeStack.pop(),s=s.substring(0,s.lastIndexOf("."))),c!==e.tagname&&(s+=s?"."+c:c),this.isItStopNode(this.options.stopNodes,s,c)){let p="";if(u.length>0&&u.lastIndexOf("/")===u.length-1)i=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)i=a.closeIndex;else{const m=this.readStopNodeData(t,c,d+1);if(!m)throw new Error(`Unexpected end of ${c}`);i=m.i,p=m.tagContent}const g=new Ft(c);c!==u&&l&&(g[":@"]=this.buildAttributesMap(u,s,c)),p&&(p=this.parseTextData(p,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),g.add(this.options.textNodeName,p),this.addChild(r,g,s)}else{if(u.length>0&&u.lastIndexOf("/")===u.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),u=c):u=u.substr(0,u.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const p=new Ft(c);c!==u&&l&&(p[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,p,s),s=s.substr(0,s.lastIndexOf("."))}else{const p=new Ft(c);this.tagsNodeStack.push(r),c!==u&&l&&(p[":@"]=this.buildAttributesMap(u,s,c)),this.addChild(r,p,s),r=p}n="",i=d}}else n+=t[i];return e.child};function jm(t,e,r){const n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}const Lm=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){const r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){const r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){const r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function qm(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function Hm(t,e,r){const n="*."+r;for(const s in t){const i=t[s];if(n===i||e===i)return!0}return!1}function zm(t,e,r=">"){let n,s="";for(let i=e;i<t.length;i++){let o=t[i];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[i+1]===r[1])return{data:s,index:i}}else return{data:s,index:i};else o==="	"&&(o=" ");s+=o}}function Ze(t,e,r,n){const s=t.indexOf(e,r);if(s===-1)throw new Error(n);return s+e.length-1}function Jn(t,e,r,n=">"){const s=zm(t,e+1,n);if(!s)return;let i=s.data;const o=s.index,a=i.search(/\s/);let c=i,u=!0;if(a!==-1&&(c=i.substr(0,a).replace(/\s\s*$/,""),i=i.substr(a+1)),r){const l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),u=c!==s.data.substr(l+1))}return{tagName:c,tagExp:i,closeIndex:o,attrExpPresent:u}}function Vm(t,e,r){const n=r;let s=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){const i=Ze(t,">",r,`${e} is not closed`);if(t.substring(r+2,i).trim()===e&&(s--,s===0))return{tagContent:t.substring(n,r),i};r=i}else if(t[r+1]==="?")r=Ze(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Ze(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Ze(t,"]]>",r,"StopNode is not closed.")-2;else{const i=Jn(t,r,">");i&&((i&&i.tagName)===e&&i.tagExp[i.tagExp.length-1]!=="/"&&s++,r=i.closeIndex)}}function es(t,e,r){if(e&&typeof t=="string"){const n=t.trim();return n==="true"?!0:n==="false"?!1:Bm(t,r)}else return Es.isExist(t)?t:""}var Gm=Fm,Ju={};function Wm(t,e){return ec(t,e)}function ec(t,e,r){let n;const s={};for(let i=0;i<t.length;i++){const o=t[i],a=Km(o);let c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let u=ec(o[a],e,c);const l=Xm(u,e);o[":@"]?Zm(u,o[":@"],c,e):Object.keys(u).length===1&&u[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?u=u[e.textNodeName]:Object.keys(u).length===0&&(e.alwaysCreateTextNode?u[e.textNodeName]="":u=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(u)):e.isArray(a,c,l)?s[a]=[u]:s[a]=u}}}return typeof n=="string"?n.length>0&&(s[e.textNodeName]=n):n!==void 0&&(s[e.textNodeName]=n),s}function Km(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function Zm(t,e,r,n){if(e){const s=Object.keys(e),i=s.length;for(let o=0;o<i;o++){const a=s[o];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function Xm(t,e){const{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}Ju.prettify=Wm;const{buildOptions:Ym}=vs,Qm=Gm,{prettify:Jm}=Ju,eb=xs;let tb=class{constructor(e){this.externalEntities={},this.options=Ym(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});const i=eb.validate(e,r);if(i!==!0)throw Error(`${i.err.msg}:${i.err.line}:${i.err.col}`)}const n=new Qm(this.options);n.addExternalEntities(this.externalEntities);const s=n.parseXml(e);return this.options.preserveOrder||s===void 0?s:Jm(s,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};var rb=tb;const nb=`
`;function sb(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=nb),tc(t,e,"",r)}function tc(t,e,r,n){let s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o],c=ib(a);let u="";if(r.length===0?u=c:u=`${r}.${c}`,c===e.textNodeName){let g=a[c];ob(u,e)||(g=e.tagValueProcessor(c,g),g=rc(g,e)),i&&(s+=n),s+=g,i=!1;continue}else if(c===e.cdataPropName){i&&(s+=n),s+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,i=!1;continue}else if(c===e.commentPropName){s+=n+`<!--${a[c][0][e.textNodeName]}-->`,i=!0;continue}else if(c[0]==="?"){const g=zo(a[":@"],e),m=c==="?xml"?"":n;let S=a[c][0][e.textNodeName];S=S.length!==0?" "+S:"",s+=m+`<${c}${S}${g}?>`,i=!0;continue}let l=n;l!==""&&(l+=e.indentBy);const d=zo(a[":@"],e),f=n+`<${c}${d}`,p=tc(a[c],e,u,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?s+=f+">":s+=f+"/>":(!p||p.length===0)&&e.suppressEmptyNode?s+=f+"/>":p&&p.endsWith(">")?s+=f+`>${p}${n}</${c}>`:(s+=f+">",p&&n!==""&&(p.includes("/>")||p.includes("</"))?s+=n+e.indentBy+p+n:s+=p,s+=`</${c}>`),i=!0}return s}function ib(t){const e=Object.keys(t);for(let r=0;r<e.length;r++){const n=e[r];if(n!==":@")return n}}function zo(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let s=e.attributeValueProcessor(n,t[n]);s=rc(s,e),s===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${s}"`}return r}function ob(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function rc(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){const n=e.entities[r];t=t.replace(n.regex,n.val)}return t}var ab=sb;const ub=ab,cb={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ze(t){this.options=Object.assign({},cb,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=db),this.processTextOrObjNode=lb,this.options.format?(this.indentate=fb,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}ze.prototype.build=function(t){return this.options.preserveOrder?ub(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};ze.prototype.j2x=function(t,e){let r="",n="";for(let s in t)if(!(typeof t[s]>"u"))if(t[s]===null)s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){const i=this.isAttribute(s);if(i)r+=this.buildAttrPairStr(i,""+t[s]);else if(s===this.options.textNodeName){let o=this.options.tagValueProcessor(s,""+t[s]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){const i=t[s].length;let o="";for(let a=0;a<i;a++){const c=t[s][a];typeof c>"u"||(c===null?s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof c=="object"?this.options.oneListGroup?o+=this.j2x(c,e+1).val:o+=this.processTextOrObjNode(c,s,e):o+=this.buildTextValNode(c,s,"",e))}this.options.oneListGroup&&(o=this.buildObjectNode(o,s,"",e)),n+=o}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){const i=Object.keys(t[s]),o=i.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(i[a],""+t[s][i[a]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}};ze.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function lb(t,e,r){const n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}ze.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,i="";return e[0]==="?"&&(i="?",s=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+i+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&i.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+i+this.tagEndChar+t+this.indentate(n)+s}};ze.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};ze.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+s+"</"+e+this.tagEndChar}};ze.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){const r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function fb(t){return this.options.indentBy.repeat(t)}function db(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}var hb=ze;const pb=xs,yb=rb,gb=hb;var mb={XMLParser:yb,XMLValidator:pb,XMLBuilder:gb};class Ss extends ps{constructor(e){super(e),Object.setPrototypeOf(this,Ss.prototype)}}var Vo;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Vo||(Vo={}));var Go;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Go||(Go={}));var Wo;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Wo||(Wo={}));var Ko;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(Ko||(Ko={}));const bb=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:It},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:It}}),wb=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:It},...t.SSEKMSKeyId&&{SSEKMSKeyId:It},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:It}}),xb=async(t,e)=>{const{hostname:r,protocol:n="https",port:s,path:i}=await e.endpoint(),o=mr({},$t,{"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[()=>$t(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[()=>$t(t.Expires),()=>Cp(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>$t(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>$t(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((d,f)=>(d[`x-amz-meta-${f.toLowerCase()}`]=t.Metadata[f],d),{})});let a=`${i!=null&&i.endsWith("/")?i.slice(0,-1):i||""}/{Key+}`;a=vi(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=vi(a,t,"Key",()=>t.Key,"{Key+}",!0);const c=mr({"x-id":[,"PutObject"]});let u;t.Body!==void 0&&(u=t.Body);let l;return t.Body!==void 0&&(l=t.Body,u=l),new Pe({protocol:n,hostname:r,port:s,method:"PUT",headers:o,path:a,query:c,body:u})},_b=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return vb(t,e);const r=mr({$metadata:Sb(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Ep(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await du(t.body,e),r},vb=async(t,e)=>{const r={...t,body:await Tb(t.body,e)},n=Ob(t,r.body),s=r.body;return Eb({output:t,parsedBody:s,errorCode:n})},Eb=Rp(Ss),Sb=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Ab=(t,e)=>du(t,e).then(r=>e.utf8Encoder(r)),$t=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Cb=(t,e)=>Ab(t,e).then(r=>{if(r.length){const n=new mb.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,u)=>u.trim()===""&&u.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);const s=n.parse(r),i="#text",o=Object.keys(s)[0],a=s[o];return a[i]&&(a[o]=a[i],delete a[i]),hu(a)}return{}}),Tb=async(t,e)=>{const r=await Cb(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ob=(t,e)=>{if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};function Rb(t){return e=>async r=>{let n={...r.input};const s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const i of s){const o=n[i.target];if(o){const a=ArrayBuffer.isView(o)?new Uint8Array(o.buffer,o.byteOffset,o.byteLength):typeof o=="string"?t.utf8Decoder(o):new Uint8Array(o),c=t.base64Encoder(a),u=new t.md5;u.update(a),n={...n,[i.target]:c,[i.hash]:t.base64Encoder(await u.digest())}}}return e({...r,input:n})}}const Pb={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},kb=t=>({applyToStack:e=>{e.add(Rb(t),Pb)}});var ee;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(ee||(ee={}));var Zo;(function(t){t.HEADER="header",t.TRAILER="trailer"})(Zo||(Zo={}));const ts=[ee.CRC32,ee.CRC32C,ee.SHA1,ee.SHA256],Bb=[ee.CRC32,ee.CRC32C,ee.SHA1,ee.SHA256],Fb=(t,{requestChecksumRequired:e,requestAlgorithmMember:r})=>{if(!r||!t[r])return e?ee.MD5:void 0;const n=t[r];if(!ts.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${ts}.`);return n},nc=t=>t===ee.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`,$b=(t,e)=>{const r=t.toLowerCase();for(const n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1},As=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!qa(t);var _n={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rs=function(t,e){return rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},rs(t,e)};function Nb(t,e){rs(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ns=function(){return ns=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ns.apply(this,arguments)};function Db(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Mb(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Ib(t,e){return function(r,n){e(r,n,t)}}function Ub(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function jb(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(d){o(d)}}function c(l){try{u(n.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Lb(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function qb(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Hb(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function ss(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function zb(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sc(arguments[e]));return t}function Vb(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Wt(t){return this instanceof Wt?(this.v=t,this):new Wt(t)}function Gb(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){n[f]&&(s[f]=function(p){return new Promise(function(g,m){i.push([f,p,g,m])>1||a(f,p)})})}function a(f,p){try{c(n[f](p))}catch(g){d(i[0][3],g)}}function c(f){f.value instanceof Wt?Promise.resolve(f.value.v).then(u,l):d(i[0][2],f)}function u(f){a("next",f)}function l(f){a("throw",f)}function d(f,p){f(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Wb(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:Wt(t[s](o)),done:s==="return"}:i?i(o):o}:i}}function Kb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ss=="function"?ss(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function Zb(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Xb(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Yb(t){return t&&t.__esModule?t:{default:t}}function Qb(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Jb(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const ew=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return ns},__asyncDelegator:Wb,__asyncGenerator:Gb,__asyncValues:Kb,__await:Wt,__awaiter:jb,__classPrivateFieldGet:Qb,__classPrivateFieldSet:Jb,__createBinding:qb,__decorate:Mb,__exportStar:Hb,__extends:Nb,__generator:Lb,__importDefault:Yb,__importStar:Xb,__makeTemplateObject:Zb,__metadata:Ub,__param:Ib,__read:sc,__rest:Db,__spread:zb,__spreadArrays:Vb,__values:ss},Symbol.toStringTag,{value:"Module"})),ic=Re(ew);var Nt={},Xo;function tw(){if(Xo)return Nt;Xo=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.AwsCrc32c=void 0;var t=ic,e=qe(),r=oc(),n=function(){function s(){this.crc32c=new r.Crc32c}return s.prototype.update=function(i){(0,e.isEmptyData)(i)||this.crc32c.update((0,e.convertToBuffer)(i))},s.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(i){return[2,(0,e.numToUint8)(this.crc32c.digest())]})})},s.prototype.reset=function(){this.crc32c=new r.Crc32c},s}();return Nt.AwsCrc32c=n,Nt}var Yo;function oc(){return Yo||(Yo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32c=t.Crc32c=t.crc32c=void 0;var e=ic,r=qe();function n(c){return new s().update(c).digest()}t.crc32c=n;var s=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(u){var l,d;try{for(var f=e.__values(u),p=f.next();!p.done;p=f.next()){var g=p.value;this.checksum=this.checksum>>>8^o[(this.checksum^g)&255]}}catch(m){l={error:m}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();t.Crc32c=s;var i=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],o=(0,r.uint32ArrayFrom)(i),a=tw();Object.defineProperty(t,"AwsCrc32c",{enumerable:!0,get:function(){return a.AwsCrc32c}})}(_n)),_n}var rw=oc();const ac=(t,e)=>({[ee.MD5]:e.md5,[ee.CRC32]:cs.AwsCrc32,[ee.CRC32C]:rw.AwsCrc32c,[ee.SHA1]:e.sha1,[ee.SHA256]:e.sha256})[t],uc=(t,e)=>{const r=new t;return r.update(ot(e||"")),r.digest()},nw=(t,e)=>r=>async n=>{if(!Pe.isInstance(n.request))return r(n);const{request:s}=n,{body:i,headers:o}=s,{base64Encoder:a,streamHasher:c}=t,{input:u,requestChecksumRequired:l,requestAlgorithmMember:d}=e,f=Fb(u,{requestChecksumRequired:l,requestAlgorithmMember:d});let p=i,g=o;if(f){const S=nc(f),H=ac(f,t);if(As(i)){const{getAwsChunkedEncodingStream:U,bodyLengthChecker:ge}=t;p=U(i,{base64Encoder:a,bodyLengthChecker:ge,checksumLocationName:S,checksumAlgorithmFn:H,streamHasher:c}),g={...o,"content-encoding":o["content-encoding"]?`${o["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":o["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":S},delete g["content-length"]}else if(!$b(S,o)){const U=await uc(H,i);g={...o,[S]:a(U)}}}return await r({...n,request:{...s,headers:g,body:p}})};function Qo(t){return new Blob([t]).stream()}const sw=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{const s=As(t)?e(r,t):uc(r,t);return n(await s)},iw=(t=[])=>{const e=[];for(const r of Bb)!t.includes(r)||!ts.includes(r)||e.push(r);return e},ow=async(t,{config:e,responseAlgorithms:r})=>{const n=iw(r),{body:s,headers:i}=t;for(const o of n){const a=nc(o),c=i[a];if(c){const u=ac(o,e),{streamHasher:l,base64Encoder:d}=e,f=await sw(s,{streamHasher:l,checksumAlgorithmFn:u,base64Encoder:d});if(f===c)break;throw new Error(`Checksum mismatch: expected "${f}" but received "${c}" in response header "${a}".`)}}},aw={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},uw=(t,e)=>r=>async n=>{if(!Pe.isInstance(n.request))return r(n);const s=n.input,i=await r(n),o=i.response;let a;const{requestValidationModeMember:c,responseAlgorithms:u}=e;if(c&&s[c]==="ENABLED"){const l=As(o.body);l&&(a=await t.streamCollector(o.body),o.body=Qo(a)),await ow(i.response,{config:t,responseAlgorithms:u}),l&&a&&(o.body=Qo(a))}return i},cw={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},lw=(t,e)=>({applyToStack:r=>{r.add(nw(t,e),cw),r.addRelativeTo(uw(t,e),aw)}});class Cs extends vp{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Th(r,this.serialize,this.deserialize)),this.middlewareStack.use(Rh(r,Cs.getEndpointParameterInstructions())),this.middlewareStack.use(Kl()),this.middlewareStack.use(kb(r)),this.middlewareStack.use(lw(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));const s=e.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:wb,outputFilterSensitiveLog:bb},{requestHandler:u}=r;return s.resolve(l=>u.handle(l.request,n||{}),c)}serialize(e,r){return xb(e,r)}deserialize(e,r){return _b(e,r)}}const fw="dluhc-poc",dw=new rm({region:"us-east-1",credentials:{accessKeyId:"testaccesskey",secretAccessKey:"testsecretkey"},endpoint:"http://127.0.0.1:9000"}),hw=async(t,e)=>{const r={Bucket:fw,Key:`${t}.json`,Body:JSON.stringify(e),ContentType:"application/json; charset=utf-8"};dw.send(new Cs(r)).then(()=>{alert("Form uploaded successfully.")}).catch(n=>{console.log(n)})},cc="checkAnswers",lc="dynamicForm",Jo=(t,e,r)=>{var a;const n=fc(e,r),s={...t.properties,...n.properties};let i=[...t.required??[]];return(a=n.required)!=null&&a.length&&(i=[...i,...n.required]),{...t,properties:s,required:i}},fc=(t,e)=>{let r={type:t.type,title:t.title,dependencies:{},properties:{},required:t.required??[]};return Object.keys((t==null?void 0:t.properties)||{}).forEach(s=>{var i,o,a;(i=t.properties)!=null&&i[s]&&(((a=(o=t.properties)==null?void 0:o[s])==null?void 0:a.type)==="object"?r=Jo(r,t.properties[s],e):r.properties={...r.properties,[s]:t.properties[s]},t.dependencies&&t.dependencies[s]&&e[s]&&(r=Jo(r,t.dependencies[s],e)))}),r},pw=new Ac,yw=[lc,cc],gw=({filepath:t,data:e,uiSchema:r})=>{const[n,s]=dt(null),[i,o]=dt({}),[a,c]=dt(0),[u,l]=dt({}),[d,f]=dt(0);dc(()=>{e?s(e):t?hc(t).then(Ce=>{s(Ce)}):s(null)},[s,t,e]);const p=We(()=>n&&fc(n,i),[n,i]);if(!p||!(p!=null&&p.properties))return null;const g=We(()=>Object.keys(p.properties||{}),[p]),m=We(()=>g[a],[g,a]),S=We(()=>gl(m,p),[m,p]),H=()=>{!p||a<=0||c(a-1)},U=()=>{d<=0||f(d-1)},ge=()=>{if(!(!p||a>=g.length)){if(a>=g.length-1){f(d+1);return}try{S.validateSync({[m]:i[m]}),c(a+1),l({[m]:[]})}catch(Ce){const Ee=Ce;l({[m]:Ee.errors})}}},Ve=()=>{hw("local_plan",i)},Zt=(Ce,Ee)=>{const Yt={...i,[Ce]:Ee};o(Yt)};return E(xc,{client:pw,children:(()=>{var Ee;if(!p||!p.properties)return;switch(yw[d]){case lc:return E(Al,{title:p.properties[m].title,subtitle:p.properties[m].subtitle,onBackClicked:H,onContinueClicked:ge,children:[E(Sl,{id:m,formPageSchema:p.properties[m],uiSchema:r==null?void 0:r[m],value:i[m],onFormValueChange:Zt}),!!((Ee=u[m])!=null&&Ee.length)&&E("div",{children:u[m][0]})]});case cc:return E(Ol,{formSchema:p,formData:i,onBackClicked:U,onSubmitClicked:Ve})}})()})},mw=gw,Nw={component:mw,title:"SOW13/Site Selection Form",tags:["autodocs"]},ir={args:{data:{required:["siteUse","relationshipTo","address","name","age","consent"],type:"object",properties:{name:{type:"string",title:"Your name"},consent:{type:"boolean",title:"I confirm consent for my data to be processed"},siteUse:{type:"array",items:{type:"string"},title:"What use or uses do you think should be considered for this site?",subtitle:"You can choose as many uses as you'd like.",enum:["Housing","Industry - including distribution or logistics uses","Commercial uses - office, retails, leisure, hotel or mixed","Community uses","Minerals - extracting, processing , and so on","Waste - recycling or processing","Tourism","Gypsy and Traveller site","Travelling Show-people site","New public green space","Renewable energy","Energy storage","Other"]},relationshipTo:{type:"string",title:"Your relationship to the site",enum:["Landowner","Developer","Local Authority","Planning Agent","None"]},isBrownfieldSite:{type:"boolean",title:"Is this a Brownfield Site? "},age:{type:"number",title:"Age in years",step:1,min:18,max:35},address:{type:"string",title:"Please provide the fullest postal address you can"}}},uiSchema:{relationshipTo:{"ui:widget":"radio"},isBrownfieldSite:{"ui:widget":"radio"}}}},or={args:{data:{required:[],type:"object",properties:{groupedExample:{type:"object",properties:{parentQuestion:{type:"string",title:"Parent question",subtitle:'Adding a value here will add an "Additional question"'},unrelatedQuestion:{type:"string",title:"Unrelated question",subtitle:"This question should come after the Parent and Additional questions"}},dependencies:{parentQuestion:{properties:{addedQuestion:{type:"string",title:"Additional question",subtitle:'This question should only be asked if you answered the "Parent questions"'}},required:["addedQuestion"]}}}}}}},ar={args:{data:{required:["boundaryDataMap"],type:"object",properties:{groupedExample:{type:"object",properties:{boundaryDataMap:{type:"array",title:"Where are the boundaries of this site?",items:{type:"array",items:{type:"array",items:{type:"number"}}}},unrelatedQuestion:{type:"string",title:"Unrelated question",subtitle:"This question should come after the Parent and Additional questions"}}}}},uiSchema:{boundaryDataMap:{"ui:widget":"map"}}}};var ea,ta,ra;ir.parameters={...ir.parameters,docs:{...(ea=ir.parameters)==null?void 0:ea.docs,source:{originalSource:`{
  args: {
    data: {
      required: ["siteUse", "relationshipTo", "address", "name", "age", "consent"],
      type: "object",
      properties: {
        name: {
          type: "string",
          title: "Your name"
        },
        consent: {
          type: "boolean",
          title: "I confirm consent for my data to be processed"
        },
        siteUse: {
          type: "array",
          items: {
            type: "string"
          },
          title: "What use or uses do you think should be considered for this site?",
          subtitle: "You can choose as many uses as you'd like.",
          enum: ["Housing", "Industry - including distribution or logistics uses", "Commercial uses - office, retails, leisure, hotel or mixed", "Community uses", "Minerals - extracting, processing , and so on", "Waste - recycling or processing", "Tourism", "Gypsy and Traveller site", "Travelling Show-people site", "New public green space", "Renewable energy", "Energy storage", "Other"]
        },
        relationshipTo: {
          type: "string",
          title: "Your relationship to the site",
          enum: ["Landowner", "Developer", "Local Authority", "Planning Agent", "None"]
        },
        isBrownfieldSite: {
          type: "boolean",
          title: "Is this a Brownfield Site? "
        },
        age: {
          type: "number",
          title: "Age in years",
          step: 1,
          min: 18,
          max: 35
        },
        address: {
          type: "string",
          title: "Please provide the fullest postal address you can"
        }
      }
    },
    uiSchema: {
      relationshipTo: {
        "ui:widget": "radio"
      },
      isBrownfieldSite: {
        "ui:widget": "radio"
      }
    }
  }
}`,...(ra=(ta=ir.parameters)==null?void 0:ta.docs)==null?void 0:ra.source}}};var na,sa,ia;or.parameters={...or.parameters,docs:{...(na=or.parameters)==null?void 0:na.docs,source:{originalSource:`{
  args: {
    data: {
      required: [],
      type: "object",
      properties: {
        groupedExample: {
          type: "object",
          properties: {
            parentQuestion: {
              type: "string",
              title: "Parent question",
              subtitle: 'Adding a value here will add an "Additional question"'
            },
            unrelatedQuestion: {
              type: "string",
              title: "Unrelated question",
              subtitle: "This question should come after the Parent and Additional questions"
            }
          },
          dependencies: {
            parentQuestion: {
              properties: {
                addedQuestion: {
                  type: "string",
                  title: "Additional question",
                  subtitle: 'This question should only be asked if you answered the "Parent questions"'
                }
              },
              required: ["addedQuestion"]
            }
          }
        }
      }
    }
  }
}`,...(ia=(sa=or.parameters)==null?void 0:sa.docs)==null?void 0:ia.source}}};var oa,aa,ua;ar.parameters={...ar.parameters,docs:{...(oa=ar.parameters)==null?void 0:oa.docs,source:{originalSource:`{
  args: {
    data: {
      required: ["boundaryDataMap"],
      type: "object",
      properties: {
        groupedExample: {
          type: "object",
          properties: {
            boundaryDataMap: {
              type: "array",
              title: "Where are the boundaries of this site?",
              items: {
                type: "array",
                items: {
                  type: "array",
                  items: {
                    type: "number"
                  }
                }
              }
            },
            unrelatedQuestion: {
              type: "string",
              title: "Unrelated question",
              subtitle: "This question should come after the Parent and Additional questions"
            }
          }
        }
      }
    },
    uiSchema: {
      boundaryDataMap: {
        "ui:widget": "map"
      }
    }
  }
}`,...(ua=(aa=ar.parameters)==null?void 0:aa.docs)==null?void 0:ua.source}}};const Dw=["Default","ConditionalPage","MapPage"];export{or as ConditionalPage,ir as Default,ar as MapPage,Dw as __namedExportsOrder,Nw as default};
//# sourceMappingURL=SiteSelection.stories-116e8d68.js.map
