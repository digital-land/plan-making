import{h as N}from"./hooks.module-10a4f742.js";import{o as e}from"./jsxRuntime.module-8e7d8b33.js";import{T as p}from"./Textarea-a2b74182.js";/* empty css                    */import{N as i,P as s,D as y,I as T,F as D}from"./constants-6ab425e5.js";import{R}from"./RadioButtons-900e0ac3.js";import"./preact.module-4f38c496.js";const d=({showDays:t=!0,value:a,onChange:o})=>e("div",{className:"flex mb-4",children:[t&&e("label",{className:"mr-2",children:[e("p",{children:"Day"}),e("input",{type:"text",value:a.day||"",onChange:n=>o({...a,day:n.currentTarget.value}),className:"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]}),e("label",{className:"mx-2",children:[e("p",{children:"Month"}),e("input",{type:"text",value:a.month||"",onChange:n=>o({...a,month:n.currentTarget.value}),className:"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]}),e("label",{className:"mx-2",children:[e("p",{children:"Year"}),e("input",{type:"text",value:a.year||"",onChange:n=>o({...a,year:n.currentTarget.value}),className:"border-2 border-black w-20 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400"})]})]}),F=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Summary text"}),e("p",{className:"text-sm mb-2 text-gray-600",children:"Keep this specific to your own Local Plan"}),e(p,{value:t,onChange:a,maxLength:400})]}),u="title",b="description",x="publishDate",r="scoping",l="gateway1",f="export",m={day:"",month:"",year:""},E={startDate:m,endDate:m,progress:i,additionalInformation:""},Y={[u]:"",[b]:"",[x]:m,[r]:E,[l]:E},G=t=>{const a=K(t);return`data:text/json;charset=urf-8, ${encodeURIComponent(JSON.stringify(a))}`},K=t=>({title:t.title,description:t.description,publishDate:h(t.publishDate),stages:[S(r,"Scoping and early participation",t[r]),S(l,"Gateway 1. Check-point",t[l])]}),S=(t,a,o)=>({key:t,name:a,startDate:h(o.startDate),endDate:h(o.endDate),progress:o.progress,additionalInformation:o.additionalInformation}),h=t=>{const a=t.year?parseInt(t.year):new Date().getFullYear(),o=t.month?parseInt(t.month)-1:0,n=t.day?parseInt(t.day):1;return new Date(a,o,n)},B=({value:t})=>{const a=G(t);return e("div",{children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Export your timetable to JSON"}),e("p",{className:"w-2/3 mb-4",children:"When you have completed all the details, you can export your data into a JSON file that can generate the DLUHC TImetable Template on your website."}),e("p",{className:"text-blue-400 underline mb-4",children:"Read more about how to publish Timetable JSON data online"}),e("a",{role:"button",type:"button",className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",href:a,download:"timetabe.json",children:"Export Timetable JSON"})]})},J=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Timetable published date"}),e("p",{className:"w-1/2",children:"This is the date this version of your timetable will be published publicly online"}),e("p",{className:"text-sm mt-4 mb-2 text-gray-600",children:"For example, 21 3 2025"}),e(d,{value:t,onChange:a})]}),U=[{label:s[i],value:i},{label:s[y],value:y},{label:s[T],value:T},{label:s[D],value:D}],I=({stageName:t,value:a,onChange:o})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-2 text-4xl font-bold",children:t}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Start date"}),e("p",{children:"For example, 3 2025"}),e(d,{value:a.startDate,onChange:n=>o({...a,startDate:n}),showDays:!1})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"End date"}),e(d,{value:a.endDate,onChange:n=>o({...a,endDate:n}),showDays:!1})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Progress"}),e(R,{options:U,value:a.progress,onChange:n=>o({...a,progress:n})})]}),e("div",{className:"my-2",children:[e("h2",{className:"text-2xl font-bold",children:"Additional information (optional)"}),e(p,{value:a.additionalInformation,onChange:n=>o({...a,additionalInformation:n}),maxLength:100})]})]}),k=({value:t,onChange:a})=>e("div",{className:"flex flex-col",children:[e("h1",{className:"my-6 text-3xl font-bold",children:"Local Plan title"}),e("p",{className:"text-sm mb-2 text-gray-600",children:"Such as Birmingham City 2025-2040 Local Plan timetable"}),e(p,{value:t,onChange:a,maxLength:100})]}),H=6,M=(t,a,o)=>{switch(t){case u:return e(k,{value:a[t],onChange:n=>o(t,n)});case b:return e(F,{value:a[t],onChange:n=>o(t,n)});case x:return e(J,{value:a[t],onChange:n=>o(t,n)});case r:return e(I,{stageName:"Scoping and early participation",value:a[t],onChange:n=>o(t,n)});case l:return e(I,{stageName:"Gateway 1. Check-point",value:a[t],onChange:n=>o(t,n)});case f:return e(B,{value:a});default:return null}},W=[u,b,x,r,l,f],j=()=>{const[t,a]=N(Y),[o,n]=N(0),g=W[o],v=M(g,t,(L,A)=>{a({...t,[L]:A})}),C=()=>{o!==0&&n(o-1)},O=()=>{o<H-1&&n(o+1)};return e("div",{children:[e("div",{children:["<",e("p",{className:"underline hover:decoration-2 py-1 px-2 inline-block cursor-pointer",onClick:C,children:"Back"})]}),e("div",{children:v}),g!==f&&e("button",{className:"bg-green-700 hover:bg-green-800 text-white py-1 px-2",onClick:O,children:"Continue"})]})},X=j,ae={component:X,title:"SOW14/Timetable Form",tags:["autodocs"]},c={args:{}};var P,w,_;c.parameters={...c.parameters,docs:{...(P=c.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {}
}`,...(_=(w=c.parameters)==null?void 0:w.docs)==null?void 0:_.source}}};const ne=["Default"];export{c as Default,ne as __namedExportsOrder,ae as default};
//# sourceMappingURL=TimetableForm.stories-726d1d77.js.map
