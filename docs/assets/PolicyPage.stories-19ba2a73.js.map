{"version":3,"file":"PolicyPage.stories-19ba2a73.js","sources":["../../src/components/policyPage/PolicyPage.tsx"],"sourcesContent":["import { ReactNode, useEffect, useState } from \"react\";\nimport { loadJson } from \"src/utils\";\nimport { Policy } from \"../policyForm/types\";\nimport { INITIAL_POLICY_STATE } from \"../policyForm/constants\";\nimport MapComponent from \"../maps/MapComponent\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\ninterface PolicyPageProps {\n  policyFilePath: string;\n}\n\nconst PolicyPage = ({ policyFilePath }: PolicyPageProps) => {\n  const [policyData, setPolicyData] = useState<Policy>(INITIAL_POLICY_STATE);\n\n  const loadData = async () => {\n    if (/.json$/.test(policyFilePath)) {\n      await loadJson(policyFilePath).then((data) => {\n        setPolicyData(data);\n      });\n    }\n  };\n\n  const baseMapProps = {\n    isDrawingMode: false,\n    lat: 54.97,\n    lng: -1.65,\n    zoom: 10,\n    style: { height: \"500px\", width: \"500px\" },\n  };\n\n  const queryClient = new QueryClient();\n\n  useEffect(() => {\n    loadData();\n  }, [setPolicyData, policyFilePath]);\n\n  return (\n    <div>\n      <div>\n        <h1 className=\"my-8 text-3xl font-bold\">\n          {policyData.reference} - {policyData.title}\n        </h1>\n        <p className=\"w-2/3 text-lg mb-8\">{policyData.description}</p>\n        <hr className=\"my-8\"></hr>\n        <h2 className=\"mt-8 text-xl font-bold\">\n          Themes this policy is linked to:\n        </h2>\n        {policyData.themes.map((theme) => (\n          <p key={theme} className=\"text-sm\">\n            {theme}\n          </p>\n        ))}\n        <h2 className=\"mt-8 text-xl font-bold\">Requirements for policy:</h2>\n        {policyData.requirements.map((requirement) => (\n          <p key={requirement} className=\"text-sm\">\n            {requirement}\n          </p>\n        ))}\n        <p className=\"w-2/3 text-lg mb-8 mt-6\">\n          {policyData.supplementaryText}\n        </p>\n        <div>\n          <QueryClientProvider client={queryClient}>\n            {\n              (\n                <MapComponent\n                  baseMapProps={baseMapProps}\n                  showDatasets={false}\n                  boundaries={[policyData.boundary]}\n                />\n              ) as ReactNode\n            }\n          </QueryClientProvider>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PolicyPage;\n"],"names":["PolicyPage","policyFilePath","policyData","setPolicyData","useState","INITIAL_POLICY_STATE","loadData","test","loadJson","then","data","baseMapProps","isDrawingMode","lat","lng","zoom","style","height","width","queryClient","QueryClient","useEffect","_jsx","children","_jsxs","className","reference","title","description","themes","map","theme","requirements","requirement","supplementaryText","QueryClientProvider","client","MapComponent","showDatasets","boundaries","boundary","PolicyPage$1"],"mappings":"iZAUA,MAAMA,EAAaA,CAAC,CAAEC,eAAAA,CAAgC,IAAM,CAC1D,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAiBC,CAAoB,EAEnEC,EAAW,SAAY,CACvB,SAASC,KAAKN,CAAc,GAC9B,MAAMO,EAASP,CAAc,EAAEQ,KAAeC,GAAA,CAC5CP,EAAcO,CAAI,CAAA,CACnB,CACH,EAGIC,EAAe,CACnBC,cAAe,GACfC,IAAK,MACLC,IAAK,MACLC,KAAM,GACNC,MAAO,CAAEC,OAAQ,QAASC,MAAO,OAAQ,CAAA,EAGrCC,EAAc,IAAIC,EAExBC,OAAAA,EAAU,IAAM,CACLf,GAAA,EACR,CAACH,EAAeF,CAAc,CAAC,EAGhCqB,EAAA,MAAA,CAAAC,SACEC,EAAA,MAAA,CAAAD,UACEC,EAAA,KAAA,CAAIC,UAAU,0BAAyBF,SAAA,CACpCrB,EAAWwB,UAAU,MAAIxB,EAAWyB,KAAK,CAAA,CACxC,EACJL,EAAA,IAAA,CAAGG,UAAU,qBAAoBF,SAAErB,EAAW0B,WAAAA,CAAe,EAC7DN,EAAA,KAAA,CAAIG,UAAU,MAAA,CAAW,EACzBH,EAAA,KAAA,CAAIG,UAAU,yBAAwBF,SAAC,kCAAA,CAEnC,EACHrB,EAAW2B,OAAOC,IAAKC,GACtBT,EAAA,IAAA,CAAeG,UAAU,UAASF,SAC/BQ,CADKA,EAAAA,CAEL,CACJ,EACDT,EAAA,KAAA,CAAIG,UAAU,yBAAwBF,SAAC,0BAAA,CAA4B,EAClErB,EAAW8B,aAAaF,IAAKG,GAC5BX,EAAA,IAAA,CAAqBG,UAAU,UAASF,SACrCU,CADKA,EAAAA,CAEL,CACJ,EACDX,EAAA,IAAA,CAAGG,UAAU,0BAAyBF,SACnCrB,EAAWgC,iBAAAA,CACX,EACHZ,EAAA,MAAA,CAAAC,SACED,EAACa,EAAmB,CAACC,OAAQjB,EAAYI,SAGnCD,EAACe,EAAY,CACX1B,aAAAA,EACA2B,aAAc,GACdC,WAAY,CAACrC,EAAWsC,QAAQ,CAAA,CACjC,CAAA,CAGc,CAAA,CAClB,CAAC,CAAA,CACH,CAAA,CACF,CAET,EAEAC,EAAezC;;;;"}