{"version":3,"file":"PolicyForm.stories-e0484c5d.js","sources":["../../src/components/policyForm/constants.ts","../../src/components/policyForm/PolicyForm.tsx"],"sourcesContent":["import { FormState } from \"./types\";\n\nexport const REFERENCE_KEY = \"reference\";\nexport const TITLE_KEY = \"title\";\nexport const DESCRIPTION_KEY = \"description\";\nexport const REQUIREMENTS = \"requirements\";\nexport const BOUNDARY_KEY = \"boundary\";\nexport const THEMES_KEY = \"themes\";\n\nexport const FORM_lABELS = {\n  [REFERENCE_KEY]: \"Reference\",\n  [TITLE_KEY]: \"Title\",\n  [DESCRIPTION_KEY]: \"Description\",\n  [REQUIREMENTS]: \"Requirements\",\n  [BOUNDARY_KEY]: \"Draw a boundary\",\n  [THEMES_KEY]: \"Themes\",\n};\n\nexport const INITIAL_FORM_STATE: FormState = {\n  [REFERENCE_KEY]: \"\",\n  [TITLE_KEY]: \"\",\n  [DESCRIPTION_KEY]: \"\",\n  [REQUIREMENTS]: \"\",\n  [BOUNDARY_KEY]: [],\n  [THEMES_KEY]: [],\n};\n\nexport const THEME_OPTIONS = [\n  { key: \"artsCultureHeritage\", label: \"Arts, Culture and Heritage\" },\n  { key: \"economy\", label: \"Economy\" },\n  { key: \"environmentAndGreenspace\", label: \"Environment and Greenspace\" },\n  { key: \"gettingAround\", label: \"Getting Around\" },\n  { key: \"livingAndHousing\", label: \"Living and Housing\" },\n  { key: \"cityLife\", label: \"City Life\" },\n];\n","import { useState } from \"preact/hooks\";\nimport { Input, MultiSelect, Textarea } from \"../formComponents\";\nimport MapComponent from \"../maps/MapComponent\";\nimport {\n  BOUNDARY_KEY,\n  DESCRIPTION_KEY,\n  FORM_lABELS,\n  INITIAL_FORM_STATE,\n  REFERENCE_KEY,\n  REQUIREMENTS,\n  THEMES_KEY,\n  THEME_OPTIONS,\n  TITLE_KEY,\n} from \"./constants\";\nimport { FormState, FormValue } from \"./types\";\n\nconst PolicyForm = () => {\n  const [formState, setFormState] = useState<FormState>(INITIAL_FORM_STATE);\n\n  const handleValueChange = (key: keyof FormState, value: FormValue) => {\n    setFormState({\n      ...formState,\n      [key]: value,\n    });\n  };\n\n  const handleFormSubmit = () => {\n    console.log(formState);\n  };\n\n  return (\n    <div>\n      <h1 className=\"my-2 text-4xl font-bold\">Create a Policy</h1>\n      <form onSubmit={handleFormSubmit}>\n        <Input\n          label={FORM_lABELS[REFERENCE_KEY]}\n          value={formState[REFERENCE_KEY]}\n          onChange={(value) => handleValueChange(REFERENCE_KEY, value)}\n        />\n\n        <Input\n          label={FORM_lABELS[TITLE_KEY]}\n          value={formState[TITLE_KEY]}\n          onChange={(value) => handleValueChange(TITLE_KEY, value)}\n        />\n        <div className=\"my-8\">\n          <label className=\"text-2xl font-bold\">\n            {FORM_lABELS[THEMES_KEY]}\n          </label>\n          <MultiSelect\n            className=\"mt-2\"\n            options={THEME_OPTIONS}\n            values={formState[THEMES_KEY]}\n            onChange={(value) => handleValueChange(THEMES_KEY, value)}\n          />\n        </div>\n\n        <Textarea\n          label={FORM_lABELS[DESCRIPTION_KEY]}\n          className=\"my-4\"\n          value={formState[DESCRIPTION_KEY]}\n          onChange={(value) => handleValueChange(DESCRIPTION_KEY, value)}\n          maxLength={350}\n        />\n\n        <Textarea\n          label={FORM_lABELS[REQUIREMENTS]}\n          className=\"my-4\"\n          value={formState[REQUIREMENTS]}\n          onChange={(value) => handleValueChange(REQUIREMENTS, value)}\n        />\n\n        <div className=\"my-4\">\n          <label className=\"text-2xl font-bold\">\n            {FORM_lABELS[BOUNDARY_KEY]}\n          </label>\n          <MapComponent\n            className=\"my-1\"\n            style={{ height: \"470px\", width: \"100%\" }}\n            showDatasets={false}\n            value={formState[BOUNDARY_KEY]}\n            onChange={(value) => handleValueChange(BOUNDARY_KEY, value)}\n          />\n        </div>\n\n        <button className=\"mt-8 bg-green-700 hover:bg-green-800 text-white py-1 px-2\">\n          Save\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PolicyForm;\n"],"names":["REFERENCE_KEY","TITLE_KEY","DESCRIPTION_KEY","REQUIREMENTS","BOUNDARY_KEY","THEMES_KEY","FORM_lABELS","INITIAL_FORM_STATE","THEME_OPTIONS","key","label","PolicyForm","formState","setFormState","useState","handleValueChange","value","handleFormSubmit","console","log","_jsxs","children","_jsx","className","onSubmit","Input","onChange","MultiSelect","options","values","Textarea","maxLength","MapComponent","style","height","width","showDatasets","PolicyForm$1"],"mappings":"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"}