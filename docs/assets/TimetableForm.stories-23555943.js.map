{"version":3,"file":"TimetableForm.stories-23555943.js","sources":["../../src/components/formComponents/dateInput/DateInput.tsx","../../src/components/timetableForm/components/DescriptionPage.tsx","../../src/components/timetableForm/components/PublishedDatePage.tsx","../../src/components/timetableForm/components/StagePage.tsx","../../src/components/timetableForm/components/TitlePage.tsx","../../src/components/timetableForm/constants.ts","../../src/components/timetableForm/TimetableForm.tsx"],"sourcesContent":["import { DateValue } from \"./types\";\n\ninterface DateInputProps {\n  showDays?: boolean;\n  value: DateValue;\n  onChange: (value: DateValue) => void;\n}\n\nconst DateInput = ({ showDays = true, value, onChange }: DateInputProps) => {\n  return (\n    <div className=\"flex mb-4\">\n      {showDays && (\n        <label className=\"mr-2\">\n          <p>Day</p>\n          <input\n            type=\"text\"\n            value={value.day || \"\"}\n            onChange={(event) =>\n              onChange({ ...value, day: event.currentTarget.value })\n            }\n            className=\"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n          />\n        </label>\n      )}\n\n      <label className=\"mx-2\">\n        <p>Month</p>\n        <input\n          type=\"text\"\n          value={value.month || \"\"}\n          onChange={(event) =>\n            onChange({ ...value, month: event.currentTarget.value })\n          }\n          className=\"border-2 border-black w-10 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n        />\n      </label>\n\n      <label className=\"mx-2\">\n        <p>Year</p>\n        <input\n          type=\"text\"\n          value={value.year || \"\"}\n          onChange={(event) =>\n            onChange({ ...value, year: event.currentTarget.value })\n          }\n          className=\"border-2 border-black w-20 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n        />\n      </label>\n    </div>\n  );\n};\n\nexport default DateInput;\n","import { Textarea } from \"src/components/formComponents\";\n\ninterface DescriptionPageProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst DescriptionPage = ({ value, onChange }: DescriptionPageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Summary text</h1>\n      <p className=\"text-sm mb-2 text-gray-600\">\n        Keep this specific to your own Local Plan\n      </p>\n      <Textarea value={value} onChange={onChange} maxLength={400} />\n    </div>\n  );\n};\n\nexport default DescriptionPage;\n","import { DateInput } from \"src/components/formComponents\";\nimport { DateValue } from \"src/components/formComponents/dateInput/types\";\n\ninterface PublishedDatePageProps {\n  value: DateValue;\n  onChange: (value: DateValue) => void;\n}\n\nconst PublishedDatePage = ({ value, onChange }: PublishedDatePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Timetable published date</h1>\n      <p className=\"w-1/2\">\n        This is the date this version of your timetable will be published\n        publicly online\n      </p>\n      <p className=\"text-sm mt-4 mb-2 text-gray-600\">For example, 21 3 2025</p>\n      <DateInput value={value} onChange={onChange} />\n    </div>\n  );\n};\n\nexport default PublishedDatePage;\n","import {\n  DateInput,\n  RadioButtons,\n  Textarea,\n} from \"src/components/formComponents\";\nimport { RadioOption } from \"src/components/formComponents/types\";\nimport {\n  DELAYED,\n  FINISHED,\n  IN_PROGRESS,\n  NOT_STARTED,\n  PROGRESS_TEXT_MAP,\n} from \"src/models/timetable/constants\";\nimport { Progress } from \"src/models/timetable/types\";\nimport { Stage } from \"../types\";\n\ninterface StagePageProps {\n  stageName: string;\n  value: Stage;\n  onChange: (value: Stage) => void;\n}\n\nconst PROGRESS_OPTIONS: ReadonlyArray<RadioOption<string>> = [\n  { label: PROGRESS_TEXT_MAP[NOT_STARTED], value: NOT_STARTED },\n  { label: PROGRESS_TEXT_MAP[DELAYED], value: DELAYED },\n  { label: PROGRESS_TEXT_MAP[IN_PROGRESS], value: IN_PROGRESS },\n  { label: PROGRESS_TEXT_MAP[FINISHED], value: FINISHED },\n];\n\nconst StagePage = ({ stageName, value, onChange }: StagePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-2 text-4xl font-bold\">{stageName}</h1>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">Start date</h2>\n        <p>For example, 3 2025</p>\n        <DateInput\n          value={value.startDate}\n          onChange={(startDate) => onChange({ ...value, startDate })}\n          showDays={false}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">End date</h2>\n        <DateInput\n          value={value.endDate}\n          onChange={(endDate) => onChange({ ...value, endDate })}\n          showDays={false}\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">Progress</h2>\n        <RadioButtons\n          options={PROGRESS_OPTIONS}\n          value={value.progress}\n          onChange={(progress) =>\n            onChange({ ...value, progress: progress as Progress })\n          }\n        />\n      </div>\n\n      <div className=\"my-2\">\n        <h2 className=\"text-2xl font-bold\">\n          Additional information (optional)\n        </h2>\n        <Textarea\n          value={value.additionalInformation}\n          onChange={(additionalInformation) =>\n            onChange({ ...value, additionalInformation })\n          }\n          maxLength={100}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default StagePage;\n","import { Textarea } from \"src/components/formComponents\";\n\ninterface TitlePageProps {\n  value: string;\n  onChange: (value: string) => void;\n}\n\nconst TitlePage = ({ value, onChange }: TitlePageProps) => {\n  return (\n    <div className=\"flex flex-col\">\n      <h1 className=\"my-6 text-3xl font-bold\">Local Plan title</h1>\n      <p className=\"text-sm mb-2 text-gray-600\">\n        Such as Birmingham City 2025-2040 Local Plan timetable\n      </p>\n      <Textarea value={value} onChange={onChange} maxLength={100} />\n    </div>\n  );\n};\n\nexport default TitlePage;\n","import { NOT_STARTED } from \"src/models/timetable/constants\";\nimport { FormState, Stage } from \"./types\";\nimport { DateValue } from \"../formComponents/dateInput/types\";\n\nexport const TITLE_KEY = \"title\";\nexport const DESCRIPTION_KEY = \"description\";\nexport const PUBLISH_DATE_KEY = \"publishDate\";\nexport const SCOPING_KEY = \"scoping\";\nexport const GATEWAY_1_KEY = \"gateway1\";\n\nconst DEFAULT_DATE: DateValue = { day: \"\", month: \"\", year: \"\" };\n\nconst INITIAL_STAGE: Stage = {\n  startDate: DEFAULT_DATE,\n  endDate: DEFAULT_DATE,\n  progress: NOT_STARTED,\n  additionalInformation: \"\",\n};\n\nexport const INITIAL_STATE: FormState = {\n  [TITLE_KEY]: \"\",\n  [DESCRIPTION_KEY]: \"\",\n  [PUBLISH_DATE_KEY]: DEFAULT_DATE,\n  [SCOPING_KEY]: INITIAL_STAGE,\n  [GATEWAY_1_KEY]: INITIAL_STAGE,\n};\n","import { useState } from \"preact/hooks\";\nimport DescriptionPage from \"./components/DescriptionPage\";\nimport PublishedDatePage from \"./components/PublishedDatePage\";\nimport StagePage from \"./components/StagePage\";\nimport TitlePage from \"./components/TitlePage\";\nimport {\n  DESCRIPTION_KEY,\n  GATEWAY_1_KEY,\n  INITIAL_STATE,\n  PUBLISH_DATE_KEY,\n  SCOPING_KEY,\n  TITLE_KEY,\n} from \"./constants\";\nimport { FormState, FormValue } from \"./types\";\n\nconst TOTAL_PAGES = 5;\n\nconst renderPage = (\n  key: string,\n  value: FormState,\n  handleValueChange: (key: keyof FormState, value: FormValue) => void,\n) => {\n  switch (key) {\n    case TITLE_KEY:\n      return (\n        <TitlePage\n          value={value[key]}\n          onChange={(title) => handleValueChange(key, title)}\n        />\n      );\n    case DESCRIPTION_KEY:\n      return (\n        <DescriptionPage\n          value={value[key]}\n          onChange={(description) => handleValueChange(key, description)}\n        />\n      );\n    case PUBLISH_DATE_KEY:\n      return (\n        <PublishedDatePage\n          value={value[key]}\n          onChange={(publishDate) => handleValueChange(key, publishDate)}\n        />\n      );\n    case SCOPING_KEY:\n      return (\n        <StagePage\n          stageName=\"Scoping and early participation\"\n          value={value[key]}\n          onChange={(stage) => handleValueChange(key, stage)}\n        />\n      );\n    case GATEWAY_1_KEY:\n      return (\n        <StagePage\n          stageName=\"Gateway 1. Check-point\"\n          value={value[key]}\n          onChange={(stage) => handleValueChange(key, stage)}\n        />\n      );\n    default:\n      return null;\n  }\n};\n\nconst FORM_KEY_LIST = [\n  TITLE_KEY,\n  DESCRIPTION_KEY,\n  PUBLISH_DATE_KEY,\n  SCOPING_KEY,\n  GATEWAY_1_KEY,\n];\n\nconst TimetableForm = () => {\n  const [data, setData] = useState<FormState>(INITIAL_STATE);\n  const [currentPageIndex, setCurrentPageIndex] = useState(0);\n\n  const currentPage = FORM_KEY_LIST[currentPageIndex];\n\n  const handleValueChange = (key: keyof FormState, value: FormValue) => {\n    setData({ ...data, [key]: value });\n  };\n\n  const Page = renderPage(currentPage, data, handleValueChange);\n\n  const handleBackClicked = () => {\n    if (currentPageIndex !== 0) {\n      setCurrentPageIndex(currentPageIndex - 1);\n    }\n  };\n\n  const handleContinueClicked = () => {\n    if (currentPageIndex < TOTAL_PAGES - 1) {\n      setCurrentPageIndex(currentPageIndex + 1);\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        &lt;\n        <p\n          className=\"underline hover:decoration-2 py-1 px-2 inline-block cursor-pointer\"\n          onClick={handleBackClicked}\n        >\n          Back\n        </p>\n      </div>\n      <div>{Page}</div>\n      <button\n        className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n        onClick={handleContinueClicked}\n      >\n        Continue\n      </button>\n    </div>\n  );\n};\n\nexport default TimetableForm;\n"],"names":["DateInput","showDays","value","onChange","_jsxs","className","children","_jsx","type","day","event","currentTarget","month","year","DescriptionPage","Textarea","maxLength","PublishedDatePage","PROGRESS_OPTIONS","label","PROGRESS_TEXT_MAP","NOT_STARTED","DELAYED","IN_PROGRESS","FINISHED","StagePage","stageName","startDate","endDate","RadioButtons","options","progress","additionalInformation","TitlePage","TITLE_KEY","DESCRIPTION_KEY","PUBLISH_DATE_KEY","SCOPING_KEY","GATEWAY_1_KEY","DEFAULT_DATE","INITIAL_STAGE","INITIAL_STATE","TOTAL_PAGES","renderPage","key","handleValueChange","title","description","publishDate","stage","FORM_KEY_LIST","TimetableForm","data","setData","useState","currentPageIndex","setCurrentPageIndex","currentPage","Page","handleBackClicked","handleContinueClicked","onClick","TimetableForm$1"],"mappings":"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"}