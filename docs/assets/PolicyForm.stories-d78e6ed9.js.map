{"version":3,"file":"PolicyForm.stories-d78e6ed9.js","sources":["../../src/components/policyForm/components/MultiItem.tsx","../../src/components/policyForm/PolicyForm.tsx"],"sourcesContent":["interface MultiItemProps {\n  label?: string;\n  values?: ReadonlyArray<string>;\n  className?: string;\n  onChange: (values: ReadonlyArray<string>) => void;\n}\n\nconst MultiItem = ({\n  label,\n  values = [],\n  className,\n  onChange,\n}: MultiItemProps) => {\n  const handleValueChange = (index: number, newValue: string) => {\n    let newState = [...values];\n\n    newState[index] = newValue;\n\n    onChange(newState);\n  };\n\n  const handleAddClicked = () => {\n    onChange([...values, \"\"]);\n  };\n\n  const handleDeleteClicked = (index: number) => {\n    const newState = [...values];\n\n    newState.splice(index, 1);\n\n    onChange(newState);\n  };\n\n  const inputs = values.map((value, index) => {\n    return (\n      <div className=\"flex flex-row my-4\">\n        <p className=\"flex flex-col justify-center pr-2 font-bold\">{`${index}.`}</p>\n        <input\n          type=\"string\"\n          class=\"font-semibold text-base text mr-2 border-2 border-black py-1 px-2 focus:outline-offset-2 focus:outline-2 focus:outline-yellow-400\"\n          value={value}\n          onChange={(event) =>\n            handleValueChange(index, event.currentTarget.value)\n          }\n        />\n        <button\n          className=\"bg-red-700 hover:bg-red-800 text-white py-1 px-2\"\n          type=\"button\"\n          onClick={() => handleDeleteClicked(index)}\n        >\n          Delete\n        </button>\n      </div>\n    );\n  });\n\n  const parentClass = `my-4 align-middle ${className}`;\n\n  return (\n    <div className={parentClass}>\n      <label className=\"text-xl font-bold\">{label}</label>\n      <div className=\"my-2\">{inputs}</div>\n      <button\n        className=\"bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n        type=\"button\"\n        onClick={handleAddClicked}\n      >\n        Add\n      </button>\n    </div>\n  );\n};\n\nexport default MultiItem;\n","import { useState } from \"preact/hooks\";\nimport { Input, MultiSelect, Textarea } from \"../formComponents\";\nimport MapComponent from \"../maps/MapComponent\";\nimport {\n  BOUNDARY_KEY,\n  DESCRIPTION_KEY,\n  FORM_lABELS,\n  INITIAL_POLICY_STATE,\n  REFERENCE_KEY,\n  REQUIREMENTS,\n  SUPPLEMENTARY_TEXT_KEY,\n  THEMES_KEY,\n  THEME_OPTIONS,\n  TITLE_KEY,\n} from \"./constants\";\nimport { FormValue, Policy } from \"./types\";\nimport MultiItem from \"./components/MultiItem\";\n\nconst PolicyForm = () => {\n  const [formState, setFormState] = useState<Policy>(INITIAL_POLICY_STATE);\n\n  const handleValueChange = (key: keyof Policy, value: FormValue) => {\n    setFormState({\n      ...formState,\n      [key]: value,\n    });\n  };\n\n  const handleFormSubmit = () => {\n    console.log(formState);\n  };\n\n  return (\n    <div>\n      <h1 className=\"my-2 text-4xl font-bold\">Create a Policy</h1>\n      <form>\n        <h2 className=\"my-8 text-3xl font-bold\">Policy details</h2>\n\n        <div className=\"my-4\">\n          <label className=\"text-xl font-bold\">{FORM_lABELS[THEMES_KEY]}</label>\n          <MultiSelect\n            className=\"mt-2\"\n            options={THEME_OPTIONS}\n            values={formState[THEMES_KEY]}\n            onChange={(value) => handleValueChange(THEMES_KEY, value)}\n          />\n        </div>\n\n        <Input\n          label={FORM_lABELS[TITLE_KEY]}\n          value={formState[TITLE_KEY]}\n          onChange={(value) => handleValueChange(TITLE_KEY, value)}\n        />\n\n        <Input\n          label={FORM_lABELS[REFERENCE_KEY]}\n          value={formState[REFERENCE_KEY]}\n          onChange={(value) => handleValueChange(REFERENCE_KEY, value)}\n        />\n\n        <h2 className=\"my-2 text-3xl font-bold\">Policy box</h2>\n\n        <Textarea\n          label={FORM_lABELS[DESCRIPTION_KEY]}\n          className=\"my-4\"\n          value={formState[DESCRIPTION_KEY]}\n          onChange={(value) => handleValueChange(DESCRIPTION_KEY, value)}\n          maxLength={350}\n        />\n\n        {/*time peroid*/}\n\n        <MultiItem\n          label={FORM_lABELS[REQUIREMENTS]}\n          values={formState[REQUIREMENTS]}\n          onChange={(value) => handleValueChange(REQUIREMENTS, value)}\n        />\n\n        <div className=\"my-4\">\n          <label className=\"text-xl font-bold\">\n            {FORM_lABELS[BOUNDARY_KEY]}\n          </label>\n          <MapComponent\n            className=\"my-1\"\n            style={{ height: \"470px\", width: \"100%\" }}\n            showDatasets={false}\n            value={formState[BOUNDARY_KEY]}\n            onChange={(value) => handleValueChange(BOUNDARY_KEY, value)}\n          />\n        </div>\n\n        <h2 className=\"my-2 text-3xl font-bold\">Supplementary text</h2>\n\n        <Textarea\n          label={FORM_lABELS[SUPPLEMENTARY_TEXT_KEY]}\n          className=\"my-4\"\n          value={formState[SUPPLEMENTARY_TEXT_KEY]}\n          onChange={(value) => handleValueChange(SUPPLEMENTARY_TEXT_KEY, value)}\n        />\n\n        <button\n          type=\"button\"\n          className=\"mt-8 bg-green-700 hover:bg-green-800 text-white py-1 px-2\"\n          onClick={handleFormSubmit}\n        >\n          Save\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default PolicyForm;\n"],"names":["MultiItem","label","values","className","onChange","handleValueChange","index","newValue","newState","handleAddClicked","handleDeleteClicked","splice","inputs","map","value","_jsxs","children","_jsx","type","class","event","currentTarget","onClick","parentClass","PolicyForm","formState","setFormState","useState","INITIAL_POLICY_STATE","key","handleFormSubmit","console","log","FORM_lABELS","THEMES_KEY","MultiSelect","options","THEME_OPTIONS","Input","TITLE_KEY","REFERENCE_KEY","Textarea","DESCRIPTION_KEY","maxLength","REQUIREMENTS","BOUNDARY_KEY","MapComponent","style","height","width","showDatasets","SUPPLEMENTARY_TEXT_KEY","PolicyForm$1"],"mappings":"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"}